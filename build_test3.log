make  all-recursive
make[1]: Entering directory '/home/runner/work/cognu-mach/cognu-mach'
make[2]: Entering directory '/home/runner/work/cognu-mach/cognu-mach'
depbase=`echo ipc/copy_user.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT ipc/copy_user.o -MD -MP -MF $depbase.Tpo -c -o ipc/copy_user.o ipc/copy_user.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ipc/copy_user.c:24:
./ipc/copy_user.h: In function ‘copyout_64to32’:
./ipc/copy_user.h:50:19: warning: conversion from ‘uint64_t’ {aka ‘long unsigned int’} to ‘uint32_t’ {aka ‘unsigned int’} may change value [-Wconversion]
   50 |   uint32_t rkaddr=*kaddr;
      |                   ^
ipc/copy_user.c: In function ‘mach_msg_user_type_to_kernel_long’:
ipc/copy_user.c:102:20: warning: conversion from ‘short unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  102 |       .msgt_name = u->msgtl_name,
      |                    ^
ipc/copy_user.c: In function ‘mach_msg_kernel_type_to_user’:
ipc/copy_user.c:117:18: warning: conversion from ‘short unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  117 |   u->msgt_size = k->msgt_size;
      |                  ^
ipc/copy_user.c:118:20: warning: conversion from ‘mach_msg_type_number_t’ {aka ‘unsigned int’} to ‘short unsigned int:12’ may change value [-Wconversion]
  118 |   u->msgt_number = k->msgt_number;
      |                    ^
ipc/copy_user.c: In function ‘adjust_msg_type_size’:
ipc/copy_user.c:31:30: warning: conversion from ‘int’ to ‘short unsigned int’ may change value [-Wconversion]
   31 | #define bytes_to_descsize(n) (n * 8)
      |                              ^
ipc/copy_user.c:218:27: note: in expansion of macro ‘bytes_to_descsize’
  218 |       kmtl->msgtl_size += bytes_to_descsize(amount);
      |                           ^~~~~~~~~~~~~~~~~
ipc/copy_user.c:31:30: warning: conversion from ‘int’ to ‘short unsigned int’ may change value [-Wconversion]
   31 | #define bytes_to_descsize(n) (n * 8)
      |                              ^
ipc/copy_user.c:222:25: note: in expansion of macro ‘bytes_to_descsize’
  222 |       kmt->msgt_size += bytes_to_descsize(amount);
      |                         ^~~~~~~~~~~~~~~~~
ipc/copy_user.c: In function ‘copyout_unpack_msg_type’:
ipc/copy_user.c:247:26: warning: conversion from ‘mach_msg_type_size_t’ {aka ‘unsigned int’} to ‘short unsigned int’ may change value [-Wconversion]
  247 |       kmtl->msgtl_size = orig_size;
      |                          ^~~~~~~~~
ipc/copy_user.c:264:24: warning: conversion from ‘mach_msg_type_size_t’ {aka ‘unsigned int’} to ‘short unsigned int’ may change value [-Wconversion]
  264 |       kmt->msgt_size = orig_size;
      |                        ^~~~~~~~~
In file included from ./kern/sched_prim.h:38,
                 from ./machine/locore.h:24,
                 from ./ipc/copy_user.h:25:
ipc/copy_user.c: In function ‘msg_usize’:
./include/mach/message.h:426:52: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4’ to ‘18446744073709551612’ [-Wsign-conversion]
  426 |         ( ( ((vm_offset_t)(x)) + ((alignment)-1) ) & ~((alignment)-1) )
      |                                                    ^
./include/mach/message.h:427:32: note: in expansion of macro ‘mach_msg_align’
  427 | #define mach_msg_user_align(x) mach_msg_align(x, MACH_MSG_USER_ALIGNMENT)
      |                                ^~~~~~~~~~~~~~
ipc/copy_user.c:305:19: note: in expansion of macro ‘mach_msg_user_align’
  305 |           usize = mach_msg_user_align(usize);
      |                   ^~~~~~~~~~~~~~~~~~~
./include/mach/message.h:426:52: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4’ to ‘18446744073709551612’ [-Wsign-conversion]
  426 |         ( ( ((vm_offset_t)(x)) + ((alignment)-1) ) & ~((alignment)-1) )
      |                                                    ^
./include/mach/message.h:427:32: note: in expansion of macro ‘mach_msg_align’
  427 | #define mach_msg_user_align(x) mach_msg_align(x, MACH_MSG_USER_ALIGNMENT)
      |                                ^~~~~~~~~~~~~~
ipc/copy_user.c:329:19: note: in expansion of macro ‘mach_msg_user_align’
  329 |           usize = mach_msg_user_align(usize);
      |                   ^~~~~~~~~~~~~~~~~~~
ipc/copy_user.c: In function ‘copyinmsg’:
./include/mach/message.h:426:52: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4’ to ‘18446744073709551612’ [-Wsign-conversion]
  426 |         ( ( ((vm_offset_t)(x)) + ((alignment)-1) ) & ~((alignment)-1) )
      |                                                    ^
./include/mach/message.h:427:32: note: in expansion of macro ‘mach_msg_align’
  427 | #define mach_msg_user_align(x) mach_msg_align(x, MACH_MSG_USER_ALIGNMENT)
      |                                ^~~~~~~~~~~~~~
ipc/copy_user.c:387:20: note: in expansion of macro ‘mach_msg_user_align’
  387 |           usaddr = mach_msg_user_align(usaddr);
      |                    ^~~~~~~~~~~~~~~~~~~
./include/mach/message.h:426:52: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4’ to ‘18446744073709551612’ [-Wsign-conversion]
  426 |         ( ( ((vm_offset_t)(x)) + ((alignment)-1) ) & ~((alignment)-1) )
      |                                                    ^
./include/mach/message.h:427:32: note: in expansion of macro ‘mach_msg_align’
  427 | #define mach_msg_user_align(x) mach_msg_align(x, MACH_MSG_USER_ALIGNMENT)
      |                                ^~~~~~~~~~~~~~
ipc/copy_user.c:439:20: note: in expansion of macro ‘mach_msg_user_align’
  439 |           usaddr = mach_msg_user_align(usaddr);
      |                    ^~~~~~~~~~~~~~~~~~~
ipc/copy_user.c:444:21: warning: conversion from ‘long unsigned int’ to ‘mach_msg_size_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  444 |   kmsg->msgh_size = sizeof(mach_msg_header_t) + ksaddr - (vm_offset_t)(kmsg + 1);
      |                     ^~~~~~
ipc/copy_user.c: In function ‘copyoutmsg’:
./include/mach/message.h:426:52: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4’ to ‘18446744073709551612’ [-Wsign-conversion]
  426 |         ( ( ((vm_offset_t)(x)) + ((alignment)-1) ) & ~((alignment)-1) )
      |                                                    ^
./include/mach/message.h:427:32: note: in expansion of macro ‘mach_msg_align’
  427 | #define mach_msg_user_align(x) mach_msg_align(x, MACH_MSG_USER_ALIGNMENT)
      |                                ^~~~~~~~~~~~~~
ipc/copy_user.c:495:20: note: in expansion of macro ‘mach_msg_user_align’
  495 |           usaddr = mach_msg_user_align(usaddr);
      |                    ^~~~~~~~~~~~~~~~~~~
./include/mach/message.h:426:52: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4’ to ‘18446744073709551612’ [-Wsign-conversion]
  426 |         ( ( ((vm_offset_t)(x)) + ((alignment)-1) ) & ~((alignment)-1) )
      |                                                    ^
./include/mach/message.h:427:32: note: in expansion of macro ‘mach_msg_align’
  427 | #define mach_msg_user_align(x) mach_msg_align(x, MACH_MSG_USER_ALIGNMENT)
      |                                ^~~~~~~~~~~~~~
ipc/copy_user.c:528:20: note: in expansion of macro ‘mach_msg_user_align’
  528 |           usaddr = mach_msg_user_align(usaddr);
      |                    ^~~~~~~~~~~~~~~~~~~
ipc/copy_user.c:534:11: warning: conversion from ‘long unsigned int’ to ‘mach_msg_size_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  534 |   usize = sizeof(mach_msg_user_header_t) + usaddr - (vm_offset_t)(umsg + 1);
      |           ^~~~~~
depbase=`echo ipc/ipc_entry.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT ipc/ipc_entry.o -MD -MP -MF $depbase.Tpo -c -o ipc/ipc_entry.o ipc/ipc_entry.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from ipc/ipc_entry.c:37:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ipc/ipc_entry.c:44:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46,
                 from ./kern/ipc_kobject.h:44,
                 from ./ipc/ipc_port.h:47,
                 from ./ipc/ipc_space.h:52,
                 from ipc/ipc_entry.c:48:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/sys/types.h:29,
                 from ./kern/printf.h:27:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
depbase=`echo ipc/ipc_init.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT ipc/ipc_init.o -MD -MP -MF $depbase.Tpo -c -o ipc/ipc_init.o ipc/ipc_init.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from ./machine/percpu.h:71,
                 from ./kern/processor.h:138,
                 from ./kern/ipc_host.h:34,
                 from ipc/ipc_init.c:38:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ipc/ipc_init.c:39:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ipc/ipc_init.c:40:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ./ipc/ipc_space.h:52,
                 from ipc/ipc_init.c:43:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/mach/port.h:39,
                 from ./kern/ipc_host.h:33:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
depbase=`echo ipc/ipc_kmsg.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT ipc/ipc_kmsg.o -MD -MP -MF $depbase.Tpo -c -o ipc/ipc_kmsg.o ipc/ipc_kmsg.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from ipc/ipc_kmsg.c:37:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ipc/ipc_kmsg.c:48:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53,
                 from ./vm/pmap.h:45:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ipc/ipc_kmsg.c:53:
./ipc/copy_user.h: In function ‘copyout_64to32’:
./ipc/copy_user.h:50:19: warning: conversion from ‘uint64_t’ {aka ‘long unsigned int’} to ‘uint32_t’ {aka ‘unsigned int’} may change value [-Wconversion]
   50 |   uint32_t rkaddr=*kaddr;
      |                   ^
In file included from ./ipc/ipc_space.h:52,
                 from ipc/ipc_kmsg.c:60:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/sys/types.h:29,
                 from ./kern/printf.h:27:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
ipc/ipc_kmsg.c: In function ‘ipc_kmsg_free’:
ipc/ipc_kmsg.c:461:13: warning: unsigned conversion from ‘int’ to ‘vm_size_t’ {aka ‘long unsigned int’} changes value from ‘-1’ to ‘18446744073709551615’ [-Wsign-conversion]
  461 |             case IKM_SIZE_NETWORK:
      |             ^~~~
In file included from ipc/ipc_kmsg.c:55:
ipc/ipc_kmsg.c: In function ‘ipc_kmsg_get’:
./ipc/ipc_kmsg.h:107:20: warning: declaration of ‘__kmsg’ shadows a previous local [-Wshadow]
  107 |         ipc_kmsg_t __kmsg = ikm_cache();                                \
      |                    ^~~~~~
./ipc/ipc_kmsg.h:117:29: note: in expansion of macro ‘ikm_cache_alloc_try’
  117 |         ipc_kmsg_t __kmsg = ikm_cache_alloc_try();                      \
      |                             ^~~~~~~~~~~~~~~~~~~
ipc/ipc_kmsg.c:533:24: note: in expansion of macro ‘ikm_cache_alloc’
  533 |                 kmsg = ikm_cache_alloc();
      |                        ^~~~~~~~~~~~~~~
./ipc/ipc_kmsg.h:117:20: note: shadowed declaration is here
  117 |         ipc_kmsg_t __kmsg = ikm_cache_alloc_try();                      \
      |                    ^~~~~~
ipc/ipc_kmsg.c:533:24: note: in expansion of macro ‘ikm_cache_alloc’
  533 |                 kmsg = ikm_cache_alloc();
      |                        ^~~~~~~~~~~~~~~
ipc/ipc_kmsg.c: In function ‘ipc_kmsg_copyin_header’:
ipc/ipc_kmsg.c:689:48: warning: unsigned conversion from ‘int’ to ‘mach_msg_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  689 |         mach_msg_bits_t mbits = msg->msgh_bits &~ MACH_MSGH_BITS_CIRCULAR;
      |                                                ^
In file included from ipc/ipc_kmsg.c:42:
./include/mach/message.h:102:25: warning: unsigned conversion from ‘int’ to ‘mach_msg_bits_t’ {aka ‘unsigned int’} changes value from ‘-65536’ to ‘4294901760’ [-Wsign-conversion]
  102 |                 ((bits) &~ MACH_MSGH_BITS_PORTS_MASK)
      |                         ^
ipc/ipc_kmsg.c:755:35: note: in expansion of macro ‘MACH_MSGH_BITS_OTHER’
  755 |                 msg->msgh_bits = (MACH_MSGH_BITS_OTHER(mbits) |
      |                                   ^~~~~~~~~~~~~~~~~~~~
./include/mach/message.h:102:25: warning: unsigned conversion from ‘int’ to ‘mach_msg_bits_t’ {aka ‘unsigned int’} changes value from ‘-65536’ to ‘4294901760’ [-Wsign-conversion]
  102 |                 ((bits) &~ MACH_MSGH_BITS_PORTS_MASK)
      |                         ^
ipc/ipc_kmsg.c:838:35: note: in expansion of macro ‘MACH_MSGH_BITS_OTHER’
  838 |                 msg->msgh_bits = (MACH_MSGH_BITS_OTHER(mbits) |
      |                                   ^~~~~~~~~~~~~~~~~~~~
./include/mach/message.h:102:25: warning: unsigned conversion from ‘int’ to ‘mach_msg_bits_t’ {aka ‘unsigned int’} changes value from ‘-65536’ to ‘4294901760’ [-Wsign-conversion]
  102 |                 ((bits) &~ MACH_MSGH_BITS_PORTS_MASK)
      |                         ^
ipc/ipc_kmsg.c:901:35: note: in expansion of macro ‘MACH_MSGH_BITS_OTHER’
  901 |                 msg->msgh_bits = (MACH_MSGH_BITS_OTHER(mbits) |
      |                                   ^~~~~~~~~~~~~~~~~~~~
./include/mach/message.h:102:25: warning: unsigned conversion from ‘int’ to ‘mach_msg_bits_t’ {aka ‘unsigned int’} changes value from ‘-65536’ to ‘4294901760’ [-Wsign-conversion]
  102 |                 ((bits) &~ MACH_MSGH_BITS_PORTS_MASK)
      |                         ^
ipc/ipc_kmsg.c:1311:27: note: in expansion of macro ‘MACH_MSGH_BITS_OTHER’
 1311 |         msg->msgh_bits = (MACH_MSGH_BITS_OTHER(mbits) |
      |                           ^~~~~~~~~~~~~~~~~~~~
ipc/ipc_kmsg.c: In function ‘ipc_kmsg_copyin_body’:
ipc/ipc_kmsg.c:1461:62: warning: conversion from ‘vm_size_t’ {aka ‘long unsigned int’} to ‘int’ may change value [-Wconversion]
 1461 |                                               (char *) data, length)) {
      |                                                              ^~~~~~
ipc/ipc_kmsg.c:1530:52: warning: conversion from ‘mach_msg_type_name_t’ {aka ‘unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
 1530 |                                 type->msgtl_name = newname;
      |                                                    ^~~~~~~
ipc/ipc_kmsg.c:1532:71: warning: conversion from ‘mach_msg_type_name_t’ {aka ‘unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
 1532 |                                 ((mach_msg_type_t*)type)->msgt_name = newname;
      |                                                                       ^~~~~~~
ipc/ipc_kmsg.c:1535:57: warning: conversion from ‘mach_port_t’ {aka ‘long unsigned int’} to ‘mach_port_name_t’ {aka ‘unsigned int’} may change value [-Wconversion]
 1535 |                                 mach_port_name_t port = ((mach_port_t*)data)[i];
      |                                                         ^
ipc/ipc_kmsg.c: In function ‘ipc_kmsg_copyin_from_kernel’:
./include/mach/message.h:102:25: warning: unsigned conversion from ‘int’ to ‘mach_msg_bits_t’ {aka ‘unsigned int’} changes value from ‘-65536’ to ‘4294901760’ [-Wsign-conversion]
  102 |                 ((bits) &~ MACH_MSGH_BITS_PORTS_MASK)
      |                         ^
ipc/ipc_kmsg.c:1660:25: note: in expansion of macro ‘MACH_MSGH_BITS_OTHER’
 1660 |                 bits = (MACH_MSGH_BITS_OTHER(bits) |
      |                         ^~~~~~~~~~~~~~~~~~~~
ipc/ipc_kmsg.c:1729:52: warning: conversion from ‘mach_msg_type_name_t’ {aka ‘unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
 1729 |                                 type->msgtl_name = newname;
      |                                                    ^~~~~~~
ipc/ipc_kmsg.c:1731:71: warning: conversion from ‘mach_msg_type_name_t’ {aka ‘unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
 1731 |                                 ((mach_msg_type_t*)type)->msgt_name = newname;
      |                                                                       ^~~~~~~
ipc/ipc_kmsg.c: In function ‘ipc_kmsg_copyout_header’:
./include/mach/message.h:102:25: warning: unsigned conversion from ‘int’ to ‘mach_msg_bits_t’ {aka ‘unsigned int’} changes value from ‘-65536’ to ‘4294901760’ [-Wsign-conversion]
  102 |                 ((bits) &~ MACH_MSGH_BITS_PORTS_MASK)
      |                         ^
ipc/ipc_kmsg.c:1837:43: note: in expansion of macro ‘MACH_MSGH_BITS_OTHER’
 1837 |                         msg->msgh_bits = (MACH_MSGH_BITS_OTHER(mbits) |
      |                                           ^~~~~~~~~~~~~~~~~~~~
./include/mach/message.h:102:25: warning: unsigned conversion from ‘int’ to ‘mach_msg_bits_t’ {aka ‘unsigned int’} changes value from ‘-65536’ to ‘4294901760’ [-Wsign-conversion]
  102 |                 ((bits) &~ MACH_MSGH_BITS_PORTS_MASK)
      |                         ^
ipc/ipc_kmsg.c:1841:43: note: in expansion of macro ‘MACH_MSGH_BITS_OTHER’
 1841 |                         msg->msgh_bits = (MACH_MSGH_BITS_OTHER(mbits) |
      |                                           ^~~~~~~~~~~~~~~~~~~~
ipc/ipc_kmsg.c:1906:40: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
 1906 |                 assert((entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                        ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
ipc/ipc_kmsg.c:1906:17: note: in expansion of macro ‘assert’
 1906 |                 assert((entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                 ^~~~~~
./include/mach/message.h:102:25: warning: unsigned conversion from ‘int’ to ‘mach_msg_bits_t’ {aka ‘unsigned int’} changes value from ‘-65536’ to ‘4294901760’ [-Wsign-conversion]
  102 |                 ((bits) &~ MACH_MSGH_BITS_PORTS_MASK)
      |                         ^
ipc/ipc_kmsg.c:1942:43: note: in expansion of macro ‘MACH_MSGH_BITS_OTHER’
 1942 |                         msg->msgh_bits = (MACH_MSGH_BITS_OTHER(mbits) |
      |                                           ^~~~~~~~~~~~~~~~~~~~
./include/mach/message.h:102:25: warning: unsigned conversion from ‘int’ to ‘mach_msg_bits_t’ {aka ‘unsigned int’} changes value from ‘-65536’ to ‘4294901760’ [-Wsign-conversion]
  102 |                 ((bits) &~ MACH_MSGH_BITS_PORTS_MASK)
      |                         ^
ipc/ipc_kmsg.c:1947:43: note: in expansion of macro ‘MACH_MSGH_BITS_OTHER’
 1947 |                         msg->msgh_bits = (MACH_MSGH_BITS_OTHER(mbits) |
      |                                           ^~~~~~~~~~~~~~~~~~~~
./include/mach/message.h:102:25: warning: unsigned conversion from ‘int’ to ‘mach_msg_bits_t’ {aka ‘unsigned int’} changes value from ‘-65536’ to ‘4294901760’ [-Wsign-conversion]
  102 |                 ((bits) &~ MACH_MSGH_BITS_PORTS_MASK)
      |                         ^
ipc/ipc_kmsg.c:1987:43: note: in expansion of macro ‘MACH_MSGH_BITS_OTHER’
 1987 |                         msg->msgh_bits = (MACH_MSGH_BITS_OTHER(mbits) |
      |                                           ^~~~~~~~~~~~~~~~~~~~
./include/mach/message.h:102:25: warning: unsigned conversion from ‘int’ to ‘mach_msg_bits_t’ {aka ‘unsigned int’} changes value from ‘-65536’ to ‘4294901760’ [-Wsign-conversion]
  102 |                 ((bits) &~ MACH_MSGH_BITS_PORTS_MASK)
      |                         ^
ipc/ipc_kmsg.c:1992:43: note: in expansion of macro ‘MACH_MSGH_BITS_OTHER’
 1992 |                         msg->msgh_bits = (MACH_MSGH_BITS_OTHER(mbits) |
      |                                           ^~~~~~~~~~~~~~~~~~~~
./include/mach/message.h:102:25: warning: unsigned conversion from ‘int’ to ‘mach_msg_bits_t’ {aka ‘unsigned int’} changes value from ‘-65536’ to ‘4294901760’ [-Wsign-conversion]
  102 |                 ((bits) &~ MACH_MSGH_BITS_PORTS_MASK)
      |                         ^
ipc/ipc_kmsg.c:2283:35: note: in expansion of macro ‘MACH_MSGH_BITS_OTHER’
 2283 |                 msg->msgh_bits = (MACH_MSGH_BITS_OTHER(mbits) |
      |                                   ^~~~~~~~~~~~~~~~~~~~
./include/mach/message.h:102:25: warning: unsigned conversion from ‘int’ to ‘mach_msg_bits_t’ {aka ‘unsigned int’} changes value from ‘-65536’ to ‘4294901760’ [-Wsign-conversion]
  102 |                 ((bits) &~ MACH_MSGH_BITS_PORTS_MASK)
      |                         ^
ipc/ipc_kmsg.c:2287:35: note: in expansion of macro ‘MACH_MSGH_BITS_OTHER’
 2287 |                 msg->msgh_bits = (MACH_MSGH_BITS_OTHER(mbits) |
      |                                   ^~~~~~~~~~~~~~~~~~~~
ipc/ipc_kmsg.c: In function ‘ipc_kmsg_copyout_body’:
ipc/ipc_kmsg.c:2547:74: warning: conversion from ‘vm_size_t’ {aka ‘long unsigned int’} to ‘int’ may change value [-Wconversion]
 2547 |                                                           (char *) addr, length);
      |                                                                          ^~~~~~
ipc/ipc_kmsg.c: In function ‘ipc_kmsg_copyout_pseudo’:
ipc/ipc_kmsg.c:2670:44: warning: unsigned conversion from ‘int’ to ‘mach_msg_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
 2670 |         kmsg->ikm_header.msgh_bits = mbits &~ MACH_MSGH_BITS_CIRCULAR;
      |                                            ^
ipc/ipc_kmsg.c: In function ‘ipc_kmsg_copyout_dest’:
./include/mach/message.h:102:25: warning: unsigned conversion from ‘int’ to ‘mach_msg_bits_t’ {aka ‘unsigned int’} changes value from ‘-65536’ to ‘4294901760’ [-Wsign-conversion]
  102 |                 ((bits) &~ MACH_MSGH_BITS_PORTS_MASK)
      |                         ^
ipc/ipc_kmsg.c:2720:39: note: in expansion of macro ‘MACH_MSGH_BITS_OTHER’
 2720 |         kmsg->ikm_header.msgh_bits = (MACH_MSGH_BITS_OTHER(mbits) |
      |                                       ^~~~~~~~~~~~~~~~~~~~
depbase=`echo ipc/ipc_marequest.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT ipc/ipc_marequest.o -MD -MP -MF $depbase.Tpo -c -o ipc/ipc_marequest.o ipc/ipc_marequest.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ipc/ipc_marequest.c:41:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from ./ipc/ipc_space.h:44,
                 from ipc/ipc_marequest.c:44:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46,
                 from ./kern/ipc_kobject.h:44,
                 from ./ipc/ipc_port.h:47,
                 from ./ipc/ipc_space.h:52:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/mach/port.h:39,
                 from ./include/mach/message.h:36,
                 from ipc/ipc_marequest.c:37:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
ipc/ipc_marequest.c: In function ‘ipc_marequest_destroy’:
ipc/ipc_marequest.c:377:40: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-2097153’ to ‘4292870143’ [-Wsign-conversion]
  377 |                         entry->ie_bits &= ~IE_BITS_MAREQUEST;
      |                                        ^~
depbase=`echo ipc/ipc_mqueue.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT ipc/ipc_mqueue.o -MD -MP -MF $depbase.Tpo -c -o ipc/ipc_mqueue.o ipc/ipc_mqueue.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./kern/ipc_kobject.h:44,
                 from ipc/ipc_mqueue.c:44:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from ./vm/pmap.h:45:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ipc/ipc_mqueue.c:45:
./ipc/copy_user.h: In function ‘copyout_64to32’:
./ipc/copy_user.h:50:19: warning: conversion from ‘uint64_t’ {aka ‘long unsigned int’} to ‘uint32_t’ {aka ‘unsigned int’} may change value [-Wconversion]
   50 |   uint32_t rkaddr=*kaddr;
      |                   ^
In file included from ipc/ipc_mqueue.c:49:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/mach/port.h:39,
                 from ipc/ipc_mqueue.c:37:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
In file included from ipc/ipc_mqueue.c:51:
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
depbase=`echo ipc/ipc_notify.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT ipc/ipc_notify.o -MD -MP -MF $depbase.Tpo -c -o ipc/ipc_notify.o ipc/ipc_notify.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from ipc/ipc_notify.c:34:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ipc/ipc_notify.c:39:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ipc/ipc_notify.c:42:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
ipc/ipc_notify.c: In function ‘ipc_notify_port_deleted’:
ipc/ipc_notify.c:270:50: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  270 |         n = (mach_port_deleted_notification_t *) &kmsg->ikm_header;
      |                                                  ^~~~~~~~~~~~~~~~~
ipc/ipc_notify.c: In function ‘ipc_notify_msg_accepted’:
ipc/ipc_notify.c:304:50: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  304 |         n = (mach_msg_accepted_notification_t *) &kmsg->ikm_header;
      |                                                  ^~~~~~~~~~~~~~~~~
ipc/ipc_notify.c: In function ‘ipc_notify_port_destroyed’:
ipc/ipc_notify.c:343:52: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  343 |         n = (mach_port_destroyed_notification_t *) &kmsg->ikm_header;
      |                                                    ^~~~~~~~~~~~~~~~~
ipc/ipc_notify.c: In function ‘ipc_notify_no_senders’:
ipc/ipc_notify.c:377:48: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  377 |         n = (mach_no_senders_notification_t *) &kmsg->ikm_header;
      |                                                ^~~~~~~~~~~~~~~~~
ipc/ipc_notify.c: In function ‘ipc_notify_send_once’:
ipc/ipc_notify.c:409:47: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  409 |         n = (mach_send_once_notification_t *) &kmsg->ikm_header;
      |                                               ^~~~~~~~~~~~~~~~~
ipc/ipc_notify.c: In function ‘ipc_notify_dead_name’:
ipc/ipc_notify.c:442:47: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  442 |         n = (mach_dead_name_notification_t *) &kmsg->ikm_header;
      |                                               ^~~~~~~~~~~~~~~~~
depbase=`echo ipc/ipc_object.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT ipc/ipc_object.o -MD -MP -MF $depbase.Tpo -c -o ipc/ipc_object.o ipc/ipc_object.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from ./ipc/ipc_space.h:44,
                 from ipc/ipc_object.c:41:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_space.h:49:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46,
                 from ./kern/ipc_kobject.h:44,
                 from ./ipc/ipc_port.h:47,
                 from ./ipc/ipc_space.h:52:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/sys/types.h:29,
                 from ./include/string.h:29,
                 from ipc/ipc_object.c:34:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
depbase=`echo ipc/ipc_port.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT ipc/ipc_port.o -MD -MP -MF $depbase.Tpo -c -o ipc/ipc_port.o ipc/ipc_port.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from ipc/ipc_port.c:37:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./kern/ipc_kobject.h:44,
                 from ipc/ipc_port.c:44:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ./ipc/ipc_space.h:52,
                 from ipc/ipc_port.c:46:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/sys/types.h:29,
                 from ./kern/printf.h:27:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
ipc/ipc_port.c: In function ‘ipc_port_alloc’:
ipc/ipc_port.c:565:55: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
  565 |                               &name, (ipc_object_t *) &port);
      |                                                       ^~~~~
ipc/ipc_port.c: In function ‘ipc_port_alloc_name’:
ipc/ipc_port.c:604:59: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
  604 |                                    name, (ipc_object_t *) &port);
      |                                                           ^~~~~
ipc/ipc_port.c: In function ‘ipc_port_alloc_special’:
ipc/ipc_port.c:1200:36: warning: cast from pointer to integer of different size [-Wpointer-to-int-cast]
 1200 |         ipc_port_init(port, space, (mach_port_name_t)port);
      |                                    ^
depbase=`echo ipc/ipc_pset.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT ipc/ipc_pset.o -MD -MP -MF $depbase.Tpo -c -o ipc/ipc_pset.o ipc/ipc_pset.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from ipc/ipc_pset.c:39:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./ipc/ipc_mqueue.h:42,
                 from ipc/ipc_pset.c:43:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ./ipc/ipc_right.h:42,
                 from ipc/ipc_pset.c:46:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/sys/types.h:29,
                 from ./kern/printf.h:27:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
In file included from ipc/ipc_pset.c:47:
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
ipc/ipc_pset.c: In function ‘ipc_pset_alloc’:
ipc/ipc_pset.c:81:55: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
   81 |                               &name, (ipc_object_t *) &pset);
      |                                                       ^~~~~
ipc/ipc_pset.c: In function ‘ipc_pset_alloc_name’:
ipc/ipc_pset.c:118:59: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
  118 |                                    name, (ipc_object_t *) &pset);
      |                                                           ^~~~~
depbase=`echo ipc/ipc_right.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT ipc/ipc_right.o -MD -MP -MF $depbase.Tpo -c -o ipc/ipc_right.o ipc/ipc_right.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from ./ipc/ipc_entry.h:41,
                 from ipc/ipc_right.c:43:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_entry.h:44:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46,
                 from ./kern/ipc_kobject.h:44,
                 from ./ipc/ipc_port.h:47,
                 from ./ipc/ipc_space.h:52,
                 from ipc/ipc_right.c:44:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/mach/port.h:39,
                 from ipc/ipc_right.c:38:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
ipc/ipc_right.c: In function ‘ipc_right_check’:
ipc/ipc_right.c:390:30: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-2097153’ to ‘4292870143’ [-Wsign-conversion]
  390 |                         bits &= ~IE_BITS_MAREQUEST;
      |                              ^~
ipc/ipc_right.c:406:22: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-2031617’ to ‘4292935679’ [-Wsign-conversion]
  406 |         bits = (bits &~ IE_BITS_TYPE_MASK) | MACH_PORT_TYPE_DEAD_NAME;
      |                      ^
ipc/ipc_right.c: In function ‘ipc_right_delta’:
ipc/ipc_right.c:935:30: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-2097153’ to ‘4292870143’ [-Wsign-conversion]
  935 |                         bits &= ~IE_BITS_MAREQUEST;
      |                              ^~
ipc/ipc_right.c:969:30: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-2031617’ to ‘4292935679’ [-Wsign-conversion]
  969 |                         bits &= ~IE_BITS_TYPE_MASK;
      |                              ^~
In file included from ipc/ipc_right.c:42:
./ipc/port.h:81:29: warning: conversion to ‘mach_port_urefs_t’ {aka ‘unsigned int’} from ‘mach_port_delta_t’ {aka ‘int’} may change the sign of the result [-Wsign-conversion]
   81 |                  ((((urefs) + (delta)) <= (urefs)) ||                   \
      |                             ^
ipc/ipc_right.c:1070:21: note: in expansion of macro ‘MACH_PORT_UREFS_OVERFLOW’
 1070 |                 if (MACH_PORT_UREFS_OVERFLOW(urefs, delta))
      |                     ^~~~~~~~~~~~~~~~~~~~~~~~
./ipc/port.h:82:29: warning: conversion to ‘mach_port_urefs_t’ {aka ‘unsigned int’} from ‘mach_port_delta_t’ {aka ‘int’} may change the sign of the result [-Wsign-conversion]
   82 |                   (((urefs) + (delta)) > MACH_PORT_UREFS_MAX)))
      |                             ^
ipc/ipc_right.c:1070:21: note: in expansion of macro ‘MACH_PORT_UREFS_OVERFLOW’
 1070 |                 if (MACH_PORT_UREFS_OVERFLOW(urefs, delta))
      |                     ^~~~~~~~~~~~~~~~~~~~~~~~
ipc/ipc_right.c:1073:28: warning: conversion to ‘mach_port_urefs_t’ {aka ‘unsigned int’} from ‘mach_port_delta_t’ {aka ‘int’} may change the sign of the result [-Wsign-conversion]
 1073 |                 if ((urefs + delta) == 0)
      |                            ^
ipc/ipc_right.c:1076:47: warning: conversion to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} from ‘mach_port_delta_t’ {aka ‘int’} may change the sign of the result [-Wsign-conversion]
 1076 |                         entry->ie_bits = bits + delta;
      |                                               ^
./ipc/port.h:81:29: warning: conversion to ‘mach_port_urefs_t’ {aka ‘unsigned int’} from ‘mach_port_delta_t’ {aka ‘int’} may change the sign of the result [-Wsign-conversion]
   81 |                  ((((urefs) + (delta)) <= (urefs)) ||                   \
      |                             ^
ipc/ipc_right.c:1097:21: note: in expansion of macro ‘MACH_PORT_UREFS_OVERFLOW’
 1097 |                 if (MACH_PORT_UREFS_OVERFLOW(urefs+1, delta))
      |                     ^~~~~~~~~~~~~~~~~~~~~~~~
./ipc/port.h:82:29: warning: conversion to ‘mach_port_urefs_t’ {aka ‘unsigned int’} from ‘mach_port_delta_t’ {aka ‘int’} may change the sign of the result [-Wsign-conversion]
   82 |                   (((urefs) + (delta)) > MACH_PORT_UREFS_MAX)))
      |                             ^
ipc/ipc_right.c:1097:21: note: in expansion of macro ‘MACH_PORT_UREFS_OVERFLOW’
 1097 |                 if (MACH_PORT_UREFS_OVERFLOW(urefs+1, delta))
      |                     ^~~~~~~~~~~~~~~~~~~~~~~~
ipc/ipc_right.c:1111:28: warning: conversion to ‘mach_port_urefs_t’ {aka ‘unsigned int’} from ‘mach_port_delta_t’ {aka ‘int’} may change the sign of the result [-Wsign-conversion]
 1111 |                 if ((urefs + delta) == 0) {
      |                            ^
ipc/ipc_right.c:1145:47: warning: conversion to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} from ‘mach_port_delta_t’ {aka ‘int’} may change the sign of the result [-Wsign-conversion]
 1145 |                         entry->ie_bits = bits + delta;
      |                                               ^
ipc/ipc_right.c: In function ‘ipc_right_copyin_undo’:
ipc/ipc_right.c:1684:41: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-4194304’ to ‘4290772992’ [-Wsign-conversion]
 1684 |                 entry->ie_bits = ((bits &~ IE_BITS_RIGHT_MASK) |
      |                                         ^
ipc/ipc_right.c:1691:41: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-4194304’ to ‘4290772992’ [-Wsign-conversion]
 1691 |                 entry->ie_bits = ((bits &~ IE_BITS_RIGHT_MASK) |
      |                                         ^
depbase=`echo ipc/ipc_space.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT ipc/ipc_space.o -MD -MP -MF $depbase.Tpo -c -o ipc/ipc_space.o ipc/ipc_space.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ipc/ipc_space.c:46:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from ./ipc/ipc_entry.h:41,
                 from ipc/ipc_space.c:48:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46,
                 from ./kern/ipc_kobject.h:44,
                 from ./ipc/ipc_port.h:47,
                 from ipc/ipc_space.c:50:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/sys/types.h:29,
                 from ./include/string.h:29,
                 from ipc/ipc_space.c:39:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
In file included from ipc/ipc_space.c:51:
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
depbase=`echo ipc/ipc_table.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT ipc/ipc_table.o -MD -MP -MF $depbase.Tpo -c -o ipc/ipc_table.o ipc/ipc_table.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./kern/ipc_kobject.h:44,
                 from ./ipc/ipc_port.h:47,
                 from ipc/ipc_table.c:39:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from ./vm/pmap.h:45:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
ipc/ipc_table.c: In function ‘ipc_table_fill’:
ipc/ipc_table.c:66:47: warning: conversion from ‘vm_size_t’ {aka ‘long unsigned int’} to ‘ipc_table_elems_t’ {aka ‘unsigned int’} may change value [-Wconversion]
   66 |                         its[index].its_size = size / elemsize;
      |                                               ^~~~
ipc/ipc_table.c:80:55: warning: conversion from ‘vm_size_t’ {aka ‘long unsigned int’} to ‘ipc_table_elems_t’ {aka ‘unsigned int’} may change value [-Wconversion]
   80 |                                 its[index].its_size = size / elemsize;
      |                                                       ^~~~
depbase=`echo ipc/ipc_target.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT ipc/ipc_target.o -MD -MP -MF $depbase.Tpo -c -o ipc/ipc_target.o ipc/ipc_target.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ipc/ipc_mqueue.h:42,
                 from ipc/ipc_target.h:28,
                 from ipc/ipc_target.c:26:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from ./vm/pmap.h:45:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
depbase=`echo ipc/ipc_thread.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT ipc/ipc_thread.o -MD -MP -MF $depbase.Tpo -c -o ipc/ipc_thread.o ipc/ipc_thread.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from ./ipc/ipc_thread.h:39,
                 from ipc/ipc_thread.c:40:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./kern/thread.h:54:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
depbase=`echo ipc/mach_msg.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT ipc/mach_msg.o -MD -MP -MF $depbase.Tpo -c -o ipc/mach_msg.o ipc/mach_msg.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from ipc/mach_msg.c:46:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./kern/exception.h:23,
                 from ipc/mach_msg.c:49:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ipc/mach_msg.c:51:
./ipc/copy_user.h: In function ‘copyout_64to32’:
./ipc/copy_user.h:50:19: warning: conversion from ‘uint64_t’ {aka ‘long unsigned int’} to ‘uint32_t’ {aka ‘unsigned int’} may change value [-Wconversion]
   50 |   uint32_t rkaddr=*kaddr;
      |                   ^
In file included from ipc/mach_msg.c:57:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/mach/port.h:39,
                 from ipc/mach_msg.c:40:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
In file included from ipc/mach_msg.c:59:
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
In file included from ipc/mach_msg.c:54:
ipc/mach_msg.c: In function ‘mach_msg_send’:
./ipc/ipc_mqueue.h:95:27: warning: declaration of ‘mr’ shadows a previous local [-Wshadow]
   95 |         mach_msg_return_t mr;                                           \
      |                           ^~
ipc/mach_msg.c:134:33: note: in expansion of macro ‘ipc_mqueue_send_always’
  134 |                                 ipc_mqueue_send_always(kmsg);
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
ipc/mach_msg.c:102:27: note: shadowed declaration is here
  102 |         mach_msg_return_t mr;
      |                           ^~
ipc/mach_msg.c: In function ‘mach_msg_trap’:
ipc/mach_msg.c:487:33: warning: conversion from ‘mach_port_t’ {aka ‘long unsigned int’} to ‘mach_port_name_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  487 |                                 kmsg->ikm_header.msgh_local_port;
      |                                 ^~~~
ipc/mach_msg.c:508:33: warning: conversion from ‘mach_port_t’ {aka ‘long unsigned int’} to ‘mach_port_name_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  508 |                                 kmsg->ikm_header.msgh_remote_port;
      |                                 ^~~~
ipc/mach_msg.c:613:33: warning: conversion from ‘mach_port_t’ {aka ‘long unsigned int’} to ‘mach_port_name_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  613 |                                 kmsg->ikm_header.msgh_local_port;
      |                                 ^~~~
ipc/mach_msg.c:625:33: warning: conversion from ‘mach_port_t’ {aka ‘long unsigned int’} to ‘mach_port_name_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  625 |                                 kmsg->ikm_header.msgh_remote_port;
      |                                 ^~~~
ipc/mach_msg.c:1009:48: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
 1009 |                         assert((entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                                ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
ipc/mach_msg.c:1009:25: note: in expansion of macro ‘assert’
 1009 |                         assert((entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                         ^~~~~~
./ipc/ipc_mqueue.h:95:27: warning: declaration of ‘mr’ shadows a previous local [-Wshadow]
   95 |         mach_msg_return_t mr;                                           \
      |                           ^~
ipc/mach_msg.c:1338:25: note: in expansion of macro ‘ipc_mqueue_send_always’
 1338 |                         ipc_mqueue_send_always(kmsg);
      |                         ^~~~~~~~~~~~~~~~~~~~~~
ipc/mach_msg.c:392:27: note: shadowed declaration is here
  392 |         mach_msg_return_t mr;
      |                           ^~
./ipc/ipc_mqueue.h:95:27: warning: declaration of ‘mr’ shadows a previous local [-Wshadow]
   95 |         mach_msg_return_t mr;                                           \
      |                           ^~
ipc/mach_msg.c:1358:25: note: in expansion of macro ‘ipc_mqueue_send_always’
 1358 |                         ipc_mqueue_send_always(kmsg);
      |                         ^~~~~~~~~~~~~~~~~~~~~~
ipc/mach_msg.c:392:27: note: shadowed declaration is here
  392 |         mach_msg_return_t mr;
      |                           ^~
rm -f ipc/mach_port.server.defs.c
cp -p ipc/mach_port.srv ipc/mach_port.server.defs.c
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa -E  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT ipc/lib_dep_tr_for_defs_a-mach_port.server.defs.o -MD -MP -MF ipc/.deps/lib_dep_tr_for_defs_a-mach_port.server.defs.Tpo -c -o ipc/lib_dep_tr_for_defs_a-mach_port.server.defs.o `test -f 'ipc/mach_port.server.defs.c' || echo './'`ipc/mach_port.server.defs.c
mv -f ipc/.deps/lib_dep_tr_for_defs_a-mach_port.server.defs.Tpo ipc/.deps/lib_dep_tr_for_defs_a-mach_port.server.defs.Po
/home/runner/work/cognu-mach/cognu-mach/scripts/mig-wrapper.sh -n -cc cat - /dev/null  	\
  -sheader ipc/mach_port.server.h -server ipc/mach_port.server.c		\
  -list ipc/mach_port.server.msgids				\
  < ipc/lib_dep_tr_for_defs_a-mach_port.server.defs.o
Fixed 64-bit type size assertions in ipc/mach_port.server.c
depbase=`echo ipc/mach_port.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT ipc/mach_port.o -MD -MP -MF $depbase.Tpo -c -o ipc/mach_port.o ipc/mach_port.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from ipc/mach_port.c:40:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ipc/mach_port.c:51:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53,
                 from ./vm/pmap.h:45:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ./ipc/ipc_space.h:52,
                 from ipc/mach_port.c:55:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./kern/debug.h:31,
                 from ipc/mach_port.c:39:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
In file included from ./ipc/mach_port.server.h:13,
                 from ipc/mach_port.c:62:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
ipc/mach_port.c: In function ‘mach_port_names_helper’:
ipc/mach_port.c:107:30: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-4128769’ to ‘4290838527’ [-Wsign-conversion]
  107 |                         bits &= ~(IE_BITS_TYPE_MASK|IE_BITS_MAREQUEST);
      |                              ^~
ipc/mach_port.c: In function ‘mach_port_names’:
ipc/mach_port.c:188:25: warning: conversion from ‘size_t’ {aka ‘long unsigned int’} to ‘ipc_entry_num_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  188 |                 bound = space->is_size;
      |                         ^~~~~
In file included from ipc/mach_port.c:45:
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
ipc/mach_port.c:189:31: note: in expansion of macro ‘round_page’
  189 |                 size_needed = round_page(bound * sizeof(mach_port_name_t));
      |                               ^~~~~~~~~~
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
ipc/mach_port.c:257:29: note: in expansion of macro ‘round_page’
  257 |                 size_used = round_page(actual * sizeof(mach_port_name_t));
      |                             ^~~~~~~~~~
ipc/mach_port.c: In function ‘mach_port_set_qlimit’:
ipc/mach_port.c:768:54: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
  768 |         kr = ipc_port_translate_receive(space, name, &port);
./ipc/ipc_port.h:202:56: note: in definition of macro ‘ipc_port_translate_receive’
  202 |                                      (ipc_object_t *) (portp))
      |                                                        ^~~~~
ipc/mach_port.c: In function ‘mach_port_set_mscount’:
ipc/mach_port.c:805:54: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
  805 |         kr = ipc_port_translate_receive(space, name, &port);
./ipc/ipc_port.h:202:56: note: in definition of macro ‘ipc_port_translate_receive’
  202 |                                      (ipc_object_t *) (portp))
      |                                                        ^~~~~
ipc/mach_port.c: In function ‘mach_port_set_seqno’:
ipc/mach_port.c:842:54: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
  842 |         kr = ipc_port_translate_receive(space, name, &port);
./ipc/ipc_port.h:202:56: note: in definition of macro ‘ipc_port_translate_receive’
  202 |                                      (ipc_object_t *) (portp))
      |                                                        ^~~~~
ipc/mach_port.c: In function ‘mach_port_get_set_status’:
ipc/mach_port.c:962:28: warning: conversion from ‘long unsigned int’ to ‘ipc_entry_num_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  962 |                 maxnames = size / sizeof(mach_port_name_t);
      |                            ^~~~
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
ipc/mach_port.c:987:24: note: in expansion of macro ‘round_page’
  987 |                 size = round_page(actual * sizeof(mach_port_name_t)) + PAGE_SIZE;
      |                        ^~~~~~~~~~
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
ipc/mach_port.c:997:29: note: in expansion of macro ‘round_page’
  997 |                 size_used = round_page(actual * sizeof(mach_port_name_t));
      |                             ^~~~~~~~~~
ipc/mach_port.c: In function ‘mach_port_request_notification’:
ipc/mach_port.c:1162:62: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
 1162 |                 kr = ipc_port_translate_receive(space, name, &port);
./ipc/ipc_port.h:202:56: note: in definition of macro ‘ipc_port_translate_receive’
  202 |                                      (ipc_object_t *) (portp))
      |                                                        ^~~~~
ipc/mach_port.c:1177:62: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
 1177 |                 kr = ipc_port_translate_receive(space, name, &port);
./ipc/ipc_port.h:202:56: note: in definition of macro ‘ipc_port_translate_receive’
  202 |                                      (ipc_object_t *) (portp))
      |                                                        ^~~~~
ipc/mach_port.c: In function ‘mach_port_get_receive_status’:
ipc/mach_port.c:1308:54: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
 1308 |         kr = ipc_port_translate_receive(space, name, &port);
./ipc/ipc_port.h:202:56: note: in definition of macro ‘ipc_port_translate_receive’
  202 |                                      (ipc_object_t *) (portp))
      |                                                        ^~~~~
ipc/mach_port.c: In function ‘mach_port_set_protected_payload’:
ipc/mach_port.c:1523:54: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
 1523 |         kr = ipc_port_translate_receive(space, name, &port);
./ipc/ipc_port.h:202:56: note: in definition of macro ‘ipc_port_translate_receive’
  202 |                                      (ipc_object_t *) (portp))
      |                                                        ^~~~~
ipc/mach_port.c: In function ‘mach_port_clear_protected_payload’:
ipc/mach_port.c:1559:54: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
 1559 |         kr = ipc_port_translate_receive(space, name, &port);
./ipc/ipc_port.h:202:56: note: in definition of macro ‘ipc_port_translate_receive’
  202 |                                      (ipc_object_t *) (portp))
      |                                                        ^~~~~
rm -f kern/mach_debug.server.defs.c
cp -p kern/mach_debug.srv kern/mach_debug.server.defs.c
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa -E  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/lib_dep_tr_for_defs_a-mach_debug.server.defs.o -MD -MP -MF kern/.deps/lib_dep_tr_for_defs_a-mach_debug.server.defs.Tpo -c -o kern/lib_dep_tr_for_defs_a-mach_debug.server.defs.o `test -f 'kern/mach_debug.server.defs.c' || echo './'`kern/mach_debug.server.defs.c
mv -f kern/.deps/lib_dep_tr_for_defs_a-mach_debug.server.defs.Tpo kern/.deps/lib_dep_tr_for_defs_a-mach_debug.server.defs.Po
/home/runner/work/cognu-mach/cognu-mach/scripts/mig-wrapper.sh -n -cc cat - /dev/null  	\
  -sheader kern/mach_debug.server.h -server kern/mach_debug.server.c		\
  -list kern/mach_debug.server.msgids				\
  < kern/lib_dep_tr_for_defs_a-mach_debug.server.defs.o
Fixed 64-bit type size assertions in kern/mach_debug.server.c
depbase=`echo ipc/mach_debug.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT ipc/mach_debug.o -MD -MP -MF $depbase.Tpo -c -o ipc/mach_debug.o ipc/mach_debug.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./kern/ipc_kobject.h:44,
                 from ./kern/mach_debug.server.h:12,
                 from ipc/mach_debug.c:44:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from ./vm/pmap.h:45:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ./kern/mach_debug.server.h:13:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
In file included from ./kern/thread.h:53:
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
In file included from ./ipc/ipc_space.h:52,
                 from ./kern/mach_debug.server.h:21:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/sys/types.h:29,
                 from ./include/string.h:29,
                 from ipc/mach_debug.c:36:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
ipc/mach_debug.c: In function ‘mach_port_get_srights’:
ipc/mach_debug.c:83:54: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
   83 |         kr = ipc_port_translate_receive(space, name, &port);
./ipc/ipc_port.h:202:56: note: in definition of macro ‘ipc_port_translate_receive’
  202 |                                      (ipc_object_t *) (portp))
      |                                                        ^~~~~
In file included from ipc/mach_debug.c:41:
ipc/mach_debug.c: In function ‘host_ipc_marequest_info’:
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
ipc/mach_debug.c:138:24: note: in expansion of macro ‘round_page’
  138 |                 size = round_page(actual * sizeof *info);
      |                        ^~~~~~~~~~
ipc/mach_debug.c:144:29: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  144 |                 potential = size/sizeof *info;
      |                             ^~~~
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
ipc/mach_debug.c:159:24: note: in expansion of macro ‘round_page’
  159 |                 used = round_page(actual * sizeof *info);
      |                        ^~~~~~~~~~
ipc/mach_debug.c: In function ‘mach_port_dnrequest_info’:
ipc/mach_debug.c:204:54: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
  204 |         kr = ipc_port_translate_receive(space, name, &port);
./ipc/ipc_port.h:202:56: note: in definition of macro ‘ipc_port_translate_receive’
  202 |                                      (ipc_object_t *) (portp))
      |                                                        ^~~~~
depbase=`echo kern/act.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/act.o -MD -MP -MF $depbase.Tpo -c -o kern/act.o kern/act.c &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo kern/ast.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/ast.o -MD -MP -MF $depbase.Tpo -c -o kern/ast.o kern/ast.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from kern/ast.c:45:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./kern/thread.h:54:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53,
                 from ./ipc/ipc_kmsg.h:46,
                 from ./device/net_io.h:39,
                 from kern/ast.c:47:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from kern/ast.c:38:
kern/ast.c: In function ‘ast_check’:
./kern/ast.h:98:30: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   98 |         if ((need_ast[mycpu] |= (reasons)) != AST_ZILCH)                \
      |                              ^~
./kern/ast.h:108:41: note: in expansion of macro ‘ast_on’
  108 | #define ast_propagate(thread, mycpu)    ast_on((mycpu), (thread)->ast)
      |                                         ^~~~~~
kern/ast.c:156:17: note: in expansion of macro ‘ast_propagate’
  156 |                 ast_propagate(thread, mycpu);
      |                 ^~~~~~~~~~~~~
depbase=`echo kern/bootstrap.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/bootstrap.o -MD -MP -MF $depbase.Tpo -c -o kern/bootstrap.o kern/bootstrap.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./machine/pcb.h:32,
                 from kern/bootstrap.c:40:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./kern/ipc_kobject.h:44,
                 from ./ipc/ipc_port.h:47,
                 from kern/bootstrap.c:41:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from ./vm/pmap.h:45,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./ipc/mach_port.server.h:13,
                 from kern/bootstrap.c:42:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
In file included from ./kern/thread.h:53:
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/sys/types.h:29,
                 from ./include/string.h:29,
                 from kern/bootstrap.c:34:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
In file included from ./ipc/mach_port.server.h:21:
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
kern/bootstrap.c: In function ‘bootstrap_create’:
kern/bootstrap.c:283:19: warning: conversion from ‘size_t’ {aka ‘long unsigned int’} to ‘int’ may change value [-Wconversion]
  283 |         int len = strlen (kernel_cmdline) + 1;
      |                   ^~~~~~
In file included from kern/bootstrap.c:33:
kern/bootstrap.c:284:35: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  284 |         char *s = memcpy (alloca (len), kernel_cmdline, len);
      |                                   ^~~
./include/alloca.h:23:39: note: in definition of macro ‘alloca’
   23 | #define alloca(size) __builtin_alloca(size)
      |                                       ^~~~
kern/bootstrap.c:284:57: warning: conversion to ‘size_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  284 |         char *s = memcpy (alloca (len), kernel_cmdline, len);
      |                                                         ^~~
kern/bootstrap.c: In function ‘itoa’:
kern/bootstrap.c:382:21: warning: conversion from ‘vm_size_t’ {aka ‘long unsigned int’} to ‘char’ may change value [-Wconversion]
  382 |             *--np = '0' + num % 10;
      |                     ^~~
In file included from ./machine/vm_param.h:29,
                 from kern/bootstrap.c:39:
kern/bootstrap.c: In function ‘read_exec’:
./include/mach/vm_param.h:87:59: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   87 | #define trunc_page(x)   ((vm_offset_t)(((vm_offset_t)(x)) & ~PAGE_MASK))
      |                                                           ^
kern/bootstrap.c:503:22: note: in expansion of macro ‘trunc_page’
  503 |         start_page = trunc_page(mem_addr);
      |                      ^~~~~~~~~~
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
kern/bootstrap.c:504:20: note: in expansion of macro ‘round_page’
  504 |         end_page = round_page(mem_addr + mem_size);
      |                    ^~~~~~~~~~
./include/mach/vm_param.h:87:59: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   87 | #define trunc_page(x)   ((vm_offset_t)(((vm_offset_t)(x)) & ~PAGE_MASK))
      |                                                           ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
kern/bootstrap.c:513:9: note: in expansion of macro ‘assert’
  513 |         assert(start_page == trunc_page(mem_addr));
      |         ^~~~~~
kern/bootstrap.c:513:30: note: in expansion of macro ‘trunc_page’
  513 |         assert(start_page == trunc_page(mem_addr));
      |                              ^~~~~~~~~~
kern/bootstrap.c: In function ‘build_args_and_stack’:
kern/bootstrap.c:601:21: warning: conversion to ‘size_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  601 |             arg_len += strlen(arg_ptr) + 1;
      |                     ^~
kern/bootstrap.c:601:24: warning: conversion from ‘size_t’ {aka ‘long unsigned int’} to ‘int’ may change value [-Wconversion]
  601 |             arg_len += strlen(arg_ptr) + 1;
      |                        ^~~~~~
kern/bootstrap.c:606:21: warning: conversion to ‘size_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  606 |             arg_len += strlen (envp[envc++]) + 1;
      |                     ^~
kern/bootstrap.c:606:24: warning: conversion from ‘size_t’ {aka ‘long unsigned int’} to ‘int’ may change value [-Wconversion]
  606 |             arg_len += strlen (envp[envc++]) + 1;
      |                        ^~~~~~
kern/bootstrap.c:617:50: warning: conversion to ‘long unsigned int’ from ‘long int’ may change the sign of the result [-Wsign-conversion]
  617 |                     + (arg_count + 1 + envc + 1) * sizeof(rpc_vm_offset_t));
      |                                                  ^
kern/bootstrap.c:616:17: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  616 |         arg_len += (sizeof(rpc_vm_offset_t)
      |                 ^~
kern/bootstrap.c:616:20: warning: conversion from ‘long unsigned int’ to ‘int’ may change value [-Wconversion]
  616 |         arg_len += (sizeof(rpc_vm_offset_t)
      |                    ^
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
kern/bootstrap.c:622:22: note: in expansion of macro ‘round_page’
  622 |         stack_size = round_page(STACK_SIZE);
      |                      ^~~~~~~~~~
kern/bootstrap.c:631:71: warning: conversion to ‘vm_size_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  631 |                 set_user_regs(stack_base, stack_size, boot_exec_info, arg_len);
      |                                                                       ^~~~~~~
kern/bootstrap.c:638:52: warning: conversion to ‘long unsigned int’ from ‘long int’ may change the sign of the result [-Wsign-conversion]
  638 |                       + (arg_count + 1 + envc + 1) * sizeof(rpc_vm_offset_t));
      |                                                    ^
kern/bootstrap.c:654:28: warning: conversion from ‘size_t’ {aka ‘long unsigned int’} to ‘int’ may change value [-Wconversion]
  654 |             arg_item_len = strlen(arg_ptr) + 1; /* include trailing 0 */
      |                            ^~~~~~
kern/bootstrap.c:661:49: warning: conversion to ‘size_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  661 |             (void) copyout(arg_ptr, string_pos, arg_item_len);
      |                                                 ^~~~~~~~~~~~
kern/bootstrap.c:677:28: warning: conversion from ‘size_t’ {aka ‘long unsigned int’} to ‘int’ may change value [-Wconversion]
  677 |             arg_item_len = strlen(arg_ptr) + 1; /* include trailing 0 */
      |                            ^~~~~~
kern/bootstrap.c:684:49: warning: conversion to ‘size_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  684 |             (void) copyout(arg_ptr, string_pos, arg_item_len);
      |                                                 ^~~~~~~~~~~~
kern/bootstrap.c: In function ‘user_bootstrap_compat’:
kern/bootstrap.c:731:28: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  731 |           char *argv[] = { "bootstrap",
      |                            ^~~~~~~~~~~
depbase=`echo kern/counters.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/counters.o -MD -MP -MF $depbase.Tpo -c -o kern/counters.o kern/counters.c &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo kern/debug.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/debug.o -MD -MP -MF $depbase.Tpo -c -o kern/debug.o kern/debug.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from kern/debug.c:29:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53,
                 from kern/debug.c:34:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./kern/thread.h:54:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
depbase=`echo kern/eventcount.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/eventcount.o -MD -MP -MF $depbase.Tpo -c -o kern/eventcount.o kern/eventcount.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from kern/eventcount.c:38:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53,
                 from kern/eventcount.c:50:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./kern/thread.h:54:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
kern/eventcount.c: In function ‘evc_init’:
kern/eventcount.c:78:21: warning: conversion to ‘natural_t’ {aka ‘unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
   78 |         ev->ev_id = i;
      |                     ^
kern/eventcount.c: In function ‘evc_destroy’:
kern/eventcount.c:94:21: warning: unsigned conversion from ‘int’ to ‘natural_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
   94 |         ev->ev_id = -1;
      |                     ^
kern/eventcount.c: In function ‘evc_signal’:
kern/eventcount.c:262:33: warning: conversion from ‘int’ to ‘short unsigned int’ may change value [-Wconversion]
  262 |                 thread->state = (state &~ TH_WAIT) | TH_RUN;
      |                                 ^
kern/eventcount.c:294:33: warning: conversion from ‘int’ to ‘short unsigned int’ may change value [-Wconversion]
  294 |                 thread->state = state &~ TH_WAIT;
      |                                 ^~~~~
depbase=`echo kern/exception.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/exception.o -MD -MP -MF $depbase.Tpo -c -o kern/exception.o kern/exception.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from ./ipc/ipc_entry.h:41,
                 from kern/exception.c:34:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_entry.h:44:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46,
                 from ./kern/ipc_kobject.h:44,
                 from ./ipc/ipc_port.h:47,
                 from ./ipc/ipc_space.h:52,
                 from kern/exception.c:37:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/mach/port.h:39,
                 from ./include/mach/message.h:36,
                 from kern/exception.c:29:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
In file included from kern/exception.c:44:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
In file included from ./kern/thread.h:53,
                 from ./vm/pmap.h:45:
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
kern/exception.c: In function ‘exception_raise’:
./ipc/ipc_kmsg.h:107:20: warning: declaration of ‘__kmsg’ shadows a previous local [-Wshadow]
  107 |         ipc_kmsg_t __kmsg = ikm_cache();                                \
      |                    ^~~~~~
./ipc/ipc_kmsg.h:117:29: note: in expansion of macro ‘ikm_cache_alloc_try’
  117 |         ipc_kmsg_t __kmsg = ikm_cache_alloc_try();                      \
      |                             ^~~~~~~~~~~~~~~~~~~
kern/exception.c:370:16: note: in expansion of macro ‘ikm_cache_alloc’
  370 |         kmsg = ikm_cache_alloc();
      |                ^~~~~~~~~~~~~~~
./ipc/ipc_kmsg.h:117:20: note: shadowed declaration is here
  117 |         ipc_kmsg_t __kmsg = ikm_cache_alloc_try();                      \
      |                    ^~~~~~
kern/exception.c:370:16: note: in expansion of macro ‘ikm_cache_alloc’
  370 |         kmsg = ikm_cache_alloc();
      |                ^~~~~~~~~~~~~~~
kern/exception.c:507:51: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  507 |                         (struct mach_exception *) &kmsg->ikm_header;
      |                                                   ^~~~~~~~~~~~~~~~~
kern/exception.c:535:24: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘rpc_long_integer_t’ {aka ‘int’} may change value [-Wconversion]
  535 |         exc->subcode = subcode;
      |                        ^~~~~~~
kern/exception.c:628:32: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  628 |         assert((entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
kern/exception.c:628:9: note: in expansion of macro ‘assert’
  628 |         assert((entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
kern/exception.c:714:51: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  714 |                         (struct mach_exception *) &kmsg->ikm_header;
      |                                                   ^~~~~~~~~~~~~~~~~
kern/exception.c:744:24: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘rpc_long_integer_t’ {aka ‘int’} may change value [-Wconversion]
  744 |         exc->subcode = subcode;
      |                        ^~~~~~~
In file included from ./ipc/ipc_port.h:48:
./ipc/ipc_mqueue.h:95:27: warning: declaration of ‘mr’ shadows a previous local [-Wshadow]
   95 |         mach_msg_return_t mr;                                           \
      |                           ^~
kern/exception.c:746:9: note: in expansion of macro ‘ipc_mqueue_send_always’
  746 |         ipc_mqueue_send_always(kmsg);
      |         ^~~~~~~~~~~~~~~~~~~~~~
kern/exception.c:359:27: note: shadowed declaration is here
  359 |         mach_msg_return_t mr;
      |                           ^~
kern/exception.c: In function ‘exception_parse_reply’:
kern/exception.c:806:48: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  806 |                         (mig_reply_header_t *) &kmsg->ikm_header;
      |                                                ^~~~~~~~~~~~~~~~~
depbase=`echo kern/gsync.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/gsync.o -MD -MP -MF $depbase.Tpo -c -o kern/gsync.o kern/gsync.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from ./kern/gsync.h:28,
                 from kern/gsync.c:19:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53,
                 from kern/gsync.c:22:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./kern/thread.h:54:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53,
                 from kern/gsync.c:24:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
kern/gsync.c: In function ‘gsync_key_hash’:
kern/gsync.c:106:25: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  106 | #define MIX2_LL(x, y)   ((((x) << 5) | ((x) >> 27)) ^ (y))
      |                         ^
kern/gsync.c:117:9: note: in expansion of macro ‘MIX2_LL’
  117 |   ret = MIX2_LL (ret, keyp->any.u >> 32);
      |         ^~~~~~~
kern/gsync.c:106:25: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  106 | #define MIX2_LL(x, y)   ((((x) << 5) | ((x) >> 27)) ^ (y))
      |                         ^
kern/gsync.c:119:9: note: in expansion of macro ‘MIX2_LL’
  119 |   ret = MIX2_LL (ret, keyp->any.v >> 32);
      |         ^~~~~~~
In file included from ./machine/vm_param.h:29,
                 from ./vm/vm_page.h:39:
kern/gsync.c: In function ‘temp_mapping’:
./include/mach/vm_param.h:87:59: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   87 | #define trunc_page(x)   ((vm_offset_t)(((vm_offset_t)(x)) & ~PAGE_MASK))
      |                                                           ^
kern/gsync.c:214:40: note: in expansion of macro ‘trunc_page’
  214 |   vm_offset_t off = vap->off - (addr - trunc_page (addr));
      |                                        ^~~~~~~~~~
kern/gsync.c: In function ‘gsync_requeue’:
kern/gsync.c:471:21: warning: conversion to ‘unsigned int’ from ‘boolean_t’ {aka ‘int’} may change the sign of the result [-Wsign-conversion]
  471 |   unsigned int nw = 1 + wake_one;
      |                     ^
rm -f kern/mach_host.server.defs.c
cp -p kern/mach_host.srv kern/mach_host.server.defs.c
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa -E  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/lib_dep_tr_for_defs_a-mach_host.server.defs.o -MD -MP -MF kern/.deps/lib_dep_tr_for_defs_a-mach_host.server.defs.Tpo -c -o kern/lib_dep_tr_for_defs_a-mach_host.server.defs.o `test -f 'kern/mach_host.server.defs.c' || echo './'`kern/mach_host.server.defs.c
mv -f kern/.deps/lib_dep_tr_for_defs_a-mach_host.server.defs.Tpo kern/.deps/lib_dep_tr_for_defs_a-mach_host.server.defs.Po
/home/runner/work/cognu-mach/cognu-mach/scripts/mig-wrapper.sh -n -cc cat - /dev/null  	\
  -sheader kern/mach_host.server.h -server kern/mach_host.server.c		\
  -list kern/mach_host.server.msgids				\
  < kern/lib_dep_tr_for_defs_a-mach_host.server.defs.o
Fixed 64-bit type size assertions in kern/mach_host.server.c
depbase=`echo kern/host.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/host.o -MD -MP -MF $depbase.Tpo -c -o kern/host.o kern/host.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from ./machine/percpu.h:71,
                 from ./kern/processor.h:138,
                 from kern/host.c:42:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./kern/ipc_kobject.h:44,
                 from ./kern/mach_host.server.h:12,
                 from kern/host.c:45:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ./kern/mach_host.server.h:13:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
In file included from ./kern/thread.h:53,
                 from ./vm/pmap.h:45:
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
In file included from ./ipc/ipc_space.h:52,
                 from ./kern/mach_host.server.h:21:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/sys/types.h:29,
                 from ./include/string.h:29,
                 from kern/host.c:32:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./kern/mach_host.server.h: At top level:
./kern/mach_host.server.h:49:15: warning: redundant redeclaration of ‘processor_start’ [-Wredundant-decls]
   49 | kern_return_t processor_start
      |               ^~~~~~~~~~~~~~~
./kern/processor.h:296:22: note: previous declaration of ‘processor_start’ with type ‘kern_return_t(struct processor *)’ {aka ‘int(struct processor *)’}
  296 | extern kern_return_t processor_start(
      |                      ^~~~~~~~~~~~~~~
./kern/mach_host.server.h:63:15: warning: redundant redeclaration of ‘processor_exit’ [-Wredundant-decls]
   63 | kern_return_t processor_exit
      |               ^~~~~~~~~~~~~~
./kern/processor.h:299:22: note: previous declaration of ‘processor_exit’ with type ‘kern_return_t(struct processor *)’ {aka ‘int(struct processor *)’}
  299 | extern kern_return_t processor_exit(
      |                      ^~~~~~~~~~~~~~
./kern/mach_host.server.h:92:15: warning: redundant redeclaration of ‘processor_set_create’ [-Wredundant-decls]
   92 | kern_return_t processor_set_create
      |               ^~~~~~~~~~~~~~~~~~~~
./kern/processor.h:309:22: note: previous declaration of ‘processor_set_create’ with type ‘kern_return_t(struct host *, struct processor_set **, struct processor_set **)’ {aka ‘int(struct host *, struct processor_set **, struct processor_set **)’}
  309 | extern kern_return_t processor_set_create(
      |                      ^~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:108:15: warning: redundant redeclaration of ‘processor_set_destroy’ [-Wredundant-decls]
  108 | kern_return_t processor_set_destroy
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:314:22: note: previous declaration of ‘processor_set_destroy’ with type ‘kern_return_t(struct processor_set *)’ {aka ‘int(struct processor_set *)’}
  314 | extern kern_return_t processor_set_destroy(
      |                      ^~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:138:15: warning: redundant redeclaration of ‘processor_get_assignment’ [-Wredundant-decls]
  138 | kern_return_t processor_get_assignment
      |               ^~~~~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:285:22: note: previous declaration of ‘processor_get_assignment’ with type ‘kern_return_t(struct processor *, struct processor_set **)’ {aka ‘int(struct processor *, struct processor_set **)’}
  285 | extern kern_return_t processor_get_assignment(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:153:15: warning: redundant redeclaration of ‘thread_assign’ [-Wredundant-decls]
  153 | kern_return_t thread_assign
      |               ^~~~~~~~~~~~~
./kern/thread.h:356:25: note: previous declaration of ‘thread_assign’ with type ‘kern_return_t(struct thread *, struct processor_set *)’ {aka ‘int(struct thread *, struct processor_set *)’}
  356 | extern kern_return_t    thread_assign(
      |                         ^~~~~~~~~~~~~
./kern/mach_host.server.h:168:15: warning: redundant redeclaration of ‘thread_assign_default’ [-Wredundant-decls]
  168 | kern_return_t thread_assign_default
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/thread.h:359:25: note: previous declaration of ‘thread_assign_default’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  359 | extern kern_return_t    thread_assign_default(
      |                         ^~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:197:15: warning: redundant redeclaration of ‘task_assign’ [-Wredundant-decls]
  197 | kern_return_t task_assign
      |               ^~~~~~~~~~~
./kern/task.h:171:25: note: previous declaration of ‘task_assign’ with type ‘kern_return_t(struct task *, struct processor_set *, boolean_t)’ {aka ‘int(struct task *, struct processor_set *, int)’}
  171 | extern kern_return_t    task_assign(
      |                         ^~~~~~~~~~~
./kern/mach_host.server.h:213:15: warning: redundant redeclaration of ‘task_assign_default’ [-Wredundant-decls]
  213 | kern_return_t task_assign_default
      |               ^~~~~~~~~~~~~~~~~~~
./kern/task.h:175:25: note: previous declaration of ‘task_assign_default’ with type ‘kern_return_t(struct task *, boolean_t)’ {aka ‘int(struct task *, int)’}
  175 | extern kern_return_t    task_assign_default(
      |                         ^~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:258:15: warning: redundant redeclaration of ‘thread_priority’ [-Wredundant-decls]
  258 | kern_return_t thread_priority
      |               ^~~~~~~~~~~~~~~
./kern/thread.h:315:25: note: previous declaration of ‘thread_priority’ with type ‘kern_return_t(struct thread *, int,  boolean_t)’ {aka ‘int(struct thread *, int,  int)’}
  315 | extern kern_return_t    thread_priority(
      |                         ^~~~~~~~~~~~~~~
./kern/mach_host.server.h:274:15: warning: redundant redeclaration of ‘thread_max_priority’ [-Wredundant-decls]
  274 | kern_return_t thread_max_priority
      |               ^~~~~~~~~~~~~~~~~~~
./kern/thread.h:321:25: note: previous declaration of ‘thread_max_priority’ with type ‘kern_return_t(struct thread *, struct processor_set *, int)’ {aka ‘int(struct thread *, struct processor_set *, int)’}
  321 | extern kern_return_t    thread_max_priority(
      |                         ^~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:306:15: warning: redundant redeclaration of ‘processor_set_max_priority’ [-Wredundant-decls]
  306 | kern_return_t processor_set_max_priority
      |               ^~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:324:22: note: previous declaration of ‘processor_set_max_priority’ with type ‘kern_return_t(struct processor_set *, int,  boolean_t)’ {aka ‘int(struct processor_set *, int,  int)’}
  324 | extern kern_return_t processor_set_max_priority(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:322:15: warning: redundant redeclaration of ‘thread_policy’ [-Wredundant-decls]
  322 | kern_return_t thread_policy
      |               ^~~~~~~~~~~~~
./kern/thread.h:325:25: note: previous declaration of ‘thread_policy’ with type ‘kern_return_t(struct thread *, int,  int)’ {aka ‘int(struct thread *, int,  int)’}
  325 | extern kern_return_t    thread_policy(
      |                         ^~~~~~~~~~~~~
./kern/mach_host.server.h:338:15: warning: redundant redeclaration of ‘processor_set_policy_enable’ [-Wredundant-decls]
  338 | kern_return_t processor_set_policy_enable
      |               ^~~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:329:22: note: previous declaration of ‘processor_set_policy_enable’ with type ‘kern_return_t(struct processor_set *, int)’ {aka ‘int(struct processor_set *, int)’}
  329 | extern kern_return_t processor_set_policy_enable(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:353:15: warning: redundant redeclaration of ‘processor_set_policy_disable’ [-Wredundant-decls]
  353 | kern_return_t processor_set_policy_disable
      |               ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:333:22: note: previous declaration of ‘processor_set_policy_disable’ with type ‘kern_return_t(struct processor_set *, int,  boolean_t)’ {aka ‘int(struct processor_set *, int,  int)’}
  333 | extern kern_return_t processor_set_policy_disable(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:369:15: warning: redundant redeclaration of ‘processor_set_tasks’ [-Wredundant-decls]
  369 | kern_return_t processor_set_tasks
      |               ^~~~~~~~~~~~~~~~~~~
./kern/processor.h:338:22: note: previous declaration of ‘processor_set_tasks’ with type ‘kern_return_t(struct processor_set *, mach_port_t **, natural_t *)’ {aka ‘int(struct processor_set *, long unsigned int **, unsigned int *)’}
  338 | extern kern_return_t processor_set_tasks(
      |                      ^~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:385:15: warning: redundant redeclaration of ‘processor_set_threads’ [-Wredundant-decls]
  385 | kern_return_t processor_set_threads
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:343:22: note: previous declaration of ‘processor_set_threads’ with type ‘kern_return_t(struct processor_set *, mach_port_t **, natural_t *)’ {aka ‘int(struct processor_set *, long unsigned int **, unsigned int *)’}
  343 | extern kern_return_t processor_set_threads(
      |                      ^~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:559:15: warning: redundant redeclaration of ‘processor_info’ [-Wredundant-decls]
  559 | kern_return_t processor_info
      |               ^~~~~~~~~~~~~~
./kern/processor.h:289:22: note: previous declaration of ‘processor_info’ with type ‘kern_return_t(struct processor *, int,  struct host **, integer_t *, natural_t *)’ {aka ‘int(struct processor *, int,  struct host **, int *, unsigned int *)’}
  289 | extern kern_return_t processor_info(
      |                      ^~~~~~~~~~~~~~
./kern/mach_host.server.h:577:15: warning: redundant redeclaration of ‘processor_set_info’ [-Wredundant-decls]
  577 | kern_return_t processor_set_info
      |               ^~~~~~~~~~~~~~~~~~
./kern/processor.h:317:22: note: previous declaration of ‘processor_set_info’ with type ‘kern_return_t(struct processor_set *, int,  struct host **, integer_t *, natural_t *)’ {aka ‘int(struct processor_set *, int,  struct host **, int *, unsigned int *)’}
  317 | extern kern_return_t processor_set_info(
      |                      ^~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:595:15: warning: redundant redeclaration of ‘processor_control’ [-Wredundant-decls]
  595 | kern_return_t processor_control
      |               ^~~~~~~~~~~~~~~~~
./kern/processor.h:302:22: note: previous declaration of ‘processor_control’ with type ‘kern_return_t(struct processor *, integer_t *, natural_t)’ {aka ‘int(struct processor *, int *, unsigned int)’}
  302 | extern kern_return_t processor_control(
      |                      ^~~~~~~~~~~~~~~~~
kern/host.c: In function ‘host_info’:
kern/host.c:125:43: warning: conversion from ‘vm_size_t’ {aka ‘long unsigned int’} to ‘rpc_vm_size_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  125 |                 basic_info->memory_size = machine_info.memory_size;
      |                                           ^~~~~~~~~~~~
kern/host.c:157:33: warning: nested extern declaration of ‘min_quantum’ [-Wnested-externs]
  157 |                 extern int      min_quantum;
      |                                 ^~~~~~~~~~~
kern/host.c:157:33: warning: redundant redeclaration of ‘min_quantum’ [-Wredundant-decls]
In file included from ./kern/processor.h:46:
./kern/sched.h:145:25: note: previous declaration of ‘min_quantum’ with type ‘int’
  145 | extern int              min_quantum;    /* defines max context switch rate */
      |                         ^~~~~~~~~~~
kern/host.c:180:29: warning: nested extern declaration of ‘avenrun’ [-Wnested-externs]
  180 |                 extern long avenrun[3], mach_factor[3];
      |                             ^~~~~~~
kern/host.c:180:41: warning: nested extern declaration of ‘mach_factor’ [-Wnested-externs]
  180 |                 extern long avenrun[3], mach_factor[3];
      |                                         ^~~~~~~~~~~
kern/host.c: In function ‘host_get_kernel_version’:
kern/host.c:212:25: warning: nested extern declaration of ‘version’ [-Wnested-externs]
  212 |         extern char     version[];
      |                         ^~~~~~~
depbase=`echo kern/ipc_host.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/ipc_host.o -MD -MP -MF $depbase.Tpo -c -o kern/ipc_host.o kern/ipc_host.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./kern/ipc_kobject.h:44,
                 from ./kern/mach_host.server.h:12,
                 from kern/ipc_host.c:38:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from ./vm/pmap.h:45:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ./kern/mach_host.server.h:13:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
In file included from ./kern/thread.h:53:
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
In file included from ./ipc/ipc_space.h:52,
                 from ./kern/mach_host.server.h:21:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/mach/port.h:39,
                 from ./include/mach/message.h:36,
                 from kern/ipc_host.c:35:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./kern/mach_host.server.h: At top level:
./kern/mach_host.server.h:49:15: warning: redundant redeclaration of ‘processor_start’ [-Wredundant-decls]
   49 | kern_return_t processor_start
      |               ^~~~~~~~~~~~~~~
In file included from ./kern/thread.h:48:
./kern/processor.h:296:22: note: previous declaration of ‘processor_start’ with type ‘kern_return_t(struct processor *)’ {aka ‘int(struct processor *)’}
  296 | extern kern_return_t processor_start(
      |                      ^~~~~~~~~~~~~~~
./kern/mach_host.server.h:63:15: warning: redundant redeclaration of ‘processor_exit’ [-Wredundant-decls]
   63 | kern_return_t processor_exit
      |               ^~~~~~~~~~~~~~
./kern/processor.h:299:22: note: previous declaration of ‘processor_exit’ with type ‘kern_return_t(struct processor *)’ {aka ‘int(struct processor *)’}
  299 | extern kern_return_t processor_exit(
      |                      ^~~~~~~~~~~~~~
./kern/mach_host.server.h:92:15: warning: redundant redeclaration of ‘processor_set_create’ [-Wredundant-decls]
   92 | kern_return_t processor_set_create
      |               ^~~~~~~~~~~~~~~~~~~~
./kern/processor.h:309:22: note: previous declaration of ‘processor_set_create’ with type ‘kern_return_t(struct host *, struct processor_set **, struct processor_set **)’ {aka ‘int(struct host *, struct processor_set **, struct processor_set **)’}
  309 | extern kern_return_t processor_set_create(
      |                      ^~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:108:15: warning: redundant redeclaration of ‘processor_set_destroy’ [-Wredundant-decls]
  108 | kern_return_t processor_set_destroy
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:314:22: note: previous declaration of ‘processor_set_destroy’ with type ‘kern_return_t(struct processor_set *)’ {aka ‘int(struct processor_set *)’}
  314 | extern kern_return_t processor_set_destroy(
      |                      ^~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:138:15: warning: redundant redeclaration of ‘processor_get_assignment’ [-Wredundant-decls]
  138 | kern_return_t processor_get_assignment
      |               ^~~~~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:285:22: note: previous declaration of ‘processor_get_assignment’ with type ‘kern_return_t(struct processor *, struct processor_set **)’ {aka ‘int(struct processor *, struct processor_set **)’}
  285 | extern kern_return_t processor_get_assignment(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:153:15: warning: redundant redeclaration of ‘thread_assign’ [-Wredundant-decls]
  153 | kern_return_t thread_assign
      |               ^~~~~~~~~~~~~
./kern/thread.h:356:25: note: previous declaration of ‘thread_assign’ with type ‘kern_return_t(struct thread *, struct processor_set *)’ {aka ‘int(struct thread *, struct processor_set *)’}
  356 | extern kern_return_t    thread_assign(
      |                         ^~~~~~~~~~~~~
./kern/mach_host.server.h:168:15: warning: redundant redeclaration of ‘thread_assign_default’ [-Wredundant-decls]
  168 | kern_return_t thread_assign_default
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/thread.h:359:25: note: previous declaration of ‘thread_assign_default’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  359 | extern kern_return_t    thread_assign_default(
      |                         ^~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:197:15: warning: redundant redeclaration of ‘task_assign’ [-Wredundant-decls]
  197 | kern_return_t task_assign
      |               ^~~~~~~~~~~
./kern/task.h:171:25: note: previous declaration of ‘task_assign’ with type ‘kern_return_t(struct task *, struct processor_set *, boolean_t)’ {aka ‘int(struct task *, struct processor_set *, int)’}
  171 | extern kern_return_t    task_assign(
      |                         ^~~~~~~~~~~
./kern/mach_host.server.h:213:15: warning: redundant redeclaration of ‘task_assign_default’ [-Wredundant-decls]
  213 | kern_return_t task_assign_default
      |               ^~~~~~~~~~~~~~~~~~~
./kern/task.h:175:25: note: previous declaration of ‘task_assign_default’ with type ‘kern_return_t(struct task *, boolean_t)’ {aka ‘int(struct task *, int)’}
  175 | extern kern_return_t    task_assign_default(
      |                         ^~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:258:15: warning: redundant redeclaration of ‘thread_priority’ [-Wredundant-decls]
  258 | kern_return_t thread_priority
      |               ^~~~~~~~~~~~~~~
./kern/thread.h:315:25: note: previous declaration of ‘thread_priority’ with type ‘kern_return_t(struct thread *, int,  boolean_t)’ {aka ‘int(struct thread *, int,  int)’}
  315 | extern kern_return_t    thread_priority(
      |                         ^~~~~~~~~~~~~~~
./kern/mach_host.server.h:274:15: warning: redundant redeclaration of ‘thread_max_priority’ [-Wredundant-decls]
  274 | kern_return_t thread_max_priority
      |               ^~~~~~~~~~~~~~~~~~~
./kern/thread.h:321:25: note: previous declaration of ‘thread_max_priority’ with type ‘kern_return_t(struct thread *, struct processor_set *, int)’ {aka ‘int(struct thread *, struct processor_set *, int)’}
  321 | extern kern_return_t    thread_max_priority(
      |                         ^~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:306:15: warning: redundant redeclaration of ‘processor_set_max_priority’ [-Wredundant-decls]
  306 | kern_return_t processor_set_max_priority
      |               ^~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:324:22: note: previous declaration of ‘processor_set_max_priority’ with type ‘kern_return_t(struct processor_set *, int,  boolean_t)’ {aka ‘int(struct processor_set *, int,  int)’}
  324 | extern kern_return_t processor_set_max_priority(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:322:15: warning: redundant redeclaration of ‘thread_policy’ [-Wredundant-decls]
  322 | kern_return_t thread_policy
      |               ^~~~~~~~~~~~~
./kern/thread.h:325:25: note: previous declaration of ‘thread_policy’ with type ‘kern_return_t(struct thread *, int,  int)’ {aka ‘int(struct thread *, int,  int)’}
  325 | extern kern_return_t    thread_policy(
      |                         ^~~~~~~~~~~~~
./kern/mach_host.server.h:338:15: warning: redundant redeclaration of ‘processor_set_policy_enable’ [-Wredundant-decls]
  338 | kern_return_t processor_set_policy_enable
      |               ^~~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:329:22: note: previous declaration of ‘processor_set_policy_enable’ with type ‘kern_return_t(struct processor_set *, int)’ {aka ‘int(struct processor_set *, int)’}
  329 | extern kern_return_t processor_set_policy_enable(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:353:15: warning: redundant redeclaration of ‘processor_set_policy_disable’ [-Wredundant-decls]
  353 | kern_return_t processor_set_policy_disable
      |               ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:333:22: note: previous declaration of ‘processor_set_policy_disable’ with type ‘kern_return_t(struct processor_set *, int,  boolean_t)’ {aka ‘int(struct processor_set *, int,  int)’}
  333 | extern kern_return_t processor_set_policy_disable(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:369:15: warning: redundant redeclaration of ‘processor_set_tasks’ [-Wredundant-decls]
  369 | kern_return_t processor_set_tasks
      |               ^~~~~~~~~~~~~~~~~~~
./kern/processor.h:338:22: note: previous declaration of ‘processor_set_tasks’ with type ‘kern_return_t(struct processor_set *, mach_port_t **, natural_t *)’ {aka ‘int(struct processor_set *, long unsigned int **, unsigned int *)’}
  338 | extern kern_return_t processor_set_tasks(
      |                      ^~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:385:15: warning: redundant redeclaration of ‘processor_set_threads’ [-Wredundant-decls]
  385 | kern_return_t processor_set_threads
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:343:22: note: previous declaration of ‘processor_set_threads’ with type ‘kern_return_t(struct processor_set *, mach_port_t **, natural_t *)’ {aka ‘int(struct processor_set *, long unsigned int **, unsigned int *)’}
  343 | extern kern_return_t processor_set_threads(
      |                      ^~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:559:15: warning: redundant redeclaration of ‘processor_info’ [-Wredundant-decls]
  559 | kern_return_t processor_info
      |               ^~~~~~~~~~~~~~
./kern/processor.h:289:22: note: previous declaration of ‘processor_info’ with type ‘kern_return_t(struct processor *, int,  struct host **, integer_t *, natural_t *)’ {aka ‘int(struct processor *, int,  struct host **, int *, unsigned int *)’}
  289 | extern kern_return_t processor_info(
      |                      ^~~~~~~~~~~~~~
./kern/mach_host.server.h:577:15: warning: redundant redeclaration of ‘processor_set_info’ [-Wredundant-decls]
  577 | kern_return_t processor_set_info
      |               ^~~~~~~~~~~~~~~~~~
./kern/processor.h:317:22: note: previous declaration of ‘processor_set_info’ with type ‘kern_return_t(struct processor_set *, int,  struct host **, integer_t *, natural_t *)’ {aka ‘int(struct processor_set *, int,  struct host **, int *, unsigned int *)’}
  317 | extern kern_return_t processor_set_info(
      |                      ^~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:595:15: warning: redundant redeclaration of ‘processor_control’ [-Wredundant-decls]
  595 | kern_return_t processor_control
      |               ^~~~~~~~~~~~~~~~~
./kern/processor.h:302:22: note: previous declaration of ‘processor_control’ with type ‘kern_return_t(struct processor *, integer_t *, natural_t)’ {aka ‘int(struct processor *, int *, unsigned int)’}
  302 | extern kern_return_t processor_control(
      |                      ^~~~~~~~~~~~~~~~~
In file included from kern/ipc_host.c:46:
./include/mach/mach_traps.h:38:18: warning: redundant redeclaration of ‘mach_reply_port’ [-Wredundant-decls]
   38 | mach_port_name_t mach_reply_port (void);
      |                  ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:90:1: note: previous declaration of ‘mach_reply_port’ with type ‘mach_port_name_t(void)’ {aka ‘unsigned int(void)’}
   90 | mach_reply_port (void);
      | ^~~~~~~~~~~~~~~
rm -f kern/mach.server.defs.c
cp -p kern/mach.srv kern/mach.server.defs.c
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa -E  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/lib_dep_tr_for_defs_a-mach.server.defs.o -MD -MP -MF kern/.deps/lib_dep_tr_for_defs_a-mach.server.defs.Tpo -c -o kern/lib_dep_tr_for_defs_a-mach.server.defs.o `test -f 'kern/mach.server.defs.c' || echo './'`kern/mach.server.defs.c
mv -f kern/.deps/lib_dep_tr_for_defs_a-mach.server.defs.Tpo kern/.deps/lib_dep_tr_for_defs_a-mach.server.defs.Po
/home/runner/work/cognu-mach/cognu-mach/scripts/mig-wrapper.sh -n -cc cat - /dev/null  	\
  -sheader kern/mach.server.h -server kern/mach.server.c		\
  -list kern/mach.server.msgids				\
  < kern/lib_dep_tr_for_defs_a-mach.server.defs.o
Fixed 64-bit type size assertions in kern/mach.server.c
rm -f device/device.server.defs.c
cp -p device/device.srv device/device.server.defs.c
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa -E  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT device/lib_dep_tr_for_defs_a-device.server.defs.o -MD -MP -MF device/.deps/lib_dep_tr_for_defs_a-device.server.defs.Tpo -c -o device/lib_dep_tr_for_defs_a-device.server.defs.o `test -f 'device/device.server.defs.c' || echo './'`device/device.server.defs.c
mv -f device/.deps/lib_dep_tr_for_defs_a-device.server.defs.Tpo device/.deps/lib_dep_tr_for_defs_a-device.server.defs.Po
/home/runner/work/cognu-mach/cognu-mach/scripts/mig-wrapper.sh -n -cc cat - /dev/null  	\
  -sheader device/device.server.h -server device/device.server.c		\
  -list device/device.server.msgids				\
  < device/lib_dep_tr_for_defs_a-device.server.defs.o
Fixed 64-bit type size assertions in device/device.server.c
rm -f device/device_pager.server.defs.c
cp -p device/device_pager.srv device/device_pager.server.defs.c
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa -E  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT device/lib_dep_tr_for_defs_a-device_pager.server.defs.o -MD -MP -MF device/.deps/lib_dep_tr_for_defs_a-device_pager.server.defs.Tpo -c -o device/lib_dep_tr_for_defs_a-device_pager.server.defs.o `test -f 'device/device_pager.server.defs.c' || echo './'`device/device_pager.server.defs.c
mv -f device/.deps/lib_dep_tr_for_defs_a-device_pager.server.defs.Tpo device/.deps/lib_dep_tr_for_defs_a-device_pager.server.defs.Po
/home/runner/work/cognu-mach/cognu-mach/scripts/mig-wrapper.sh -n -cc cat - /dev/null  	\
  -sheader device/device_pager.server.h -server device/device_pager.server.c		\
  -list device/device_pager.server.msgids				\
  < device/lib_dep_tr_for_defs_a-device_pager.server.defs.o
Fixed 64-bit type size assertions in device/device_pager.server.c
rm -f kern/mach4.server.defs.c
cp -p kern/mach4.srv kern/mach4.server.defs.c
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa -E  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/lib_dep_tr_for_defs_a-mach4.server.defs.o -MD -MP -MF kern/.deps/lib_dep_tr_for_defs_a-mach4.server.defs.Tpo -c -o kern/lib_dep_tr_for_defs_a-mach4.server.defs.o `test -f 'kern/mach4.server.defs.c' || echo './'`kern/mach4.server.defs.c
mv -f kern/.deps/lib_dep_tr_for_defs_a-mach4.server.defs.Tpo kern/.deps/lib_dep_tr_for_defs_a-mach4.server.defs.Po
/home/runner/work/cognu-mach/cognu-mach/scripts/mig-wrapper.sh -n -cc cat - /dev/null  	\
  -sheader kern/mach4.server.h -server kern/mach4.server.c		\
  -list kern/mach4.server.msgids				\
  < kern/lib_dep_tr_for_defs_a-mach4.server.defs.o
Fixed 64-bit type size assertions in kern/mach4.server.c
rm -f kern/gnumach.server.defs.c
cp -p kern/gnumach.srv kern/gnumach.server.defs.c
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa -E  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/lib_dep_tr_for_defs_a-gnumach.server.defs.o -MD -MP -MF kern/.deps/lib_dep_tr_for_defs_a-gnumach.server.defs.Tpo -c -o kern/lib_dep_tr_for_defs_a-gnumach.server.defs.o `test -f 'kern/gnumach.server.defs.c' || echo './'`kern/gnumach.server.defs.c
mv -f kern/.deps/lib_dep_tr_for_defs_a-gnumach.server.defs.Tpo kern/.deps/lib_dep_tr_for_defs_a-gnumach.server.defs.Po
/home/runner/work/cognu-mach/cognu-mach/scripts/mig-wrapper.sh -n -cc cat - /dev/null  	\
  -sheader kern/gnumach.server.h -server kern/gnumach.server.c		\
  -list kern/gnumach.server.msgids				\
  < kern/lib_dep_tr_for_defs_a-gnumach.server.defs.o
Fixed 64-bit type size assertions in kern/gnumach.server.c
rm -f kern/experimental.server.defs.c
cp -p kern/experimental.srv kern/experimental.server.defs.c
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa -E  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/lib_dep_tr_for_defs_a-experimental.server.defs.o -MD -MP -MF kern/.deps/lib_dep_tr_for_defs_a-experimental.server.defs.Tpo -c -o kern/lib_dep_tr_for_defs_a-experimental.server.defs.o `test -f 'kern/experimental.server.defs.c' || echo './'`kern/experimental.server.defs.c
mv -f kern/.deps/lib_dep_tr_for_defs_a-experimental.server.defs.Tpo kern/.deps/lib_dep_tr_for_defs_a-experimental.server.defs.Po
/home/runner/work/cognu-mach/cognu-mach/scripts/mig-wrapper.sh -n -cc cat - /dev/null  	\
  -sheader kern/experimental.server.h -server kern/experimental.server.c		\
  -list kern/experimental.server.msgids				\
  < kern/lib_dep_tr_for_defs_a-experimental.server.defs.o
Fixed 64-bit type size assertions in kern/experimental.server.c
rm -f i386/i386/mach_i386.server.defs.c
cp -p i386/i386/mach_i386.srv i386/i386/mach_i386.server.defs.c
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa -E  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386/lib_dep_tr_for_defs_a-mach_i386.server.defs.o -MD -MP -MF i386/i386/.deps/lib_dep_tr_for_defs_a-mach_i386.server.defs.Tpo -c -o i386/i386/lib_dep_tr_for_defs_a-mach_i386.server.defs.o `test -f 'i386/i386/mach_i386.server.defs.c' || echo './'`i386/i386/mach_i386.server.defs.c
mv -f i386/i386/.deps/lib_dep_tr_for_defs_a-mach_i386.server.defs.Tpo i386/i386/.deps/lib_dep_tr_for_defs_a-mach_i386.server.defs.Po
/home/runner/work/cognu-mach/cognu-mach/scripts/mig-wrapper.sh -n -cc cat - /dev/null  	\
  -sheader i386/i386/mach_i386.server.h -server i386/i386/mach_i386.server.c		\
  -list i386/i386/mach_i386.server.msgids				\
  < i386/i386/lib_dep_tr_for_defs_a-mach_i386.server.defs.o
Fixed 64-bit type size assertions in i386/i386/mach_i386.server.c
depbase=`echo kern/ipc_kobject.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/ipc_kobject.o -MD -MP -MF $depbase.Tpo -c -o kern/ipc_kobject.o kern/ipc_kobject.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from kern/ipc_kobject.c:37:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./kern/ipc_kobject.h:44,
                 from kern/ipc_kobject.c:43:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from kern/ipc_kobject.c:46:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/mach.server.h:13,
                 from kern/ipc_kobject.c:53:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
In file included from ./kern/thread.h:53,
                 from ./vm/pmap.h:45:
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
In file included from ./kern/assert.h:32,
                 from ./kern/debug.h:31,
                 from kern/ipc_kobject.c:36:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
In file included from ./kern/mach.server.h:21:
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./kern/mach.server.h: At top level:
./kern/mach.server.h:33:15: warning: redundant redeclaration of ‘task_create’ [-Wredundant-decls]
   33 | kern_return_t task_create
      |               ^~~~~~~~~~~
./kern/task.h:140:25: note: previous declaration of ‘task_create’ with type ‘kern_return_t(struct task *, boolean_t,  struct task **)’ {aka ‘int(struct task *, int,  struct task **)’}
  140 | extern kern_return_t    task_create(
      |                         ^~~~~~~~~~~
./kern/mach.server.h:49:15: warning: redundant redeclaration of ‘task_terminate’ [-Wredundant-decls]
   49 | kern_return_t task_terminate
      |               ^~~~~~~~~~~~~~
./kern/task.h:148:25: note: previous declaration of ‘task_terminate’ with type ‘kern_return_t(struct task *)’ {aka ‘int(struct task *)’}
  148 | extern kern_return_t    task_terminate(
      |                         ^~~~~~~~~~~~~~
./kern/mach.server.h:97:15: warning: redundant redeclaration of ‘task_threads’ [-Wredundant-decls]
   97 | kern_return_t task_threads
      |               ^~~~~~~~~~~~
./kern/task.h:154:25: note: previous declaration of ‘task_threads’ with type ‘kern_return_t(struct task *, mach_port_t **, natural_t *)’ {aka ‘int(struct task *, long unsigned int **, unsigned int *)’}
  154 | extern kern_return_t    task_threads(
      |                         ^~~~~~~~~~~~
./kern/mach.server.h:113:15: warning: redundant redeclaration of ‘task_info’ [-Wredundant-decls]
  113 | kern_return_t task_info
      |               ^~~~~~~~~
./kern/task.h:158:25: note: previous declaration of ‘task_info’ with type ‘kern_return_t(struct task *, int,  integer_t *, natural_t *)’ {aka ‘int(struct task *, int,  int *, unsigned int *)’}
  158 | extern kern_return_t    task_info(
      |                         ^~~~~~~~~
./kern/mach.server.h:130:15: warning: redundant redeclaration of ‘thread_terminate’ [-Wredundant-decls]
  130 | kern_return_t thread_terminate
      |               ^~~~~~~~~~~~~~~~
./kern/thread.h:297:25: note: previous declaration of ‘thread_terminate’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  297 | extern kern_return_t    thread_terminate(
      |                         ^~~~~~~~~~~~~~~~
./kern/mach.server.h:144:15: warning: redundant redeclaration of ‘thread_get_state’ [-Wredundant-decls]
  144 | kern_return_t thread_get_state
      |               ^~~~~~~~~~~~~~~~
./kern/thread.h:333:25: note: previous declaration of ‘thread_get_state’ with type ‘kern_return_t(struct thread *, int,  natural_t *, natural_t *)’ {aka ‘int(struct thread *, int,  unsigned int *, unsigned int *)’}
  333 | extern kern_return_t    thread_get_state(
      |                         ^~~~~~~~~~~~~~~~
./kern/mach.server.h:161:15: warning: redundant redeclaration of ‘thread_set_state’ [-Wredundant-decls]
  161 | kern_return_t thread_set_state
      |               ^~~~~~~~~~~~~~~~
./kern/thread.h:338:25: note: previous declaration of ‘thread_set_state’ with type ‘kern_return_t(struct thread *, int,  natural_t *, natural_t)’ {aka ‘int(struct thread *, int,  unsigned int *, unsigned int)’}
  338 | extern kern_return_t    thread_set_state(
      |                         ^~~~~~~~~~~~~~~~
./kern/mach.server.h:178:15: warning: redundant redeclaration of ‘thread_info’ [-Wredundant-decls]
  178 | kern_return_t thread_info
      |               ^~~~~~~~~~~
./kern/thread.h:351:25: note: previous declaration of ‘thread_info’ with type ‘kern_return_t(struct thread *, int,  integer_t *, natural_t *)’ {aka ‘int(struct thread *, int,  int *, unsigned int *)’}
  351 | extern kern_return_t    thread_info(
      |                         ^~~~~~~~~~~
./kern/mach.server.h:453:15: warning: redundant redeclaration of ‘task_suspend’ [-Wredundant-decls]
  453 | kern_return_t task_suspend
      |               ^~~~~~~~~~~~
./kern/task.h:150:25: note: previous declaration of ‘task_suspend’ with type ‘kern_return_t(struct task *)’ {aka ‘int(struct task *)’}
  150 | extern kern_return_t    task_suspend(
      |                         ^~~~~~~~~~~~
./kern/mach.server.h:467:15: warning: redundant redeclaration of ‘task_resume’ [-Wredundant-decls]
  467 | kern_return_t task_resume
      |               ^~~~~~~~~~~
./kern/task.h:152:25: note: previous declaration of ‘task_resume’ with type ‘kern_return_t(struct task *)’ {aka ‘int(struct task *)’}
  152 | extern kern_return_t    task_resume(
      |                         ^~~~~~~~~~~
./kern/mach.server.h:481:15: warning: redundant redeclaration of ‘task_get_special_port’ [-Wredundant-decls]
  481 | kern_return_t task_get_special_port
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/task.h:163:25: note: previous declaration of ‘task_get_special_port’ with type ‘kern_return_t(struct task *, int,  struct ipc_port **)’ {aka ‘int(struct task *, int,  struct ipc_port **)’}
  163 | extern kern_return_t    task_get_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~
./kern/mach.server.h:497:15: warning: redundant redeclaration of ‘task_set_special_port’ [-Wredundant-decls]
  497 | kern_return_t task_set_special_port
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/task.h:167:25: note: previous declaration of ‘task_set_special_port’ with type ‘kern_return_t(struct task *, int,  struct ipc_port *)’ {aka ‘int(struct task *, int,  struct ipc_port *)’}
  167 | extern kern_return_t    task_set_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~
./kern/mach.server.h:513:15: warning: redundant redeclaration of ‘thread_create’ [-Wredundant-decls]
  513 | kern_return_t thread_create
      |               ^~~~~~~~~~~~~
./kern/thread.h:294:25: note: previous declaration of ‘thread_create’ with type ‘kern_return_t(struct task *, struct thread **)’ {aka ‘int(struct task *, struct thread **)’}
  294 | extern kern_return_t    thread_create(
      |                         ^~~~~~~~~~~~~
./kern/mach.server.h:528:15: warning: redundant redeclaration of ‘thread_suspend’ [-Wredundant-decls]
  528 | kern_return_t thread_suspend
      |               ^~~~~~~~~~~~~~
./kern/thread.h:306:25: note: previous declaration of ‘thread_suspend’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  306 | extern kern_return_t    thread_suspend(
      |                         ^~~~~~~~~~~~~~
./kern/mach.server.h:542:15: warning: redundant redeclaration of ‘thread_resume’ [-Wredundant-decls]
  542 | kern_return_t thread_resume
      |               ^~~~~~~~~~~~~
./kern/thread.h:308:25: note: previous declaration of ‘thread_resume’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  308 | extern kern_return_t    thread_resume(
      |                         ^~~~~~~~~~~~~
./kern/mach.server.h:556:15: warning: redundant redeclaration of ‘thread_abort’ [-Wredundant-decls]
  556 | kern_return_t thread_abort
      |               ^~~~~~~~~~~~
./kern/thread.h:310:25: note: previous declaration of ‘thread_abort’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  310 | extern kern_return_t    thread_abort(
      |                         ^~~~~~~~~~~~
./kern/mach.server.h:570:15: warning: redundant redeclaration of ‘thread_get_special_port’ [-Wredundant-decls]
  570 | kern_return_t thread_get_special_port
      |               ^~~~~~~~~~~~~~~~~~~~~~~
./kern/thread.h:343:25: note: previous declaration of ‘thread_get_special_port’ with type ‘kern_return_t(struct thread *, int,  struct ipc_port **)’ {aka ‘int(struct thread *, int,  struct ipc_port **)’}
  343 | extern kern_return_t    thread_get_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
./kern/mach.server.h:586:15: warning: redundant redeclaration of ‘thread_set_special_port’ [-Wredundant-decls]
  586 | kern_return_t thread_set_special_port
      |               ^~~~~~~~~~~~~~~~~~~~~~~
./kern/thread.h:347:25: note: previous declaration of ‘thread_set_special_port’ with type ‘kern_return_t(struct thread *, int,  struct ipc_port *)’ {aka ‘int(struct thread *, int,  struct ipc_port *)’}
  347 | extern kern_return_t    thread_set_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
In file included from kern/ipc_kobject.c:55:
./kern/mach_host.server.h:49:15: warning: redundant redeclaration of ‘processor_start’ [-Wredundant-decls]
   49 | kern_return_t processor_start
      |               ^~~~~~~~~~~~~~~
In file included from ./kern/thread.h:48:
./kern/processor.h:296:22: note: previous declaration of ‘processor_start’ with type ‘kern_return_t(struct processor *)’ {aka ‘int(struct processor *)’}
  296 | extern kern_return_t processor_start(
      |                      ^~~~~~~~~~~~~~~
./kern/mach_host.server.h:63:15: warning: redundant redeclaration of ‘processor_exit’ [-Wredundant-decls]
   63 | kern_return_t processor_exit
      |               ^~~~~~~~~~~~~~
./kern/processor.h:299:22: note: previous declaration of ‘processor_exit’ with type ‘kern_return_t(struct processor *)’ {aka ‘int(struct processor *)’}
  299 | extern kern_return_t processor_exit(
      |                      ^~~~~~~~~~~~~~
./kern/mach_host.server.h:92:15: warning: redundant redeclaration of ‘processor_set_create’ [-Wredundant-decls]
   92 | kern_return_t processor_set_create
      |               ^~~~~~~~~~~~~~~~~~~~
./kern/processor.h:309:22: note: previous declaration of ‘processor_set_create’ with type ‘kern_return_t(struct host *, struct processor_set **, struct processor_set **)’ {aka ‘int(struct host *, struct processor_set **, struct processor_set **)’}
  309 | extern kern_return_t processor_set_create(
      |                      ^~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:108:15: warning: redundant redeclaration of ‘processor_set_destroy’ [-Wredundant-decls]
  108 | kern_return_t processor_set_destroy
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:314:22: note: previous declaration of ‘processor_set_destroy’ with type ‘kern_return_t(struct processor_set *)’ {aka ‘int(struct processor_set *)’}
  314 | extern kern_return_t processor_set_destroy(
      |                      ^~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:138:15: warning: redundant redeclaration of ‘processor_get_assignment’ [-Wredundant-decls]
  138 | kern_return_t processor_get_assignment
      |               ^~~~~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:285:22: note: previous declaration of ‘processor_get_assignment’ with type ‘kern_return_t(struct processor *, struct processor_set **)’ {aka ‘int(struct processor *, struct processor_set **)’}
  285 | extern kern_return_t processor_get_assignment(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:153:15: warning: redundant redeclaration of ‘thread_assign’ [-Wredundant-decls]
  153 | kern_return_t thread_assign
      |               ^~~~~~~~~~~~~
./kern/thread.h:356:25: note: previous declaration of ‘thread_assign’ with type ‘kern_return_t(struct thread *, struct processor_set *)’ {aka ‘int(struct thread *, struct processor_set *)’}
  356 | extern kern_return_t    thread_assign(
      |                         ^~~~~~~~~~~~~
./kern/mach_host.server.h:168:15: warning: redundant redeclaration of ‘thread_assign_default’ [-Wredundant-decls]
  168 | kern_return_t thread_assign_default
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/thread.h:359:25: note: previous declaration of ‘thread_assign_default’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  359 | extern kern_return_t    thread_assign_default(
      |                         ^~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:197:15: warning: redundant redeclaration of ‘task_assign’ [-Wredundant-decls]
  197 | kern_return_t task_assign
      |               ^~~~~~~~~~~
./kern/task.h:171:25: note: previous declaration of ‘task_assign’ with type ‘kern_return_t(struct task *, struct processor_set *, boolean_t)’ {aka ‘int(struct task *, struct processor_set *, int)’}
  171 | extern kern_return_t    task_assign(
      |                         ^~~~~~~~~~~
./kern/mach_host.server.h:213:15: warning: redundant redeclaration of ‘task_assign_default’ [-Wredundant-decls]
  213 | kern_return_t task_assign_default
      |               ^~~~~~~~~~~~~~~~~~~
./kern/task.h:175:25: note: previous declaration of ‘task_assign_default’ with type ‘kern_return_t(struct task *, boolean_t)’ {aka ‘int(struct task *, int)’}
  175 | extern kern_return_t    task_assign_default(
      |                         ^~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:258:15: warning: redundant redeclaration of ‘thread_priority’ [-Wredundant-decls]
  258 | kern_return_t thread_priority
      |               ^~~~~~~~~~~~~~~
./kern/thread.h:315:25: note: previous declaration of ‘thread_priority’ with type ‘kern_return_t(struct thread *, int,  boolean_t)’ {aka ‘int(struct thread *, int,  int)’}
  315 | extern kern_return_t    thread_priority(
      |                         ^~~~~~~~~~~~~~~
./kern/mach_host.server.h:274:15: warning: redundant redeclaration of ‘thread_max_priority’ [-Wredundant-decls]
  274 | kern_return_t thread_max_priority
      |               ^~~~~~~~~~~~~~~~~~~
./kern/thread.h:321:25: note: previous declaration of ‘thread_max_priority’ with type ‘kern_return_t(struct thread *, struct processor_set *, int)’ {aka ‘int(struct thread *, struct processor_set *, int)’}
  321 | extern kern_return_t    thread_max_priority(
      |                         ^~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:306:15: warning: redundant redeclaration of ‘processor_set_max_priority’ [-Wredundant-decls]
  306 | kern_return_t processor_set_max_priority
      |               ^~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:324:22: note: previous declaration of ‘processor_set_max_priority’ with type ‘kern_return_t(struct processor_set *, int,  boolean_t)’ {aka ‘int(struct processor_set *, int,  int)’}
  324 | extern kern_return_t processor_set_max_priority(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:322:15: warning: redundant redeclaration of ‘thread_policy’ [-Wredundant-decls]
  322 | kern_return_t thread_policy
      |               ^~~~~~~~~~~~~
./kern/thread.h:325:25: note: previous declaration of ‘thread_policy’ with type ‘kern_return_t(struct thread *, int,  int)’ {aka ‘int(struct thread *, int,  int)’}
  325 | extern kern_return_t    thread_policy(
      |                         ^~~~~~~~~~~~~
./kern/mach_host.server.h:338:15: warning: redundant redeclaration of ‘processor_set_policy_enable’ [-Wredundant-decls]
  338 | kern_return_t processor_set_policy_enable
      |               ^~~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:329:22: note: previous declaration of ‘processor_set_policy_enable’ with type ‘kern_return_t(struct processor_set *, int)’ {aka ‘int(struct processor_set *, int)’}
  329 | extern kern_return_t processor_set_policy_enable(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:353:15: warning: redundant redeclaration of ‘processor_set_policy_disable’ [-Wredundant-decls]
  353 | kern_return_t processor_set_policy_disable
      |               ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:333:22: note: previous declaration of ‘processor_set_policy_disable’ with type ‘kern_return_t(struct processor_set *, int,  boolean_t)’ {aka ‘int(struct processor_set *, int,  int)’}
  333 | extern kern_return_t processor_set_policy_disable(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:369:15: warning: redundant redeclaration of ‘processor_set_tasks’ [-Wredundant-decls]
  369 | kern_return_t processor_set_tasks
      |               ^~~~~~~~~~~~~~~~~~~
./kern/processor.h:338:22: note: previous declaration of ‘processor_set_tasks’ with type ‘kern_return_t(struct processor_set *, mach_port_t **, natural_t *)’ {aka ‘int(struct processor_set *, long unsigned int **, unsigned int *)’}
  338 | extern kern_return_t processor_set_tasks(
      |                      ^~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:385:15: warning: redundant redeclaration of ‘processor_set_threads’ [-Wredundant-decls]
  385 | kern_return_t processor_set_threads
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:343:22: note: previous declaration of ‘processor_set_threads’ with type ‘kern_return_t(struct processor_set *, mach_port_t **, natural_t *)’ {aka ‘int(struct processor_set *, long unsigned int **, unsigned int *)’}
  343 | extern kern_return_t processor_set_threads(
      |                      ^~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:559:15: warning: redundant redeclaration of ‘processor_info’ [-Wredundant-decls]
  559 | kern_return_t processor_info
      |               ^~~~~~~~~~~~~~
./kern/processor.h:289:22: note: previous declaration of ‘processor_info’ with type ‘kern_return_t(struct processor *, int,  struct host **, integer_t *, natural_t *)’ {aka ‘int(struct processor *, int,  struct host **, int *, unsigned int *)’}
  289 | extern kern_return_t processor_info(
      |                      ^~~~~~~~~~~~~~
./kern/mach_host.server.h:577:15: warning: redundant redeclaration of ‘processor_set_info’ [-Wredundant-decls]
  577 | kern_return_t processor_set_info
      |               ^~~~~~~~~~~~~~~~~~
./kern/processor.h:317:22: note: previous declaration of ‘processor_set_info’ with type ‘kern_return_t(struct processor_set *, int,  struct host **, integer_t *, natural_t *)’ {aka ‘int(struct processor_set *, int,  struct host **, int *, unsigned int *)’}
  317 | extern kern_return_t processor_set_info(
      |                      ^~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:595:15: warning: redundant redeclaration of ‘processor_control’ [-Wredundant-decls]
  595 | kern_return_t processor_control
      |               ^~~~~~~~~~~~~~~~~
./kern/processor.h:302:22: note: previous declaration of ‘processor_control’ with type ‘kern_return_t(struct processor *, integer_t *, natural_t)’ {aka ‘int(struct processor *, int *, unsigned int)’}
  302 | extern kern_return_t processor_control(
      |                      ^~~~~~~~~~~~~~~~~
In file included from kern/ipc_kobject.c:59:
./kern/gnumach.server.h:49:15: warning: redundant redeclaration of ‘thread_terminate_release’ [-Wredundant-decls]
   49 | kern_return_t thread_terminate_release
      |               ^~~~~~~~~~~~~~~~~~~~~~~~
./kern/thread.h:299:25: note: previous declaration of ‘thread_terminate_release’ with type ‘kern_return_t(struct thread *, struct task *, mach_port_name_t,  mach_port_name_t,  vm_offset_t,  vm_size_t)’ {aka ‘int(struct thread *, struct task *, unsigned int,  unsigned int,  long unsigned int,  long unsigned int)’}
  299 | extern kern_return_t    thread_terminate_release(
      |                         ^~~~~~~~~~~~~~~~~~~~~~~~
./kern/gnumach.server.h:68:15: warning: redundant redeclaration of ‘task_set_name’ [-Wredundant-decls]
   68 | kern_return_t task_set_name
      |               ^~~~~~~~~~~~~
./kern/task.h:178:25: note: previous declaration of ‘task_set_name’ with type ‘kern_return_t(struct task *, const char *)’ {aka ‘int(struct task *, const char *)’}
  178 | extern kern_return_t    task_set_name(
      |                         ^~~~~~~~~~~~~
./kern/gnumach.server.h:259:15: warning: redundant redeclaration of ‘thread_set_name’ [-Wredundant-decls]
  259 | kern_return_t thread_set_name
      |               ^~~~~~~~~~~~~~~
./kern/thread.h:362:22: note: previous declaration of ‘thread_set_name’ with type ‘kern_return_t(struct thread *, const char *)’ {aka ‘int(struct thread *, const char *)’}
  362 | extern kern_return_t thread_set_name(
      |                      ^~~~~~~~~~~~~~~
./kern/gnumach.server.h:274:15: warning: redundant redeclaration of ‘thread_get_name’ [-Wredundant-decls]
  274 | kern_return_t thread_get_name
      |               ^~~~~~~~~~~~~~~
./kern/thread.h:365:22: note: previous declaration of ‘thread_get_name’ with type ‘kern_return_t(struct thread *, char *)’ {aka ‘int(struct thread *, char *)’}
  365 | extern kern_return_t thread_get_name(
      |                      ^~~~~~~~~~~~~~~
kern/ipc_kobject.c: In function ‘ipc_kobject_server’:
kern/ipc_kobject.c:103:41: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  103 | #define OutP    ((mig_reply_header_t *) &reply->ikm_header)
      |                                         ^~~~~~~~~~~~~~~~~~
kern/ipc_kobject.c:114:13: note: in expansion of macro ‘OutP’
  114 |             OutP->Head.msgh_bits =
      |             ^~~~
kern/ipc_kobject.c:103:41: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  103 | #define OutP    ((mig_reply_header_t *) &reply->ikm_header)
      |                                         ^~~~~~~~~~~~~~~~~~
kern/ipc_kobject.c:116:13: note: in expansion of macro ‘OutP’
  116 |             OutP->Head.msgh_size = sizeof(mig_reply_header_t);
      |             ^~~~
kern/ipc_kobject.c:103:41: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  103 | #define OutP    ((mig_reply_header_t *) &reply->ikm_header)
      |                                         ^~~~~~~~~~~~~~~~~~
kern/ipc_kobject.c:117:13: note: in expansion of macro ‘OutP’
  117 |             OutP->Head.msgh_remote_port = InP->msgh_local_port;
      |             ^~~~
kern/ipc_kobject.c:103:41: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  103 | #define OutP    ((mig_reply_header_t *) &reply->ikm_header)
      |                                         ^~~~~~~~~~~~~~~~~~
kern/ipc_kobject.c:118:13: note: in expansion of macro ‘OutP’
  118 |             OutP->Head.msgh_local_port  = MACH_PORT_NULL;
      |             ^~~~
kern/ipc_kobject.c:103:41: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  103 | #define OutP    ((mig_reply_header_t *) &reply->ikm_header)
      |                                         ^~~~~~~~~~~~~~~~~~
kern/ipc_kobject.c:119:13: note: in expansion of macro ‘OutP’
  119 |             OutP->Head.msgh_seqno = 0;
      |             ^~~~
kern/ipc_kobject.c:103:41: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  103 | #define OutP    ((mig_reply_header_t *) &reply->ikm_header)
      |                                         ^~~~~~~~~~~~~~~~~~
kern/ipc_kobject.c:120:13: note: in expansion of macro ‘OutP’
  120 |             OutP->Head.msgh_id = InP->msgh_id + MACH_EXCEPTION_REPLY_OFFSET;
      |             ^~~~
kern/ipc_kobject.c:103:41: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  103 | #define OutP    ((mig_reply_header_t *) &reply->ikm_header)
      |                                         ^~~~~~~~~~~~~~~~~~
kern/ipc_kobject.c:153:13: note: in expansion of macro ‘OutP’
  153 |             OutP->RetCodeType = RetCodeType;
      |             ^~~~
kern/ipc_kobject.c:185:41: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  185 |                 ((mig_reply_header_t *) &reply->ikm_header)->RetCode
      |                                         ^~~~~~~~~~~~~~~~~~
kern/ipc_kobject.c:210:32: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
  210 |         destp = (ipc_port_t *) &request->ikm_header.msgh_remote_port;
      |                                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
kern/ipc_kobject.c:229:38: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  229 |         kr = ((mig_reply_header_t *) &reply->ikm_header)->RetCode;
      |                                      ^~~~~~~~~~~~~~~~~~
kern/ipc_kobject.c: In function ‘ipc_kobject_set’:
kern/ipc_kobject.c:290:40: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-65536’ to ‘4294901760’ [-Wsign-conversion]
  290 |         port->ip_bits = (port->ip_bits &~ IO_BITS_KOTYPE) | type;
      |                                        ^
depbase=`echo kern/ipc_mig.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/ipc_mig.o -MD -MP -MF $depbase.Tpo -c -o kern/ipc_mig.o kern/ipc_mig.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from ./include/mach/mig_support.h:38,
                 from kern/ipc_mig.c:30:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53,
                 from kern/ipc_mig.c:37:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
./kern/task.h: At top level:
./kern/task.h:189:25: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
In file included from kern/ipc_mig.c:35:
./kern/ipc_tt.h:69:1: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./kern/thread.h:54:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
./kern/thread.h: At top level:
./kern/thread.h:376:25: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53,
                 from ./ipc/ipc_kmsg.h:46,
                 from ./kern/ipc_kobject.h:44,
                 from kern/ipc_mig.c:39:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from kern/ipc_mig.c:44:
./ipc/copy_user.h: In function ‘copyout_64to32’:
./ipc/copy_user.h:50:19: warning: conversion from ‘uint64_t’ {aka ‘long unsigned int’} to ‘uint32_t’ {aka ‘unsigned int’} may change value [-Wconversion]
   50 |   uint32_t rkaddr=*kaddr;
      |                   ^
In file included from ./ipc/ipc_space.h:52,
                 from kern/ipc_mig.c:50:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/mach/port.h:39,
                 from kern/ipc_mig.c:28:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
In file included from kern/ipc_mig.c:49:
kern/ipc_mig.c: In function ‘mach_msg_send_from_kernel’:
./ipc/ipc_mqueue.h:95:27: warning: declaration of ‘mr’ shadows a previous local [-Wshadow]
   95 |         mach_msg_return_t mr;                                           \
      |                           ^~
kern/ipc_mig.c:91:9: note: in expansion of macro ‘ipc_mqueue_send_always’
   91 |         ipc_mqueue_send_always(kmsg);
      |         ^~~~~~~~~~~~~~~~~~~~~~
kern/ipc_mig.c:81:27: note: shadowed declaration is here
   81 |         mach_msg_return_t mr;
      |                           ^~
kern/ipc_mig.c: In function ‘port_name_to_device’:
kern/ipc_mig.c:378:53: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
  378 |                                    (ipc_object_t *) &kern_port);
      |                                                     ^~~~~~~~~~
kern/ipc_mig.c: In function ‘port_name_to_thread’:
kern/ipc_mig.c:422:49: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
  422 |                                (ipc_object_t *) &kern_port);
      |                                                 ^~~~~~~~~~
kern/ipc_mig.c: In function ‘port_name_to_task’:
kern/ipc_mig.c:469:49: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
  469 |                                (ipc_object_t *) &kern_port);
      |                                                 ^~~~~~~~~~
kern/ipc_mig.c: In function ‘port_name_to_map’:
kern/ipc_mig.c:517:49: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
  517 |                                (ipc_object_t *) &kern_port);
      |                                                 ^~~~~~~~~~
kern/ipc_mig.c: In function ‘port_name_to_space’:
kern/ipc_mig.c:564:49: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
  564 |                                (ipc_object_t *) &kern_port);
      |                                                 ^~~~~~~~~~
kern/ipc_mig.c: In function ‘syscall_vm_map’:
kern/ipc_mig.c:615:61: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
  615 |                                            (ipc_object_t *) &port);
      |                                                             ^~~~~
kern/ipc_mig.c: In function ‘syscall_task_set_special_port’:
kern/ipc_mig.c:751:61: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
  751 |                                            (ipc_object_t *) &port);
      |                                                             ^~~~~
depbase=`echo kern/ipc_sched.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/ipc_sched.o -MD -MP -MF $depbase.Tpo -c -o kern/ipc_sched.o kern/ipc_sched.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/mach_clock.h:36,
                 from kern/ipc_sched.c:32:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53,
                 from kern/ipc_sched.c:33:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./kern/thread.h:54:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
kern/ipc_sched.c: In function ‘thread_go’:
kern/ipc_sched.c:77:33: warning: conversion from ‘int’ to ‘short unsigned int’ may change value [-Wconversion]
   77 |                 thread->state = (state &~ TH_WAIT) | TH_RUN;
      |                                 ^
kern/ipc_sched.c:90:33: warning: conversion from ‘int’ to ‘short unsigned int’ may change value [-Wconversion]
   90 |                 thread->state = state & ~TH_WAIT;
      |                                 ^~~~~
In file included from ./kern/thread.h:49:
kern/ipc_sched.c: In function ‘thread_will_wait_with_timeout’:
./kern/sched_prim.h:183:28: warning: conversion to ‘mach_msg_timeout_t’ {aka ‘unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  183 |                 (((millis) * hz + 999) / 1000)
      |                            ^
kern/ipc_sched.c:139:27: note: in expansion of macro ‘convert_ipc_timeout_to_ticks’
  139 |         natural_t ticks = convert_ipc_timeout_to_ticks(msecs);
      |                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from ./kern/thread.h:44:
kern/ipc_sched.c: In function ‘thread_handoff’:
./kern/ast.h:113:50: warning: conversion to ‘ast_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  113 |              (need_ast[mycpu] &~ AST_PER_THREAD) | (thread)->ast)       \
      |                                                  ^
kern/ipc_sched.c:230:9: note: in expansion of macro ‘ast_context’
  230 |         ast_context(new, cpu_number());
      |         ^~~~~~~~~~~
depbase=`echo kern/ipc_tt.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/ipc_tt.o -MD -MP -MF $depbase.Tpo -c -o kern/ipc_tt.o kern/ipc_tt.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./vm/vm_kern.h:38,
                 from kern/ipc_tt.c:38:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from ./vm/pmap.h:45:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from kern/ipc_tt.c:44:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
./kern/ipc_tt.h:90:1: warning: redundant redeclaration of ‘mach_reply_port’ [-Wredundant-decls]
   90 | mach_reply_port (void);
      | ^~~~~~~~~~~~~~~
In file included from kern/ipc_tt.c:35:
./include/mach/mach_traps.h:38:18: note: previous declaration of ‘mach_reply_port’ with type ‘mach_port_name_t(void)’ {aka ‘unsigned int(void)’}
   38 | mach_port_name_t mach_reply_port (void);
      |                  ^~~~~~~~~~~~~~~
In file included from ./ipc/ipc_space.h:52,
                 from ./kern/mach.server.h:21,
                 from kern/ipc_tt.c:45:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/mach/port.h:39,
                 from ./include/mach/mach_traps.h:36:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./kern/mach.server.h: At top level:
./kern/mach.server.h:33:15: warning: redundant redeclaration of ‘task_create’ [-Wredundant-decls]
   33 | kern_return_t task_create
      |               ^~~~~~~~~~~
./kern/task.h:140:25: note: previous declaration of ‘task_create’ with type ‘kern_return_t(struct task *, boolean_t,  struct task **)’ {aka ‘int(struct task *, int,  struct task **)’}
  140 | extern kern_return_t    task_create(
      |                         ^~~~~~~~~~~
./kern/mach.server.h:49:15: warning: redundant redeclaration of ‘task_terminate’ [-Wredundant-decls]
   49 | kern_return_t task_terminate
      |               ^~~~~~~~~~~~~~
./kern/task.h:148:25: note: previous declaration of ‘task_terminate’ with type ‘kern_return_t(struct task *)’ {aka ‘int(struct task *)’}
  148 | extern kern_return_t    task_terminate(
      |                         ^~~~~~~~~~~~~~
./kern/mach.server.h:97:15: warning: redundant redeclaration of ‘task_threads’ [-Wredundant-decls]
   97 | kern_return_t task_threads
      |               ^~~~~~~~~~~~
./kern/task.h:154:25: note: previous declaration of ‘task_threads’ with type ‘kern_return_t(struct task *, mach_port_t **, natural_t *)’ {aka ‘int(struct task *, long unsigned int **, unsigned int *)’}
  154 | extern kern_return_t    task_threads(
      |                         ^~~~~~~~~~~~
./kern/mach.server.h:113:15: warning: redundant redeclaration of ‘task_info’ [-Wredundant-decls]
  113 | kern_return_t task_info
      |               ^~~~~~~~~
./kern/task.h:158:25: note: previous declaration of ‘task_info’ with type ‘kern_return_t(struct task *, int,  integer_t *, natural_t *)’ {aka ‘int(struct task *, int,  int *, unsigned int *)’}
  158 | extern kern_return_t    task_info(
      |                         ^~~~~~~~~
./kern/mach.server.h:130:15: warning: redundant redeclaration of ‘thread_terminate’ [-Wredundant-decls]
  130 | kern_return_t thread_terminate
      |               ^~~~~~~~~~~~~~~~
./kern/thread.h:297:25: note: previous declaration of ‘thread_terminate’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  297 | extern kern_return_t    thread_terminate(
      |                         ^~~~~~~~~~~~~~~~
./kern/mach.server.h:144:15: warning: redundant redeclaration of ‘thread_get_state’ [-Wredundant-decls]
  144 | kern_return_t thread_get_state
      |               ^~~~~~~~~~~~~~~~
./kern/thread.h:333:25: note: previous declaration of ‘thread_get_state’ with type ‘kern_return_t(struct thread *, int,  natural_t *, natural_t *)’ {aka ‘int(struct thread *, int,  unsigned int *, unsigned int *)’}
  333 | extern kern_return_t    thread_get_state(
      |                         ^~~~~~~~~~~~~~~~
./kern/mach.server.h:161:15: warning: redundant redeclaration of ‘thread_set_state’ [-Wredundant-decls]
  161 | kern_return_t thread_set_state
      |               ^~~~~~~~~~~~~~~~
./kern/thread.h:338:25: note: previous declaration of ‘thread_set_state’ with type ‘kern_return_t(struct thread *, int,  natural_t *, natural_t)’ {aka ‘int(struct thread *, int,  unsigned int *, unsigned int)’}
  338 | extern kern_return_t    thread_set_state(
      |                         ^~~~~~~~~~~~~~~~
./kern/mach.server.h:178:15: warning: redundant redeclaration of ‘thread_info’ [-Wredundant-decls]
  178 | kern_return_t thread_info
      |               ^~~~~~~~~~~
./kern/thread.h:351:25: note: previous declaration of ‘thread_info’ with type ‘kern_return_t(struct thread *, int,  integer_t *, natural_t *)’ {aka ‘int(struct thread *, int,  int *, unsigned int *)’}
  351 | extern kern_return_t    thread_info(
      |                         ^~~~~~~~~~~
./kern/mach.server.h:453:15: warning: redundant redeclaration of ‘task_suspend’ [-Wredundant-decls]
  453 | kern_return_t task_suspend
      |               ^~~~~~~~~~~~
./kern/task.h:150:25: note: previous declaration of ‘task_suspend’ with type ‘kern_return_t(struct task *)’ {aka ‘int(struct task *)’}
  150 | extern kern_return_t    task_suspend(
      |                         ^~~~~~~~~~~~
./kern/mach.server.h:467:15: warning: redundant redeclaration of ‘task_resume’ [-Wredundant-decls]
  467 | kern_return_t task_resume
      |               ^~~~~~~~~~~
./kern/task.h:152:25: note: previous declaration of ‘task_resume’ with type ‘kern_return_t(struct task *)’ {aka ‘int(struct task *)’}
  152 | extern kern_return_t    task_resume(
      |                         ^~~~~~~~~~~
./kern/mach.server.h:481:15: warning: redundant redeclaration of ‘task_get_special_port’ [-Wredundant-decls]
  481 | kern_return_t task_get_special_port
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/task.h:163:25: note: previous declaration of ‘task_get_special_port’ with type ‘kern_return_t(struct task *, int,  struct ipc_port **)’ {aka ‘int(struct task *, int,  struct ipc_port **)’}
  163 | extern kern_return_t    task_get_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~
./kern/mach.server.h:497:15: warning: redundant redeclaration of ‘task_set_special_port’ [-Wredundant-decls]
  497 | kern_return_t task_set_special_port
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/task.h:167:25: note: previous declaration of ‘task_set_special_port’ with type ‘kern_return_t(struct task *, int,  struct ipc_port *)’ {aka ‘int(struct task *, int,  struct ipc_port *)’}
  167 | extern kern_return_t    task_set_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~
./kern/mach.server.h:513:15: warning: redundant redeclaration of ‘thread_create’ [-Wredundant-decls]
  513 | kern_return_t thread_create
      |               ^~~~~~~~~~~~~
./kern/thread.h:294:25: note: previous declaration of ‘thread_create’ with type ‘kern_return_t(struct task *, struct thread **)’ {aka ‘int(struct task *, struct thread **)’}
  294 | extern kern_return_t    thread_create(
      |                         ^~~~~~~~~~~~~
./kern/mach.server.h:528:15: warning: redundant redeclaration of ‘thread_suspend’ [-Wredundant-decls]
  528 | kern_return_t thread_suspend
      |               ^~~~~~~~~~~~~~
./kern/thread.h:306:25: note: previous declaration of ‘thread_suspend’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  306 | extern kern_return_t    thread_suspend(
      |                         ^~~~~~~~~~~~~~
./kern/mach.server.h:542:15: warning: redundant redeclaration of ‘thread_resume’ [-Wredundant-decls]
  542 | kern_return_t thread_resume
      |               ^~~~~~~~~~~~~
./kern/thread.h:308:25: note: previous declaration of ‘thread_resume’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  308 | extern kern_return_t    thread_resume(
      |                         ^~~~~~~~~~~~~
./kern/mach.server.h:556:15: warning: redundant redeclaration of ‘thread_abort’ [-Wredundant-decls]
  556 | kern_return_t thread_abort
      |               ^~~~~~~~~~~~
./kern/thread.h:310:25: note: previous declaration of ‘thread_abort’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  310 | extern kern_return_t    thread_abort(
      |                         ^~~~~~~~~~~~
./kern/mach.server.h:570:15: warning: redundant redeclaration of ‘thread_get_special_port’ [-Wredundant-decls]
  570 | kern_return_t thread_get_special_port
      |               ^~~~~~~~~~~~~~~~~~~~~~~
./kern/thread.h:343:25: note: previous declaration of ‘thread_get_special_port’ with type ‘kern_return_t(struct thread *, int,  struct ipc_port **)’ {aka ‘int(struct thread *, int,  struct ipc_port **)’}
  343 | extern kern_return_t    thread_get_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
./kern/mach.server.h:586:15: warning: redundant redeclaration of ‘thread_set_special_port’ [-Wredundant-decls]
  586 | kern_return_t thread_set_special_port
      |               ^~~~~~~~~~~~~~~~~~~~~~~
./kern/thread.h:347:25: note: previous declaration of ‘thread_set_special_port’ with type ‘kern_return_t(struct thread *, int,  struct ipc_port *)’ {aka ‘int(struct thread *, int,  struct ipc_port *)’}
  347 | extern kern_return_t    thread_set_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
depbase=`echo kern/kalloc_enhanced.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/kalloc_enhanced.o -MD -MP -MF $depbase.Tpo -c -o kern/kalloc_enhanced.o kern/kalloc_enhanced.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from kern/kalloc_enhanced.c:25:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./kern/printf.h:30,
                 from kern/kalloc_enhanced.c:26:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
kern/kalloc_enhanced.c: In function ‘kalloc_report_fragmentation’:
kern/kalloc_enhanced.c:249:25: warning: conversion from ‘uint64_t’ {aka ‘long unsigned int’} to ‘uint32_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  249 |             large_pct = (stats.large_allocs * 100) / stats.alloc_count;
      |                         ^
kern/kalloc_enhanced.c:252:63: warning: format ‘%llu’ expects argument of type ‘long long unsigned int’, but argument 4 has type ‘uint64_t’ {aka ‘long unsigned int’} [-Wformat=]
  252 |         printf("  Large allocation ratio: %u%% (%u large / %llu total)\n",
      |                                                            ~~~^
      |                                                               |
      |                                                               long long unsigned int
      |                                                            %lu
  253 |                large_pct, stats.large_allocs, stats.alloc_count);
      |                                               ~~~~~~~~~~~~~~~~~
      |                                                    |
      |                                                    uint64_t {aka long unsigned int}
depbase=`echo kern/kmutex.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/kmutex.o -MD -MP -MF $depbase.Tpo -c -o kern/kmutex.o kern/kmutex.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from kern/kmutex.c:22:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./kern/thread.h:54:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
kern/kmutex.c: In function ‘kmutex_lock’:
kern/kmutex.c:51:47: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
   51 |   thread_sleep ((event_t)mtxp, (simple_lock_t)&mtxp->lock, interruptible);
      |                                               ^~~~~~~~~~~
depbase=`echo kern/lock.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/lock.o -MD -MP -MF $depbase.Tpo -c -o kern/lock.o kern/lock.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from kern/lock.c:43:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./kern/thread.h:54:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
kern/lock.c: In function ‘lock_init’:
kern/lock.c:253:24: warning: conversion from ‘boolean_t’ {aka ‘int’} to ‘unsigned char:1’ may change value [-Wconversion]
  253 |         l->can_sleep = can_sleep;
      |                        ^~~~~~~~~
kern/lock.c: In function ‘lock_sleepable’:
kern/lock.c:263:24: warning: conversion from ‘boolean_t’ {aka ‘int’} to ‘unsigned char:1’ may change value [-Wconversion]
  263 |         l->can_sleep = can_sleep;
      |                        ^~~~~~~~~
depbase=`echo kern/lock_mon.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/lock_mon.o -MD -MP -MF $depbase.Tpo -c -o kern/lock_mon.o kern/lock_mon.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from kern/lock_mon.c:46:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./kern/thread.h:54:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
depbase=`echo kern/mach_clock.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/mach_clock.o -MD -MP -MF $depbase.Tpo -c -o kern/mach_clock.o kern/mach_clock.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from kern/mach_clock.c:41:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./kern/ipc_kobject.h:44,
                 from ./kern/mach_host.server.h:12,
                 from kern/mach_clock.c:50:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ./kern/mach_host.server.h:13:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
In file included from ./kern/thread.h:53,
                 from ./vm/pmap.h:45:
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
In file included from ./ipc/ipc_space.h:52,
                 from ./kern/mach_host.server.h:21:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/sys/types.h:29,
                 from ./include/string.h:29,
                 from kern/mach_clock.c:37:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./kern/mach_host.server.h: At top level:
./kern/mach_host.server.h:49:15: warning: redundant redeclaration of ‘processor_start’ [-Wredundant-decls]
   49 | kern_return_t processor_start
      |               ^~~~~~~~~~~~~~~
In file included from ./kern/thread.h:48:
./kern/processor.h:296:22: note: previous declaration of ‘processor_start’ with type ‘kern_return_t(struct processor *)’ {aka ‘int(struct processor *)’}
  296 | extern kern_return_t processor_start(
      |                      ^~~~~~~~~~~~~~~
./kern/mach_host.server.h:63:15: warning: redundant redeclaration of ‘processor_exit’ [-Wredundant-decls]
   63 | kern_return_t processor_exit
      |               ^~~~~~~~~~~~~~
./kern/processor.h:299:22: note: previous declaration of ‘processor_exit’ with type ‘kern_return_t(struct processor *)’ {aka ‘int(struct processor *)’}
  299 | extern kern_return_t processor_exit(
      |                      ^~~~~~~~~~~~~~
./kern/mach_host.server.h:92:15: warning: redundant redeclaration of ‘processor_set_create’ [-Wredundant-decls]
   92 | kern_return_t processor_set_create
      |               ^~~~~~~~~~~~~~~~~~~~
./kern/processor.h:309:22: note: previous declaration of ‘processor_set_create’ with type ‘kern_return_t(struct host *, struct processor_set **, struct processor_set **)’ {aka ‘int(struct host *, struct processor_set **, struct processor_set **)’}
  309 | extern kern_return_t processor_set_create(
      |                      ^~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:108:15: warning: redundant redeclaration of ‘processor_set_destroy’ [-Wredundant-decls]
  108 | kern_return_t processor_set_destroy
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:314:22: note: previous declaration of ‘processor_set_destroy’ with type ‘kern_return_t(struct processor_set *)’ {aka ‘int(struct processor_set *)’}
  314 | extern kern_return_t processor_set_destroy(
      |                      ^~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:138:15: warning: redundant redeclaration of ‘processor_get_assignment’ [-Wredundant-decls]
  138 | kern_return_t processor_get_assignment
      |               ^~~~~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:285:22: note: previous declaration of ‘processor_get_assignment’ with type ‘kern_return_t(struct processor *, struct processor_set **)’ {aka ‘int(struct processor *, struct processor_set **)’}
  285 | extern kern_return_t processor_get_assignment(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:153:15: warning: redundant redeclaration of ‘thread_assign’ [-Wredundant-decls]
  153 | kern_return_t thread_assign
      |               ^~~~~~~~~~~~~
./kern/thread.h:356:25: note: previous declaration of ‘thread_assign’ with type ‘kern_return_t(struct thread *, struct processor_set *)’ {aka ‘int(struct thread *, struct processor_set *)’}
  356 | extern kern_return_t    thread_assign(
      |                         ^~~~~~~~~~~~~
./kern/mach_host.server.h:168:15: warning: redundant redeclaration of ‘thread_assign_default’ [-Wredundant-decls]
  168 | kern_return_t thread_assign_default
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/thread.h:359:25: note: previous declaration of ‘thread_assign_default’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  359 | extern kern_return_t    thread_assign_default(
      |                         ^~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:197:15: warning: redundant redeclaration of ‘task_assign’ [-Wredundant-decls]
  197 | kern_return_t task_assign
      |               ^~~~~~~~~~~
./kern/task.h:171:25: note: previous declaration of ‘task_assign’ with type ‘kern_return_t(struct task *, struct processor_set *, boolean_t)’ {aka ‘int(struct task *, struct processor_set *, int)’}
  171 | extern kern_return_t    task_assign(
      |                         ^~~~~~~~~~~
./kern/mach_host.server.h:213:15: warning: redundant redeclaration of ‘task_assign_default’ [-Wredundant-decls]
  213 | kern_return_t task_assign_default
      |               ^~~~~~~~~~~~~~~~~~~
./kern/task.h:175:25: note: previous declaration of ‘task_assign_default’ with type ‘kern_return_t(struct task *, boolean_t)’ {aka ‘int(struct task *, int)’}
  175 | extern kern_return_t    task_assign_default(
      |                         ^~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:258:15: warning: redundant redeclaration of ‘thread_priority’ [-Wredundant-decls]
  258 | kern_return_t thread_priority
      |               ^~~~~~~~~~~~~~~
./kern/thread.h:315:25: note: previous declaration of ‘thread_priority’ with type ‘kern_return_t(struct thread *, int,  boolean_t)’ {aka ‘int(struct thread *, int,  int)’}
  315 | extern kern_return_t    thread_priority(
      |                         ^~~~~~~~~~~~~~~
./kern/mach_host.server.h:274:15: warning: redundant redeclaration of ‘thread_max_priority’ [-Wredundant-decls]
  274 | kern_return_t thread_max_priority
      |               ^~~~~~~~~~~~~~~~~~~
./kern/thread.h:321:25: note: previous declaration of ‘thread_max_priority’ with type ‘kern_return_t(struct thread *, struct processor_set *, int)’ {aka ‘int(struct thread *, struct processor_set *, int)’}
  321 | extern kern_return_t    thread_max_priority(
      |                         ^~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:306:15: warning: redundant redeclaration of ‘processor_set_max_priority’ [-Wredundant-decls]
  306 | kern_return_t processor_set_max_priority
      |               ^~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:324:22: note: previous declaration of ‘processor_set_max_priority’ with type ‘kern_return_t(struct processor_set *, int,  boolean_t)’ {aka ‘int(struct processor_set *, int,  int)’}
  324 | extern kern_return_t processor_set_max_priority(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:322:15: warning: redundant redeclaration of ‘thread_policy’ [-Wredundant-decls]
  322 | kern_return_t thread_policy
      |               ^~~~~~~~~~~~~
./kern/thread.h:325:25: note: previous declaration of ‘thread_policy’ with type ‘kern_return_t(struct thread *, int,  int)’ {aka ‘int(struct thread *, int,  int)’}
  325 | extern kern_return_t    thread_policy(
      |                         ^~~~~~~~~~~~~
./kern/mach_host.server.h:338:15: warning: redundant redeclaration of ‘processor_set_policy_enable’ [-Wredundant-decls]
  338 | kern_return_t processor_set_policy_enable
      |               ^~~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:329:22: note: previous declaration of ‘processor_set_policy_enable’ with type ‘kern_return_t(struct processor_set *, int)’ {aka ‘int(struct processor_set *, int)’}
  329 | extern kern_return_t processor_set_policy_enable(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:353:15: warning: redundant redeclaration of ‘processor_set_policy_disable’ [-Wredundant-decls]
  353 | kern_return_t processor_set_policy_disable
      |               ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:333:22: note: previous declaration of ‘processor_set_policy_disable’ with type ‘kern_return_t(struct processor_set *, int,  boolean_t)’ {aka ‘int(struct processor_set *, int,  int)’}
  333 | extern kern_return_t processor_set_policy_disable(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:369:15: warning: redundant redeclaration of ‘processor_set_tasks’ [-Wredundant-decls]
  369 | kern_return_t processor_set_tasks
      |               ^~~~~~~~~~~~~~~~~~~
./kern/processor.h:338:22: note: previous declaration of ‘processor_set_tasks’ with type ‘kern_return_t(struct processor_set *, mach_port_t **, natural_t *)’ {aka ‘int(struct processor_set *, long unsigned int **, unsigned int *)’}
  338 | extern kern_return_t processor_set_tasks(
      |                      ^~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:385:15: warning: redundant redeclaration of ‘processor_set_threads’ [-Wredundant-decls]
  385 | kern_return_t processor_set_threads
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:343:22: note: previous declaration of ‘processor_set_threads’ with type ‘kern_return_t(struct processor_set *, mach_port_t **, natural_t *)’ {aka ‘int(struct processor_set *, long unsigned int **, unsigned int *)’}
  343 | extern kern_return_t processor_set_threads(
      |                      ^~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:559:15: warning: redundant redeclaration of ‘processor_info’ [-Wredundant-decls]
  559 | kern_return_t processor_info
      |               ^~~~~~~~~~~~~~
./kern/processor.h:289:22: note: previous declaration of ‘processor_info’ with type ‘kern_return_t(struct processor *, int,  struct host **, integer_t *, natural_t *)’ {aka ‘int(struct processor *, int,  struct host **, int *, unsigned int *)’}
  289 | extern kern_return_t processor_info(
      |                      ^~~~~~~~~~~~~~
./kern/mach_host.server.h:577:15: warning: redundant redeclaration of ‘processor_set_info’ [-Wredundant-decls]
  577 | kern_return_t processor_set_info
      |               ^~~~~~~~~~~~~~~~~~
./kern/processor.h:317:22: note: previous declaration of ‘processor_set_info’ with type ‘kern_return_t(struct processor_set *, int,  struct host **, integer_t *, natural_t *)’ {aka ‘int(struct processor_set *, int,  struct host **, int *, unsigned int *)’}
  317 | extern kern_return_t processor_set_info(
      |                      ^~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:595:15: warning: redundant redeclaration of ‘processor_control’ [-Wredundant-decls]
  595 | kern_return_t processor_control
      |               ^~~~~~~~~~~~~~~~~
./kern/processor.h:302:22: note: previous declaration of ‘processor_control’ with type ‘kern_return_t(struct processor *, integer_t *, natural_t)’ {aka ‘int(struct processor *, int *, unsigned int)’}
  302 | extern kern_return_t processor_control(
      |                      ^~~~~~~~~~~~~~~~~
In file included from ./kern/thread.h:50:
kern/mach_clock.c: In function ‘clock_interrupt’:
./kern/timer.h:143:27: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  143 |         (timer)->low_bits += usec;                              \
      |                           ^~
kern/mach_clock.c:251:13: note: in expansion of macro ‘timer_bump’
  251 |             timer_bump(&thread->user_timer, usec);
      |             ^~~~~~~~~~
./kern/timer.h:143:27: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  143 |         (timer)->low_bits += usec;                              \
      |                           ^~
kern/mach_clock.c:256:17: note: in expansion of macro ‘timer_bump’
  256 |                 timer_bump(&thread->system_timer, usec);
      |                 ^~~~~~~~~~
kern/mach_clock.c:112:40: warning: conversion from ‘int64_t’ {aka ‘long int’} to ‘integer_t’ {aka ‘int’} may change value [-Wconversion]
  112 |                 mtime->check_seconds = (time)->seconds;                 \
      |                                        ^
kern/mach_clock.c:371:13: note: in expansion of macro ‘update_mapped_time’
  371 |             update_mapped_time(&time);
      |             ^~~~~~~~~~~~~~~~~~
kern/mach_clock.c:115:39: warning: conversion from ‘int64_t’ {aka ‘long int’} to ‘integer_t’ {aka ‘int’} may change value [-Wconversion]
  115 |                 mtime->microseconds = (time)->nanoseconds / 1000;       \
      |                                       ^
kern/mach_clock.c:371:13: note: in expansion of macro ‘update_mapped_time’
  371 |             update_mapped_time(&time);
      |             ^~~~~~~~~~~~~~~~~~
kern/mach_clock.c:118:34: warning: conversion from ‘int64_t’ {aka ‘long int’} to ‘integer_t’ {aka ‘int’} may change value [-Wconversion]
  118 |                 mtime->seconds = (time)->seconds;                       \
      |                                  ^
kern/mach_clock.c:371:13: note: in expansion of macro ‘update_mapped_time’
  371 |             update_mapped_time(&time);
      |             ^~~~~~~~~~~~~~~~~~
kern/mach_clock.c: In function ‘set_timeout’:
kern/mach_clock.c:481:21: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  481 |         interval += elapsed_ticks;
      |                     ^~~~~~~~~~~~~
kern/mach_clock.c: In function ‘init_timeout’:
kern/mach_clock.c:521:28: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-1’ to ‘18446744073709551615’ [-Wsign-conversion]
  521 |         timer_head.ticks = ~0;  /* MAXUINT - sentinel */
      |                            ^
kern/mach_clock.c: In function ‘host_get_time’:
./include/mach/time_value.h:158:38: warning: conversion from ‘int64_t’ {aka ‘long int’} to ‘integer_t’ {aka ‘int’} may change value [-Wconversion]
  158 |                 (tv)->microseconds = (tv64)->nanoseconds / 1000;        \
      |                                      ^
kern/mach_clock.c:604:9: note: in expansion of macro ‘TIME_VALUE64_TO_TIME_VALUE’
  604 |         TIME_VALUE64_TO_TIME_VALUE(&current_time64, current_time);
      |         ^~~~~~~~~~~~~~~~~~~~~~~~~~
kern/mach_clock.c: In function ‘host_set_time64’:
kern/mach_clock.c:112:40: warning: conversion from ‘int64_t’ {aka ‘long int’} to ‘integer_t’ {aka ‘int’} may change value [-Wconversion]
  112 |                 mtime->check_seconds = (time)->seconds;                 \
      |                                        ^
kern/mach_clock.c:652:9: note: in expansion of macro ‘update_mapped_time’
  652 |         update_mapped_time(&time);
      |         ^~~~~~~~~~~~~~~~~~
kern/mach_clock.c:115:39: warning: conversion from ‘int64_t’ {aka ‘long int’} to ‘integer_t’ {aka ‘int’} may change value [-Wconversion]
  115 |                 mtime->microseconds = (time)->nanoseconds / 1000;       \
      |                                       ^
kern/mach_clock.c:652:9: note: in expansion of macro ‘update_mapped_time’
  652 |         update_mapped_time(&time);
      |         ^~~~~~~~~~~~~~~~~~
kern/mach_clock.c:118:34: warning: conversion from ‘int64_t’ {aka ‘long int’} to ‘integer_t’ {aka ‘int’} may change value [-Wconversion]
  118 |                 mtime->seconds = (time)->seconds;                       \
      |                                  ^
kern/mach_clock.c:652:9: note: in expansion of macro ‘update_mapped_time’
  652 |         update_mapped_time(&time);
      |         ^~~~~~~~~~~~~~~~~~
kern/mach_clock.c: In function ‘host_adjust_time’:
./include/mach/time_value.h:158:38: warning: conversion from ‘int64_t’ {aka ‘long int’} to ‘integer_t’ {aka ‘int’} may change value [-Wconversion]
  158 |                 (tv)->microseconds = (tv64)->nanoseconds / 1000;        \
      |                                      ^
kern/mach_clock.c:682:17: note: in expansion of macro ‘TIME_VALUE64_TO_TIME_VALUE’
  682 |                 TIME_VALUE64_TO_TIME_VALUE(&old_adjustment64, old_adjustment);
      |                 ^~~~~~~~~~~~~~~~~~~~~~~~~~
kern/mach_clock.c: In function ‘host_adjust_time64’:
kern/mach_clock.c:704:31: warning: conversion to ‘uint64_t’ {aka ‘long unsigned int’} from ‘int64_t’ {aka ‘long int’} may change the sign of the result [-Wsign-conversion]
  704 |         ndelta_microseconds = new_adjustment.seconds * MICROSECONDS_IN_ONE_SECOND
      |                               ^~~~~~~~~~~~~~
kern/mach_clock.c:720:29: warning: conversion to ‘int’ from ‘unsigned int’ may change the sign of the result [-Wsign-conversion]
  720 |                 tickdelta = 10 * tickadj;
      |                             ^~
kern/mach_clock.c:722:29: warning: conversion to ‘int’ from ‘unsigned int’ may change the sign of the result [-Wsign-conversion]
  722 |                 tickdelta = tickadj;
      |                             ^~~~~~~
kern/mach_clock.c:725:33: warning: conversion to ‘uint64_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  725 |         if (ndelta_microseconds % tickdelta)
      |                                 ^
kern/mach_clock.c:726:55: warning: conversion to ‘uint64_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  726 |             ndelta_microseconds = ndelta_microseconds / tickdelta * tickdelta;
      |                                                       ^
kern/mach_clock.c:726:67: warning: conversion to ‘uint64_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  726 |             ndelta_microseconds = ndelta_microseconds / tickdelta * tickdelta;
      |                                                                   ^
kern/mach_clock.c:728:21: warning: conversion from ‘uint64_t’ {aka ‘long unsigned int’} to ‘int’ may change value [-Wconversion]
  728 |         timedelta = ndelta_microseconds;
      |                     ^~~~~~~~~~~~~~~~~~~
kern/mach_clock.c: In function ‘host_get_uptime64’:
kern/mach_clock.c:744:54: warning: declaration of ‘uptime’ shadows a global declaration [-Wshadow]
  744 | host_get_uptime64(const host_t host, time_value64_t *uptime)
      |                                      ~~~~~~~~~~~~~~~~^~~~~~
kern/mach_clock.c:73:17: note: shadowed declaration is here
   73 | time_value64_t  uptime = { 0, 0 };      /* time since bootup */
      |                 ^~~~~~
kern/mach_clock.c: In function ‘mapable_time_init’:
kern/mach_clock.c:755:58: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
  755 |         if (kmem_alloc_wired(kernel_map, (vm_offset_t *) &mtime, PAGE_SIZE)
      |                                                          ^~~~~~
kern/mach_clock.c:112:40: warning: conversion from ‘int64_t’ {aka ‘long int’} to ‘integer_t’ {aka ‘int’} may change value [-Wconversion]
  112 |                 mtime->check_seconds = (time)->seconds;                 \
      |                                        ^
kern/mach_clock.c:759:9: note: in expansion of macro ‘update_mapped_time’
  759 |         update_mapped_time(&time);
      |         ^~~~~~~~~~~~~~~~~~
kern/mach_clock.c:115:39: warning: conversion from ‘int64_t’ {aka ‘long int’} to ‘integer_t’ {aka ‘int’} may change value [-Wconversion]
  115 |                 mtime->microseconds = (time)->nanoseconds / 1000;       \
      |                                       ^
kern/mach_clock.c:759:9: note: in expansion of macro ‘update_mapped_time’
  759 |         update_mapped_time(&time);
      |         ^~~~~~~~~~~~~~~~~~
kern/mach_clock.c:118:34: warning: conversion from ‘int64_t’ {aka ‘long int’} to ‘integer_t’ {aka ‘int’} may change value [-Wconversion]
  118 |                 mtime->seconds = (time)->seconds;                       \
      |                                  ^
kern/mach_clock.c:759:9: note: in expansion of macro ‘update_mapped_time’
  759 |         update_mapped_time(&time);
      |         ^~~~~~~~~~~~~~~~~~
depbase=`echo kern/mach_factor.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/mach_factor.o -MD -MP -MF $depbase.Tpo -c -o kern/mach_factor.o kern/mach_factor.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/mach_clock.h:36,
                 from kern/mach_factor.c:36:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
depbase=`echo kern/machine.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/machine.o -MD -MP -MF $depbase.Tpo -c -o kern/machine.o kern/machine.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from kern/machine.c:40:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./kern/ipc_kobject.h:44,
                 from ./kern/mach_host.server.h:12,
                 from kern/machine.c:48:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ./kern/mach_host.server.h:13:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
In file included from ./kern/thread.h:53,
                 from ./vm/pmap.h:45:
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
In file included from ./ipc/ipc_space.h:52,
                 from ./kern/mach_host.server.h:21:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/sys/types.h:29,
                 from ./include/string.h:29,
                 from kern/machine.c:37:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./kern/mach_host.server.h: At top level:
./kern/mach_host.server.h:49:15: warning: redundant redeclaration of ‘processor_start’ [-Wredundant-decls]
   49 | kern_return_t processor_start
      |               ^~~~~~~~~~~~~~~
In file included from ./kern/ipc_host.h:34,
                 from kern/machine.c:45:
./kern/processor.h:296:22: note: previous declaration of ‘processor_start’ with type ‘kern_return_t(struct processor *)’ {aka ‘int(struct processor *)’}
  296 | extern kern_return_t processor_start(
      |                      ^~~~~~~~~~~~~~~
./kern/mach_host.server.h:63:15: warning: redundant redeclaration of ‘processor_exit’ [-Wredundant-decls]
   63 | kern_return_t processor_exit
      |               ^~~~~~~~~~~~~~
./kern/processor.h:299:22: note: previous declaration of ‘processor_exit’ with type ‘kern_return_t(struct processor *)’ {aka ‘int(struct processor *)’}
  299 | extern kern_return_t processor_exit(
      |                      ^~~~~~~~~~~~~~
./kern/mach_host.server.h:92:15: warning: redundant redeclaration of ‘processor_set_create’ [-Wredundant-decls]
   92 | kern_return_t processor_set_create
      |               ^~~~~~~~~~~~~~~~~~~~
./kern/processor.h:309:22: note: previous declaration of ‘processor_set_create’ with type ‘kern_return_t(struct host *, struct processor_set **, struct processor_set **)’ {aka ‘int(struct host *, struct processor_set **, struct processor_set **)’}
  309 | extern kern_return_t processor_set_create(
      |                      ^~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:108:15: warning: redundant redeclaration of ‘processor_set_destroy’ [-Wredundant-decls]
  108 | kern_return_t processor_set_destroy
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:314:22: note: previous declaration of ‘processor_set_destroy’ with type ‘kern_return_t(struct processor_set *)’ {aka ‘int(struct processor_set *)’}
  314 | extern kern_return_t processor_set_destroy(
      |                      ^~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:122:15: warning: redundant redeclaration of ‘processor_assign’ [-Wredundant-decls]
  122 | kern_return_t processor_assign
      |               ^~~~~~~~~~~~~~~~
In file included from kern/machine.c:47:
./kern/machine.h:44:22: note: previous declaration of ‘processor_assign’ with type ‘kern_return_t(struct processor *, struct processor_set *, boolean_t)’ {aka ‘int(struct processor *, struct processor_set *, int)’}
   44 | extern kern_return_t processor_assign (processor_t, processor_set_t, boolean_t);
      |                      ^~~~~~~~~~~~~~~~
./kern/mach_host.server.h:138:15: warning: redundant redeclaration of ‘processor_get_assignment’ [-Wredundant-decls]
  138 | kern_return_t processor_get_assignment
      |               ^~~~~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:285:22: note: previous declaration of ‘processor_get_assignment’ with type ‘kern_return_t(struct processor *, struct processor_set **)’ {aka ‘int(struct processor *, struct processor_set **)’}
  285 | extern kern_return_t processor_get_assignment(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:153:15: warning: redundant redeclaration of ‘thread_assign’ [-Wredundant-decls]
  153 | kern_return_t thread_assign
      |               ^~~~~~~~~~~~~
./kern/thread.h:356:25: note: previous declaration of ‘thread_assign’ with type ‘kern_return_t(struct thread *, struct processor_set *)’ {aka ‘int(struct thread *, struct processor_set *)’}
  356 | extern kern_return_t    thread_assign(
      |                         ^~~~~~~~~~~~~
./kern/mach_host.server.h:168:15: warning: redundant redeclaration of ‘thread_assign_default’ [-Wredundant-decls]
  168 | kern_return_t thread_assign_default
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/thread.h:359:25: note: previous declaration of ‘thread_assign_default’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  359 | extern kern_return_t    thread_assign_default(
      |                         ^~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:197:15: warning: redundant redeclaration of ‘task_assign’ [-Wredundant-decls]
  197 | kern_return_t task_assign
      |               ^~~~~~~~~~~
./kern/task.h:171:25: note: previous declaration of ‘task_assign’ with type ‘kern_return_t(struct task *, struct processor_set *, boolean_t)’ {aka ‘int(struct task *, struct processor_set *, int)’}
  171 | extern kern_return_t    task_assign(
      |                         ^~~~~~~~~~~
./kern/mach_host.server.h:213:15: warning: redundant redeclaration of ‘task_assign_default’ [-Wredundant-decls]
  213 | kern_return_t task_assign_default
      |               ^~~~~~~~~~~~~~~~~~~
./kern/task.h:175:25: note: previous declaration of ‘task_assign_default’ with type ‘kern_return_t(struct task *, boolean_t)’ {aka ‘int(struct task *, int)’}
  175 | extern kern_return_t    task_assign_default(
      |                         ^~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:258:15: warning: redundant redeclaration of ‘thread_priority’ [-Wredundant-decls]
  258 | kern_return_t thread_priority
      |               ^~~~~~~~~~~~~~~
./kern/thread.h:315:25: note: previous declaration of ‘thread_priority’ with type ‘kern_return_t(struct thread *, int,  boolean_t)’ {aka ‘int(struct thread *, int,  int)’}
  315 | extern kern_return_t    thread_priority(
      |                         ^~~~~~~~~~~~~~~
./kern/mach_host.server.h:274:15: warning: redundant redeclaration of ‘thread_max_priority’ [-Wredundant-decls]
  274 | kern_return_t thread_max_priority
      |               ^~~~~~~~~~~~~~~~~~~
./kern/thread.h:321:25: note: previous declaration of ‘thread_max_priority’ with type ‘kern_return_t(struct thread *, struct processor_set *, int)’ {aka ‘int(struct thread *, struct processor_set *, int)’}
  321 | extern kern_return_t    thread_max_priority(
      |                         ^~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:306:15: warning: redundant redeclaration of ‘processor_set_max_priority’ [-Wredundant-decls]
  306 | kern_return_t processor_set_max_priority
      |               ^~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:324:22: note: previous declaration of ‘processor_set_max_priority’ with type ‘kern_return_t(struct processor_set *, int,  boolean_t)’ {aka ‘int(struct processor_set *, int,  int)’}
  324 | extern kern_return_t processor_set_max_priority(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:322:15: warning: redundant redeclaration of ‘thread_policy’ [-Wredundant-decls]
  322 | kern_return_t thread_policy
      |               ^~~~~~~~~~~~~
./kern/thread.h:325:25: note: previous declaration of ‘thread_policy’ with type ‘kern_return_t(struct thread *, int,  int)’ {aka ‘int(struct thread *, int,  int)’}
  325 | extern kern_return_t    thread_policy(
      |                         ^~~~~~~~~~~~~
./kern/mach_host.server.h:338:15: warning: redundant redeclaration of ‘processor_set_policy_enable’ [-Wredundant-decls]
  338 | kern_return_t processor_set_policy_enable
      |               ^~~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:329:22: note: previous declaration of ‘processor_set_policy_enable’ with type ‘kern_return_t(struct processor_set *, int)’ {aka ‘int(struct processor_set *, int)’}
  329 | extern kern_return_t processor_set_policy_enable(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:353:15: warning: redundant redeclaration of ‘processor_set_policy_disable’ [-Wredundant-decls]
  353 | kern_return_t processor_set_policy_disable
      |               ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:333:22: note: previous declaration of ‘processor_set_policy_disable’ with type ‘kern_return_t(struct processor_set *, int,  boolean_t)’ {aka ‘int(struct processor_set *, int,  int)’}
  333 | extern kern_return_t processor_set_policy_disable(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:369:15: warning: redundant redeclaration of ‘processor_set_tasks’ [-Wredundant-decls]
  369 | kern_return_t processor_set_tasks
      |               ^~~~~~~~~~~~~~~~~~~
./kern/processor.h:338:22: note: previous declaration of ‘processor_set_tasks’ with type ‘kern_return_t(struct processor_set *, mach_port_t **, natural_t *)’ {aka ‘int(struct processor_set *, long unsigned int **, unsigned int *)’}
  338 | extern kern_return_t processor_set_tasks(
      |                      ^~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:385:15: warning: redundant redeclaration of ‘processor_set_threads’ [-Wredundant-decls]
  385 | kern_return_t processor_set_threads
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:343:22: note: previous declaration of ‘processor_set_threads’ with type ‘kern_return_t(struct processor_set *, mach_port_t **, natural_t *)’ {aka ‘int(struct processor_set *, long unsigned int **, unsigned int *)’}
  343 | extern kern_return_t processor_set_threads(
      |                      ^~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:559:15: warning: redundant redeclaration of ‘processor_info’ [-Wredundant-decls]
  559 | kern_return_t processor_info
      |               ^~~~~~~~~~~~~~
./kern/processor.h:289:22: note: previous declaration of ‘processor_info’ with type ‘kern_return_t(struct processor *, int,  struct host **, integer_t *, natural_t *)’ {aka ‘int(struct processor *, int,  struct host **, int *, unsigned int *)’}
  289 | extern kern_return_t processor_info(
      |                      ^~~~~~~~~~~~~~
./kern/mach_host.server.h:577:15: warning: redundant redeclaration of ‘processor_set_info’ [-Wredundant-decls]
  577 | kern_return_t processor_set_info
      |               ^~~~~~~~~~~~~~~~~~
./kern/processor.h:317:22: note: previous declaration of ‘processor_set_info’ with type ‘kern_return_t(struct processor_set *, int,  struct host **, integer_t *, natural_t *)’ {aka ‘int(struct processor_set *, int,  struct host **, int *, unsigned int *)’}
  317 | extern kern_return_t processor_set_info(
      |                      ^~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:595:15: warning: redundant redeclaration of ‘processor_control’ [-Wredundant-decls]
  595 | kern_return_t processor_control
      |               ^~~~~~~~~~~~~~~~~
./kern/processor.h:302:22: note: previous declaration of ‘processor_control’ with type ‘kern_return_t(struct processor *, integer_t *, natural_t)’ {aka ‘int(struct processor *, int *, unsigned int)’}
  302 | extern kern_return_t processor_control(
      |                      ^~~~~~~~~~~~~~~~~
depbase=`echo kern/mem_optimize.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/mem_optimize.o -MD -MP -MF $depbase.Tpo -c -o kern/mem_optimize.o kern/mem_optimize.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from kern/mem_optimize.c:23:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./kern/printf.h:30,
                 from kern/mem_optimize.c:24:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
kern/mem_optimize.c: In function ‘mem_opt_calculate_fragmentation_ratio’:
kern/mem_optimize.c:122:42: warning: conversion from ‘uint64_t’ {aka ‘long unsigned int’} to ‘uint32_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  122 |             uint32_t large_alloc_ratio = (general_stats.large_allocs * 100) / general_stats.alloc_count;
      |                                          ^
kern/mem_optimize.c: In function ‘mem_opt_report_optimization’:
kern/mem_optimize.c:383:40: warning: format ‘%llu’ expects argument of type ‘long long unsigned int’, but argument 2 has type ‘uint64_t’ {aka ‘long unsigned int’} [-Wformat=]
  383 |     printf("  Bytes reclaimed:      %llu\n", opt->stats.bytes_reclaimed);
      |                                     ~~~^     ~~~~~~~~~~~~~~~~~~~~~~~~~~
      |                                        |               |
      |                                        |               uint64_t {aka long unsigned int}
      |                                        long long unsigned int
      |                                     %lu
depbase=`echo kern/mem_track.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/mem_track.o -MD -MP -MF $depbase.Tpo -c -o kern/mem_track.o kern/mem_track.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from kern/mem_track.c:23:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
kern/mem_track.c: In function ‘mem_track_check_pressure’:
kern/mem_track.c:236:23: warning: conversion from ‘uint64_t’ {aka ‘long unsigned int’} to ‘uint32_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  236 |     recent_failures = tracker->total_stats.failed_allocs;
      |                       ^~~~~~~
kern/mem_track.c: In function ‘mem_track_out_of_memory’:
kern/mem_track.c:299:79: warning: format ‘%llu’ expects argument of type ‘long long unsigned int’, but argument 3 has type ‘uint64_t’ {aka ‘long unsigned int’} [-Wformat=]
  299 |     printf("Critical: Out of memory condition detected (%luk bytes in use, %llu failed allocs)\n",
      |                                                                            ~~~^
      |                                                                               |
      |                                                                               long long unsigned int
      |                                                                            %lu
  300 |            (unsigned long)(tracker->total_stats.current_bytes >> 10),
  301 |            tracker->total_stats.failed_allocs);
      |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~                                  
      |                                |
      |                                uint64_t {aka long unsigned int}
kern/mem_track.c: In function ‘mem_track_report_usage’:
kern/mem_track.c:320:33: warning: format ‘%llu’ expects argument of type ‘long long unsigned int’, but argument 2 has type ‘uint64_t’ {aka ‘long unsigned int’} [-Wformat=]
  320 |     printf("  Total allocs:  %llu\n", tracker->total_stats.alloc_count);
      |                              ~~~^     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |                                 |                         |
      |                                 long long unsigned int    uint64_t {aka long unsigned int}
      |                              %lu
kern/mem_track.c:321:33: warning: format ‘%llu’ expects argument of type ‘long long unsigned int’, but argument 2 has type ‘uint64_t’ {aka ‘long unsigned int’} [-Wformat=]
  321 |     printf("  Total frees:   %llu\n", tracker->total_stats.free_count);
      |                              ~~~^     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |                                 |                         |
      |                                 long long unsigned int    uint64_t {aka long unsigned int}
      |                              %lu
kern/mem_track.c:322:33: warning: format ‘%llu’ expects argument of type ‘long long unsigned int’, but argument 2 has type ‘uint64_t’ {aka ‘long unsigned int’} [-Wformat=]
  322 |     printf("  Failed allocs: %llu\n", tracker->total_stats.failed_allocs);
      |                              ~~~^     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |                                 |                         |
      |                                 long long unsigned int    uint64_t {aka long unsigned int}
      |                              %lu
kern/mem_track.c: In function ‘mem_track_report_detailed’:
kern/mem_track.c:346:31: warning: format ‘%llu’ expects argument of type ‘long long unsigned int’, but argument 3 has type ‘uint64_t’ {aka ‘long unsigned int’} [-Wformat=]
  346 |             printf("%-12s %9llu %9llu %10luk %7luk %7llu %6u\n",
      |                           ~~~~^
      |                               |
      |                               long long unsigned int
      |                           %9lu
  347 |                    mem_type_names[i],
  348 |                    stats->alloc_count,
      |                    ~~~~~~~~~~~~~~~~~~
      |                         |
      |                         uint64_t {aka long unsigned int}
kern/mem_track.c:346:37: warning: format ‘%llu’ expects argument of type ‘long long unsigned int’, but argument 4 has type ‘uint64_t’ {aka ‘long unsigned int’} [-Wformat=]
  346 |             printf("%-12s %9llu %9llu %10luk %7luk %7llu %6u\n",
      |                                 ~~~~^
      |                                     |
      |                                     long long unsigned int
      |                                 %9lu
......
  349 |                    stats->free_count,
      |                    ~~~~~~~~~~~~~~~~~ 
      |                         |
      |                         uint64_t {aka long unsigned int}
kern/mem_track.c:346:56: warning: format ‘%llu’ expects argument of type ‘long long unsigned int’, but argument 7 has type ‘uint64_t’ {aka ‘long unsigned int’} [-Wformat=]
  346 |             printf("%-12s %9llu %9llu %10luk %7luk %7llu %6u\n",
      |                                                    ~~~~^
      |                                                        |
      |                                                        long long unsigned int
      |                                                    %7lu
......
  352 |                    stats->failed_allocs,
      |                    ~~~~~~~~~~~~~~~~~~~~                 
      |                         |
      |                         uint64_t {aka long unsigned int}
kern/mem_track.c:358:30: warning: format ‘%llu’ expects argument of type ‘long long unsigned int’, but argument 2 has type ‘uint64_t’ {aka ‘long unsigned int’} [-Wformat=]
  358 |     printf("TOTAL        %9llu %9llu %10luk %7luk %7llu %6u\n",
      |                          ~~~~^
      |                              |
      |                              long long unsigned int
      |                          %9lu
  359 |            tracker->total_stats.alloc_count,
      |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |                                |
      |                                uint64_t {aka long unsigned int}
kern/mem_track.c:358:36: warning: format ‘%llu’ expects argument of type ‘long long unsigned int’, but argument 3 has type ‘uint64_t’ {aka ‘long unsigned int’} [-Wformat=]
  358 |     printf("TOTAL        %9llu %9llu %10luk %7luk %7llu %6u\n",
      |                                ~~~~^
      |                                    |
      |                                    long long unsigned int
      |                                %9lu
  359 |            tracker->total_stats.alloc_count,
  360 |            tracker->total_stats.free_count,
      |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |                                |
      |                                uint64_t {aka long unsigned int}
kern/mem_track.c:358:55: warning: format ‘%llu’ expects argument of type ‘long long unsigned int’, but argument 6 has type ‘uint64_t’ {aka ‘long unsigned int’} [-Wformat=]
  358 |     printf("TOTAL        %9llu %9llu %10luk %7luk %7llu %6u\n",
      |                                                   ~~~~^
      |                                                       |
      |                                                       long long unsigned int
      |                                                   %7lu
......
  363 |            tracker->total_stats.failed_allocs,
      |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~          
      |                                |
      |                                uint64_t {aka long unsigned int}
depbase=`echo kern/pc_sample.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/pc_sample.o -MD -MP -MF $depbase.Tpo -c -o kern/pc_sample.o kern/pc_sample.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from kern/pc_sample.c:27:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/thread.h:43,
                 from ./machine/trap.h:33,
                 from kern/pc_sample.c:33:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53,
                 from kern/pc_sample.c:36:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53,
                 from ./ipc/ipc_kmsg.h:46,
                 from ./kern/ipc_kobject.h:44,
                 from ./kern/mach4.server.h:12,
                 from kern/pc_sample.c:38:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ./kern/mach4.server.h:13:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
In file included from ./ipc/ipc_space.h:52,
                 from ./kern/mach4.server.h:21:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/sys/types.h:29,
                 from ./kern/printf.h:27:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
kern/pc_sample.c: In function ‘get_sampled_pcs’:
kern/pc_sample.c:167:19: warning: conversion to ‘int’ from ‘unsigned int’ may change the sign of the result [-Wsign-conversion]
  167 |     nsamples    = cp->seqno - *seqnop;
      |                   ^~
kern/pc_sample.c:187:29: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  187 |                    nsamples * sizeof(sampled_pc_t));
      |                             ^
kern/pc_sample.c:211:25: warning: conversion to ‘mach_msg_type_number_t’ {aka ‘unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  211 |     *sampled_pcs_cntp = nsamples;
      |                         ^~~~~~~~
depbase=`echo kern/printf.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/printf.o -MD -MP -MF $depbase.Tpo -c -o kern/printf.o kern/printf.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from kern/printf.c:122:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
kern/printf.c: In function ‘console_print_timestamp’:
kern/printf.c:244:26: warning: conversion to ‘long long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  244 |                 printnum(seconds, 10, cnputc_wrapper, 0);
      |                          ^~~~~~~
kern/printf.c:248:26: warning: conversion to ‘long long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  248 |                 printnum(milliseconds, 10, cnputc_wrapper, 0);
      |                          ^~~~~~~~~~~~
kern/printf.c:253:26: warning: conversion to ‘long long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  253 |                 printnum((int)current_uptime.seconds, 10, cnputc_wrapper, 0);
      |                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~
kern/printf.c:259:34: warning: conversion to ‘long long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  259 |                         printnum(abs_ms, 10, cnputc_wrapper, 0);
      |                                  ^~~~~~
kern/printf.c:267:26: warning: conversion to ‘long long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  267 |                 printnum(seconds, 10, cnputc_wrapper, 0);
      |                          ^~~~~~~
kern/printf.c:271:26: warning: conversion to ‘long long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  271 |                 printnum(milliseconds, 10, cnputc_wrapper, 0);
      |                          ^~~~~~~~~~~~
kern/printf.c:278:26: warning: conversion to ‘long long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  278 |                 printnum(seconds, 10, cnputc_wrapper, 0);
      |                          ^~~~~~~
kern/printf.c:282:26: warning: conversion to ‘long long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  282 |                 printnum(milliseconds, 10, cnputc_wrapper, 0);
      |                          ^~~~~~~~~~~~
kern/printf.c:286:26: warning: conversion to ‘long long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  286 |                 printnum(microseconds, 10, cnputc_wrapper, 0);
      |                          ^~~~~~~~~~~~
kern/printf.c: In function ‘printnum’:
kern/printf.c:361:27: warning: conversion to ‘long long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  361 |             *p-- = digs[u % base];
      |                           ^
kern/printf.c:362:15: warning: conversion to ‘long long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  362 |             u /= base;
      |               ^~
kern/printf.c: In function ‘_doprnt’:
kern/printf.c:511:61: warning: conversion to ‘long long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  511 |                             printnum((unsigned)( (u>>(j-1)) & ((2<<(i-j))-1)),
      |                                                             ^
In file included from kern/printf.c:119:
/usr/lib/gcc/x86_64-linux-gnu/13//include/stdarg.h:53:25: warning: conversion from ‘int’ to ‘char’ may change value [-Wconversion]
   53 | #define va_arg(v,l)     __builtin_va_arg(v,l)
      |                         ^~~~~~~~~~~~~~~~
kern/printf.c:535:25: note: in expansion of macro ‘va_arg’
  535 |                     c = va_arg(argp, int);
      |                         ^~~~~~
kern/printf.c:550:27: warning: assignment discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  550 |                         p = "";
      |                           ^
kern/printf.c:635:29: warning: conversion to ‘long long unsigned int’ from ‘long long int’ may change the sign of the result [-Wsign-conversion]
  635 |                         u = n;
      |                             ^
kern/printf.c:639:29: warning: conversion to ‘long long unsigned int’ from ‘long long int’ may change the sign of the result [-Wsign-conversion]
  639 |                         u = -n;
      |                             ^
kern/printf.c:658:39: warning: conversion to ‘long long unsigned int’ from ‘long int’ may change the sign of the result [-Wsign-conversion]
  658 |                     if (truncate) u = (long)((int)(u));
      |                                       ^
kern/printf.c:662:36: warning: assignment discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  662 |                             prefix = "0";
      |                                    ^
kern/printf.c:664:36: warning: assignment discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  664 |                             prefix = "0x";
      |                                    ^
kern/printf.c:668:41: warning: conversion to ‘long long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  668 |                         *p-- = digits[u % base];
      |                                         ^
kern/printf.c:669:27: warning: conversion to ‘long long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  669 |                         u /= base;
      |                           ^~
kern/printf.c:672:31: warning: conversion from ‘long int’ to ‘int’ may change value [-Wconversion]
  672 |                     length -= (&buf[MAXBUF-1] - p);
      |                               ^
kern/printf.c:676:32: warning: conversion to ‘size_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  676 |                         length -= strlen(prefix);
      |                                ^~
kern/printf.c:676:35: warning: conversion from ‘size_t’ {aka ‘long unsigned int’} to ‘int’ may change value [-Wconversion]
  676 |                         length -= strlen(prefix);
      |                                   ^~~~~~
kern/printf.c:684:33: warning: conversion from ‘int’ to ‘char’ may change value [-Wconversion]
  684 |                         (*putc)(sign_char, putc_arg);
      |                                 ^~~~~~~~~
kern/printf.c: In function ‘vprintf’:
kern/printf.c:720:29: warning: cast between incompatible function types from ‘void (*)(char)’ to ‘void (*)(char,  vm_offset_t)’ {aka ‘void (*)(char,  long unsigned int)’} [-Wcast-function-type]
  720 |         _doprnt(fmt, listp, (void (*)( char, vm_offset_t)) cnputc, 16, 0);
      |                             ^
kern/printf.c: In function ‘iprintf’:
kern/printf.c:782:29: warning: cast between incompatible function types from ‘void (*)(char)’ to ‘void (*)(char,  vm_offset_t)’ {aka ‘void (*)(char,  long unsigned int)’} [-Wcast-function-type]
  782 |         _doprnt(fmt, listp, (void (*)( char, vm_offset_t)) cnputc, 16, 0);
      |                             ^
kern/printf.c: In function ‘sprintf’:
kern/printf.c:813:21: warning: conversion from ‘long int’ to ‘int’ may change value [-Wconversion]
  813 |         return (buf - start);
      |                ~~~~~^~~~~~~~
kern/printf.c: In function ‘vsnprintf’:
kern/printf.c:836:44: warning: conversion from ‘size_t’ {aka ‘long unsigned int’} to ‘int’ may change value [-Wconversion]
  836 |     = { .buf = buf, .index = 0, .max_len = size };
      |                                            ^~~~
kern/printf.c: In function ‘safe_gets’:
kern/printf.c:891:49: warning: conversion from ‘int’ to ‘char’ may change value [-Wconversion]
  891 |                                         *lp++ = c;
      |                                                 ^
kern/printf.c: In function ‘_doprnt’:
kern/printf.c:587:30: warning: this statement may fall through [-Wimplicit-fallthrough=]
  587 |                     truncate = _doprnt_truncates;
      |                     ~~~~~~~~~^~~~~~~~~~~~~~~~~~~
kern/printf.c:588:17: note: here
  588 |                 case 'O':
      |                 ^~~~
kern/printf.c:593:30: warning: this statement may fall through [-Wimplicit-fallthrough=]
  593 |                     truncate = _doprnt_truncates;
      |                     ~~~~~~~~~^~~~~~~~~~~~~~~~~~~
kern/printf.c:594:17: note: here
  594 |                 case 'D':
      |                 ^~~~
kern/printf.c:599:30: warning: this statement may fall through [-Wimplicit-fallthrough=]
  599 |                     truncate = _doprnt_truncates;
      |                     ~~~~~~~~~^~~~~~~~~~~~~~~~~~~
kern/printf.c:600:17: note: here
  600 |                 case 'U':
      |                 ^~~~
kern/printf.c:606:30: warning: this statement may fall through [-Wimplicit-fallthrough=]
  606 |                     truncate = _doprnt_truncates;
      |                     ~~~~~~~~~^~~~~~~~~~~~~~~~~~~
kern/printf.c:607:17: note: here
  607 |                 case 'X':
      |                 ^~~~
kern/printf.c:612:30: warning: this statement may fall through [-Wimplicit-fallthrough=]
  612 |                     truncate = _doprnt_truncates;
      |                     ~~~~~~~~~^~~~~~~~~~~~~~~~~~~
kern/printf.c:613:17: note: here
  613 |                 case 'Z':
      |                 ^~~~
kern/printf.c:618:30: warning: this statement may fall through [-Wimplicit-fallthrough=]
  618 |                     truncate = _doprnt_truncates;
      |                     ~~~~~~~~~^~~~~~~~~~~~~~~~~~~
kern/printf.c:619:17: note: here
  619 |                 case 'R':
      |                 ^~~~
kern/printf.c:624:30: warning: this statement may fall through [-Wimplicit-fallthrough=]
  624 |                     truncate = _doprnt_truncates;
      |                     ~~~~~~~~~^~~~~~~~~~~~~~~~~~~
kern/printf.c:625:17: note: here
  625 |                 case 'N':
      |                 ^~~~
depbase=`echo kern/priority.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/priority.o -MD -MP -MF $depbase.Tpo -c -o kern/priority.o kern/priority.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/mach_clock.h:36,
                 from kern/priority.c:41:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53,
                 from kern/priority.c:44:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./kern/thread.h:54:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from kern/priority.c:42:
kern/priority.c: In function ‘thread_quantum_update’:
./kern/sched.h:200:34: warning: conversion from ‘long int’ to ‘unsigned int’ may change value [-Wconversion]
  200 |         (thread)->sched_delta += delta *                        \
      |                                  ^~~~~
kern/priority.c:162:37: note: in expansion of macro ‘thread_timer_delta’
  162 |                                     thread_timer_delta(thread);
      |                                     ^~~~~~~~~~~~~~~~~~
./kern/sched.h:200:34: warning: conversion from ‘long int’ to ‘unsigned int’ may change value [-Wconversion]
  200 |         (thread)->sched_delta += delta *                        \
      |                                  ^~~~~
kern/priority.c:205:33: note: in expansion of macro ‘thread_timer_delta’
  205 |                                 thread_timer_delta(thread);
      |                                 ^~~~~~~~~~~~~~~~~~
depbase=`echo kern/processor.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/processor.o -MD -MP -MF $depbase.Tpo -c -o kern/processor.o kern/processor.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from ./kern/ipc_tt.h:31,
                 from kern/processor.c:41:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from kern/processor.c:45:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
./kern/task.h: At top level:
./kern/task.h:189:25: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:69:1: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./kern/thread.h:54,
                 from kern/processor.c:46:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
./kern/thread.h: At top level:
./kern/thread.h:376:25: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53,
                 from ./ipc/ipc_kmsg.h:46,
                 from ./kern/ipc_kobject.h:44,
                 from ./ipc/ipc_port.h:47,
                 from kern/processor.c:48:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/processor.h:45,
                 from kern/processor.c:43:
kern/processor.c: In function ‘pset_sys_bootstrap’:
kern/processor.c:89:33: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
   89 |         queue_enter(&all_psets, &default_pset, processor_set_t, all_psets);
./kern/queue.h:197:49: note: in definition of macro ‘queue_enter’
  197 |                 (head)->next = (queue_entry_t) (elt);           \
      |                                                 ^~~
kern/processor.c:89:33: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
   89 |         queue_enter(&all_psets, &default_pset, processor_set_t, all_psets);
./kern/queue.h:200:60: note: in definition of macro ‘queue_enter’
  200 |                 ((type)prev)->field.next = (queue_entry_t)(elt);\
      |                                                            ^~~
kern/processor.c:89:33: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
   89 |         queue_enter(&all_psets, &default_pset, processor_set_t, all_psets);
      |                                 ^~~~~~~~~~~~~
./kern/queue.h:204:40: note: in definition of macro ‘queue_enter’
  204 |         (head)->prev = (queue_entry_t) elt;                     \
      |                                        ^~~
kern/processor.c: In function ‘processor_set_info’:
kern/processor.c:701:43: warning: conversion from ‘long int’ to ‘integer_t’ {aka ‘int’} may change value [-Wconversion]
  701 |                 basic_info->mach_factor = pset->mach_factor;
      |                                           ^~~~
kern/processor.c:702:44: warning: conversion from ‘long int’ to ‘integer_t’ {aka ‘int’} may change value [-Wconversion]
  702 |                 basic_info->load_average = pset->load_average;
      |                                            ^~~~
kern/processor.c: In function ‘processor_set_things’:
kern/processor.c:876:34: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  876 |                         actual = pset->task_count;
      |                                  ^~~~
kern/processor.c:878:34: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  878 |                         actual = pset->thread_count;
      |                                  ^~~~
depbase=`echo kern/profile.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/profile.o -MD -MP -MF $depbase.Tpo -c -o kern/profile.o kern/profile.c &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo kern/queue.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/queue.o -MD -MP -MF $depbase.Tpo -c -o kern/queue.o kern/queue.c &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo kern/rbtree.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/rbtree.o -MD -MP -MF $depbase.Tpo -c -o kern/rbtree.o kern/rbtree.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/rbtree.h:58,
                 from kern/rbtree.c:27:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./kern/assert.h:32,
                 from kern/rbtree.c:26:
kern/rbtree.c: In function ‘rbtree_set_color’:
kern/rbtree.c:94:19: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   94 |     assert((color & ~RBTREE_COLOR_MASK) == 0);
      |                   ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
kern/rbtree.c:94:5: note: in expansion of macro ‘assert’
   94 |     assert((color & ~RBTREE_COLOR_MASK) == 0);
      |     ^~~~~~
kern/rbtree.c:95:56: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   95 |     node->parent = (node->parent & RBTREE_PARENT_MASK) | color;
      |                                                        ^
depbase=`echo kern/rdxtree.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/rdxtree.o -MD -MP -MF $depbase.Tpo -c -o kern/rdxtree.o kern/rdxtree.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from kern/rdxtree.c:31:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
kern/rdxtree.c: In function ‘rdxtree_node_bm_is_set’:
kern/rdxtree.c:293:28: warning: conversion from ‘long long unsigned int’ to ‘int’ may change value [-Wconversion]
  293 |     return (node->alloc_bm & ((rdxtree_bm_t)1 << index));
      |            ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
kern/rdxtree.c: In function ‘rdxtree_node_bm_first’:
kern/rdxtree.c:305:28: warning: conversion to ‘long long int’ from ‘rdxtree_bm_t’ {aka ‘long long unsigned int’} may change the sign of the result [-Wsign-conversion]
  305 |     return rdxtree_ffs(node->alloc_bm) - 1;
      |                        ~~~~^~~~~~~~~~
kern/rdxtree.c:63:40: note: in definition of macro ‘rdxtree_ffs’
   63 | #define rdxtree_ffs(x) __builtin_ffsll(x)
      |                                        ^
kern/rdxtree.c:305:40: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  305 |     return rdxtree_ffs(node->alloc_bm) - 1;
      |                                        ^
depbase=`echo kern/slab.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/slab.o -MD -MP -MF $depbase.Tpo -c -o kern/slab.o kern/slab.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/mach_clock.h:36,
                 from kern/slab.c:76:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from kern/slab.c:79:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46,
                 from ./kern/ipc_kobject.h:44,
                 from ./kern/mach_debug.server.h:12,
                 from kern/slab.c:82:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ./kern/mach_debug.server.h:13:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
In file included from ./kern/thread.h:53,
                 from ./vm/pmap.h:45:
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
In file included from ./ipc/ipc_space.h:52,
                 from ./kern/mach_debug.server.h:21:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/sys/types.h:29,
                 from ./include/string.h:29,
                 from kern/slab.c:74:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
kern/slab.c: In function ‘kmem_pagealloc_virtual’:
kern/slab.c:102:33: warning: unsigned conversion from ‘int’ to ‘vm_size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
  102 | #define P2ROUND(x, a)   (-(-(x) & -(a)))
      |                                 ^
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
kern/slab.c:405:12: note: in expansion of macro ‘vm_page_round’
  405 |     size = vm_page_round(size);
      |            ^~~~~~~~~~~~~
kern/slab.c: In function ‘kmem_pagefree_virtual’:
kern/slab.c:102:33: warning: unsigned conversion from ‘int’ to ‘vm_size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
  102 | #define P2ROUND(x, a)   (-(-(x) & -(a)))
      |                                 ^
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
kern/slab.c:425:12: note: in expansion of macro ‘vm_page_round’
  425 |     size = vm_page_round(size);
      |            ^~~~~~~~~~~~~
kern/slab.c: In function ‘kmem_slab_destroy’:
kern/slab.c:101:30: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
  101 | #define P2ALIGN(x, a)   ((x) & -(a))
      |                              ^
kern/slab.c:568:29: note: in expansion of macro ‘P2ALIGN’
  568 |     slab_buf = (vm_offset_t)P2ALIGN((unsigned long)slab->addr, PAGE_SIZE);
      |                             ^~~~~~~
kern/slab.c: In function ‘kmem_cache_free_to_slab’:
kern/slab.c:101:30: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
  101 | #define P2ALIGN(x, a)   ((x) & -(a))
      |                              ^
kern/slab.c:104:45: note: in definition of macro ‘likely’
  104 | #define likely(expr)    __builtin_expect(!!(expr), 1)
      |                                             ^~~~
kern/slab.c:1034:5: note: in expansion of macro ‘assert’
 1034 |     assert(((unsigned long)buf + cache->buf_size)
      |     ^~~~~~
./vm/vm_page.h:331:33: note: in expansion of macro ‘P2ALIGN’
  331 | #define vm_page_trunc(addr)     P2ALIGN(addr, PAGE_SIZE)
      |                                 ^~~~~~~
kern/slab.c:1035:15: note: in expansion of macro ‘vm_page_trunc’
 1035 |            <= vm_page_trunc((unsigned long)slab->addr + cache->slab_size));
      |               ^~~~~~~~~~~~~
kern/slab.c: In function ‘kmem_cache_free_verify’:
kern/slab.c:101:30: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
  101 | #define P2ALIGN(x, a)   ((x) & -(a))
      |                              ^
kern/slab.c:1185:15: note: in expansion of macro ‘P2ALIGN’
 1185 |     slabend = P2ALIGN((unsigned long)slab->addr + cache->slab_size, PAGE_SIZE);
      |               ^~~~~~~
kern/slab.c: In function ‘slab_collect’:
kern/slab.c:1299:45: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1299 |     if (elapsed_ticks <= (kmem_gc_last_tick + KMEM_GC_INTERVAL))
      |                                             ^
kern/slab.c: In function ‘kalloc_get_index’:
kern/slab.c:1388:35: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1388 |         return (sizeof(long) * 8) - __builtin_clzl(size);
      |                                   ^
kern/slab.c: In function ‘host_slab_info’:
kern/slab.c:1679:28: warning: conversion from ‘size_t’ {aka ‘long unsigned int’} to ‘rpc_vm_size_t’ {aka ‘unsigned int’} may change value [-Wconversion]
 1679 |         info[i].obj_size = cache->obj_size;
      |                            ^~~~~
kern/slab.c:1680:25: warning: conversion from ‘size_t’ {aka ‘long unsigned int’} to ‘rpc_vm_size_t’ {aka ‘unsigned int’} may change value [-Wconversion]
 1680 |         info[i].align = cache->align;
      |                         ^~~~~
kern/slab.c:1681:28: warning: conversion from ‘size_t’ {aka ‘long unsigned int’} to ‘rpc_vm_size_t’ {aka ‘unsigned int’} may change value [-Wconversion]
 1681 |         info[i].buf_size = cache->buf_size;
      |                            ^~~~~
kern/slab.c:1682:29: warning: conversion from ‘size_t’ {aka ‘long unsigned int’} to ‘rpc_vm_size_t’ {aka ‘unsigned int’} may change value [-Wconversion]
 1682 |         info[i].slab_size = cache->slab_size;
      |                             ^~~~~
kern/slab.c:1683:33: warning: conversion from ‘long_natural_t’ {aka ‘long unsigned int’} to ‘rpc_long_natural_t’ {aka ‘unsigned int’} may change value [-Wconversion]
 1683 |         info[i].bufs_per_slab = cache->bufs_per_slab;
      |                                 ^~~~~
kern/slab.c:1684:27: warning: conversion from ‘long_natural_t’ {aka ‘long unsigned int’} to ‘rpc_long_natural_t’ {aka ‘unsigned int’} may change value [-Wconversion]
 1684 |         info[i].nr_objs = cache->nr_objs;
      |                           ^~~~~
kern/slab.c:1685:27: warning: conversion from ‘long_natural_t’ {aka ‘long unsigned int’} to ‘rpc_long_natural_t’ {aka ‘unsigned int’} may change value [-Wconversion]
 1685 |         info[i].nr_bufs = cache->nr_bufs;
      |                           ^~~~~
kern/slab.c:1686:28: warning: conversion from ‘long_natural_t’ {aka ‘long unsigned int’} to ‘rpc_long_natural_t’ {aka ‘unsigned int’} may change value [-Wconversion]
 1686 |         info[i].nr_slabs = cache->nr_slabs;
      |                            ^~~~~
kern/slab.c:1687:33: warning: conversion from ‘long_natural_t’ {aka ‘long unsigned int’} to ‘rpc_long_natural_t’ {aka ‘unsigned int’} may change value [-Wconversion]
 1687 |         info[i].nr_free_slabs = cache->nr_free_slabs;
      |                                 ^~~~~
In file included from ./machine/vm_param.h:29,
                 from ./vm/vm_page.h:39:
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
kern/slab.c:1710:22: note: in expansion of macro ‘round_page’
 1710 |         total_size = round_page(info_size);
      |                      ^~~~~~~~~~
depbase=`echo kern/smp.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/smp.o -MD -MP -MF $depbase.Tpo -c -o kern/smp.o kern/smp.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from kern/smp.c:66:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53,
                 from kern/smp.c:71:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./kern/thread.h:54:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
kern/smp.c: In function ‘smp_set_numcpus’:
kern/smp.c:116:33: warning: conversion from ‘int’ to ‘unsigned char’ may change value [-Wconversion]
  116 |        smp_cpu_info[i].cpu_id = i;
      |                                 ^
kern/smp.c: In function ‘smp_update_cpu_load’:
kern/smp.c:227:38: warning: conversion from ‘long long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  227 |     smp_cpu_info[cpu].load_average = (smp_cpu_info[cpu].busy_time * 100) /
      |                                      ^
kern/smp.c: In function ‘smp_queue_work_on’:
kern/smp.c:375:28: warning: conversion from ‘int’ to ‘unsigned char’ may change value [-Wconversion]
  375 |     if (!smp_cpu_is_online(cpu))
      |                            ^~~
depbase=`echo kern/smp_lock.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/smp_lock.o -MD -MP -MF $depbase.Tpo -c -o kern/smp_lock.o kern/smp_lock.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from kern/smp_lock.c:22:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
depbase=`echo kern/smp_sched.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/smp_sched.o -MD -MP -MF $depbase.Tpo -c -o kern/smp_sched.o kern/smp_sched.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from ./machine/percpu.h:71,
                 from ./kern/processor.h:138,
                 from kern/smp_sched.c:21:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53,
                 from kern/smp_sched.c:22:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./kern/thread.h:54:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
depbase=`echo kern/sched_prim.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/sched_prim.o -MD -MP -MF $depbase.Tpo -c -o kern/sched_prim.o kern/sched_prim.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from kern/sched_prim.c:35:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53,
                 from kern/sched_prim.c:54:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./kern/thread.h:54:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53,
                 from ./vm/vm_kern.h:38,
                 from kern/sched_prim.c:57:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
kern/sched_prim.c: In function ‘thread_set_timeout’:
kern/sched_prim.c:210:45: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  210 |                 set_timeout(&thread->timer, t);
      |                                             ^
kern/sched_prim.c: In function ‘assert_wait’:
kern/sched_prim.c:154:9: warning: conversion from ‘long int’ to ‘int’ may change value [-Wconversion]
  154 |         ((((long)(event) < 0) ? ~(long)(event) : (long)(event)) % NUMQUEUES)
      |         ^
kern/sched_prim.c:251:25: note: in expansion of macro ‘wait_hash’
  251 |                 index = wait_hash(event);
      |                         ^~~~~~~~~
kern/sched_prim.c: In function ‘clear_wait’:
kern/sched_prim.c:154:9: warning: conversion from ‘long int’ to ‘int’ may change value [-Wconversion]
  154 |         ((((long)(event) < 0) ? ~(long)(event) : (long)(event)) % NUMQUEUES)
      |         ^
kern/sched_prim.c:313:25: note: in expansion of macro ‘wait_hash’
  313 |                 index = wait_hash(event);
      |                         ^~~~~~~~~
kern/sched_prim.c:344:41: warning: conversion from ‘int’ to ‘short unsigned int’ may change value [-Wconversion]
  344 |                         thread->state = (state &~ TH_WAIT) | TH_RUN;
      |                                         ^
kern/sched_prim.c:357:41: warning: conversion from ‘int’ to ‘short unsigned int’ may change value [-Wconversion]
  357 |                         thread->state = state &~ TH_WAIT;
      |                                         ^~~~~
kern/sched_prim.c: In function ‘thread_wakeup_prim’:
kern/sched_prim.c:154:9: warning: conversion from ‘long int’ to ‘int’ may change value [-Wconversion]
  154 |         ((((long)(event) < 0) ? ~(long)(event) : (long)(event)) % NUMQUEUES)
      |         ^
kern/sched_prim.c:404:17: note: in expansion of macro ‘wait_hash’
  404 |         index = wait_hash(event);
      |                 ^~~~~~~~~
kern/sched_prim.c:429:49: warning: conversion from ‘int’ to ‘short unsigned int’ may change value [-Wconversion]
  429 |                                 thread->state = (state &~ TH_WAIT) | TH_RUN;
      |                                                 ^
kern/sched_prim.c:442:49: warning: conversion from ‘int’ to ‘short unsigned int’ may change value [-Wconversion]
  442 |                                 thread->state = state &~ TH_WAIT;
      |                                                 ^~~~~
kern/sched_prim.c: In function ‘thread_invoke’:
kern/sched_prim.c:639:34: warning: unsigned conversion from ‘int’ to ‘short unsigned int’ changes the value of ‘-9’ [-Wsign-conversion]
  639 |             new_thread->state &= ~TH_UNINT;
      |                                  ^
kern/sched_prim.c:661:42: warning: unsigned conversion from ‘int’ to ‘short unsigned int’ changes the value of ‘-265’ [-Wsign-conversion]
  661 |                     new_thread->state &= ~(TH_SWAPPED | TH_UNINT);
      |                                          ^
In file included from kern/sched_prim.c:40:
./kern/ast.h:113:50: warning: conversion to ‘ast_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  113 |              (need_ast[mycpu] &~ AST_PER_THREAD) | (thread)->ast)       \
      |                                                  ^
kern/sched_prim.c:673:21: note: in expansion of macro ‘ast_context’
  673 |                     ast_context(new_thread, cpu_number());
      |                     ^~~~~~~~~~~
kern/sched_prim.c:697:49: warning: unsigned conversion from ‘int’ to ‘short unsigned int’ changes the value of ‘-261’ [-Wsign-conversion]
  697 |                             old_thread->state = (old_thread->state & ~TH_RUN)
      |                                                 ^
kern/sched_prim.c:726:49: warning: unsigned conversion from ‘int’ to ‘short unsigned int’ changes the value of ‘-261’ [-Wsign-conversion]
  726 |                             old_thread->state = (old_thread->state & ~TH_RUN)
      |                                                 ^
kern/sched_prim.c:791:30: warning: unsigned conversion from ‘int’ to ‘short unsigned int’ changes the value of ‘-265’ [-Wsign-conversion]
  791 |         new_thread->state &= ~(TH_SWAPPED | TH_UNINT);
      |                              ^
./kern/ast.h:113:50: warning: conversion to ‘ast_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  113 |              (need_ast[mycpu] &~ AST_PER_THREAD) | (thread)->ast)       \
      |                                                  ^
kern/sched_prim.c:805:9: note: in expansion of macro ‘ast_context’
  805 |         ast_context(new_thread, cpu_number());
      |         ^~~~~~~~~~~
kern/sched_prim.c: In function ‘thread_block’:
./kern/ast.h:104:30: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-5’ to ‘18446744073709551611’ [-Wsign-conversion]
  104 |         if ((need_ast[mycpu] &= ~(reasons)) == AST_ZILCH)               \
      |                              ^~
kern/sched_prim.c:887:9: note: in expansion of macro ‘ast_off’
  887 |         ast_off(cpu_number(), AST_BLOCK);
      |         ^~~~~~~
kern/sched_prim.c: In function ‘thread_dispatch’:
kern/sched_prim.c:954:34: warning: unsigned conversion from ‘int’ to ‘short unsigned int’ changes the value of ‘-5’ [-Wsign-conversion]
  954 |                 thread->state &= ~TH_RUN;
      |                                  ^
kern/sched_prim.c:978:34: warning: unsigned conversion from ‘int’ to ‘short unsigned int’ changes the value of ‘-5’ [-Wsign-conversion]
  978 |                 thread->state &= ~TH_RUN;
      |                                  ^
kern/sched_prim.c: In function ‘compute_priority’:
kern/sched_prim.c:1039:13: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1039 |             + ((th)->sched_usage >> (PRI_SHIFT + SCHED_SHIFT));         \
      |             ^
kern/sched_prim.c:1065:13: note: in expansion of macro ‘do_priority_computation’
 1065 |             do_priority_computation(thread, pri);
      |             ^~~~~~~~~~~~~~~~~~~~~~~
kern/sched_prim.c:1038:17: warning: conversion to ‘int’ from ‘unsigned int’ may change the sign of the result [-Wsign-conversion]
 1038 |         (pri) = (th)->priority  /* start with base priority */          \
      |                 ^
kern/sched_prim.c:1065:13: note: in expansion of macro ‘do_priority_computation’
 1065 |             do_priority_computation(thread, pri);
      |             ^~~~~~~~~~~~~~~~~~~~~~~
kern/sched_prim.c: In function ‘compute_my_priority’:
kern/sched_prim.c:1039:13: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1039 |             + ((th)->sched_usage >> (PRI_SHIFT + SCHED_SHIFT));         \
      |             ^
kern/sched_prim.c:1093:9: note: in expansion of macro ‘do_priority_computation’
 1093 |         do_priority_computation(thread,temp_pri);
      |         ^~~~~~~~~~~~~~~~~~~~~~~
kern/sched_prim.c:1038:17: warning: conversion to ‘int’ from ‘unsigned int’ may change the sign of the result [-Wsign-conversion]
 1038 |         (pri) = (th)->priority  /* start with base priority */          \
      |                 ^
kern/sched_prim.c:1093:9: note: in expansion of macro ‘do_priority_computation’
 1093 |         do_priority_computation(thread,temp_pri);
      |         ^~~~~~~~~~~~~~~~~~~~~~~
kern/sched_prim.c: In function ‘recompute_priorities’:
kern/sched_prim.c:1105:50: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1105 |         set_timeout(&recompute_priorities_timer, hz);
      |                                                  ^~
In file included from ./kern/processor.h:46,
                 from kern/sched_prim.c:48:
kern/sched_prim.c: In function ‘update_priority’:
./kern/sched.h:200:34: warning: conversion from ‘long int’ to ‘unsigned int’ may change value [-Wconversion]
  200 |         (thread)->sched_delta += delta *                        \
      |                                  ^~~~~
kern/sched_prim.c:1146:9: note: in expansion of macro ‘thread_timer_delta’
 1146 |         thread_timer_delta(thread);
      |         ^~~~~~~~~~~~~~~~~~
kern/sched_prim.c:1039:13: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1039 |             + ((th)->sched_usage >> (PRI_SHIFT + SCHED_SHIFT));         \
      |             ^
kern/sched_prim.c:1182:17: note: in expansion of macro ‘do_priority_computation’
 1182 |                 do_priority_computation(thread, temp_pri);
      |                 ^~~~~~~~~~~~~~~~~~~~~~~
kern/sched_prim.c:1038:17: warning: conversion to ‘int’ from ‘unsigned int’ may change the sign of the result [-Wsign-conversion]
 1038 |         (pri) = (th)->priority  /* start with base priority */          \
      |                 ^
kern/sched_prim.c:1182:17: note: in expansion of macro ‘do_priority_computation’
 1182 |                 do_priority_computation(thread, temp_pri);
      |                 ^~~~~~~~~~~~~~~~~~~~~~~
kern/sched_prim.c: In function ‘thread_setrun’:
kern/sched_prim.c:1219:22: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1219 |             whichq = (th)->sched_pri;                                   \
      |                      ^
kern/sched_prim.c:1400:9: note: in expansion of macro ‘run_queue_enqueue’
 1400 |         run_queue_enqueue(rq,th);
      |         ^~~~~~~~~~~~~~~~~
kern/sched_prim.c:1229:30: warning: conversion to ‘int’ from ‘unsigned int’ may change the sign of the result [-Wsign-conversion]
 1229 |                  (rq)->low = whichq;    /* minimize */                  \
      |                              ^~~~~~
kern/sched_prim.c:1400:9: note: in expansion of macro ‘run_queue_enqueue’
 1400 |         run_queue_enqueue(rq,th);
      |         ^~~~~~~~~~~~~~~~~
kern/sched_prim.c: In function ‘set_pri’:
kern/sched_prim.c:1219:22: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1219 |             whichq = (th)->sched_pri;                                   \
      |                      ^
kern/sched_prim.c:1437:17: note: in expansion of macro ‘run_queue_enqueue’
 1437 |                 run_queue_enqueue(rq, th);
      |                 ^~~~~~~~~~~~~~~~~
kern/sched_prim.c:1229:30: warning: conversion to ‘int’ from ‘unsigned int’ may change the sign of the result [-Wsign-conversion]
 1229 |                  (rq)->low = whichq;    /* minimize */                  \
      |                              ^~~~~~
kern/sched_prim.c:1437:17: note: in expansion of macro ‘run_queue_enqueue’
 1437 |                 run_queue_enqueue(rq, th);
      |                 ^~~~~~~~~~~~~~~~~
kern/sched_prim.c: In function ‘idle_thread_continue’:
kern/sched_prim.c:1683:45: warning: unsigned conversion from ‘int’ to ‘ast_t’ {aka ‘long unsigned int’} changes value from ‘-8’ to ‘18446744073709551608’ [-Wsign-conversion]
 1683 |                         if (need_ast[mycpu] &~ AST_SCHEDULING) {
      |                                             ^
kern/sched_prim.c:1686:49: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-8’ to ‘18446744073709551608’ [-Wsign-conversion]
 1686 |                                 need_ast[mycpu] &= ~AST_SCHEDULING;
      |                                                 ^~
depbase=`echo kern/startup.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/startup.o -MD -MP -MF $depbase.Tpo -c -o kern/startup.o kern/startup.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from ./kern/gsync.h:28,
                 from kern/startup.c:39:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from kern/startup.c:46:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./kern/thread.h:54,
                 from kern/startup.c:47:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53,
                 from ./vm/vm_kern.h:38,
                 from kern/startup.c:58:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ./device/intr.h:23,
                 from kern/startup.c:70:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
kern/startup.c: In function ‘setup_main’:
kern/startup.c:157:44: warning: unsigned conversion from ‘int’ to ‘vm_size_t’ {aka ‘long unsigned int’} changes value from ‘-1’ to ‘18446744073709551615’ [-Wsign-conversion]
  157 |                 machine_info.memory_size = ~0;
      |                                            ^
kern/startup.c: In function ‘cpu_launch_first_thread’:
kern/startup.c:325:22: warning: unsigned conversion from ‘int’ to ‘short unsigned int’ changes the value of ‘-9’ [-Wsign-conversion]
  325 |         th->state &= ~TH_UNINT;
      |                      ^
depbase=`echo kern/strings.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/strings.o -MD -MP -MF $depbase.Tpo -c -o kern/strings.o kern/strings.c &&\
mv -f $depbase.Tpo $depbase.Po
kern/strings.c: In function ‘strcmp’:
kern/strings.c:64:21: warning: conversion to ‘unsigned int’ from ‘char’ may change the sign of the result [-Wsign-conversion]
   64 |                 a = *s1++;
      |                     ^
kern/strings.c:65:21: warning: conversion to ‘unsigned int’ from ‘char’ may change the sign of the result [-Wsign-conversion]
   65 |                 b = *s2++;
      |                     ^
kern/strings.c:67:33: warning: conversion to ‘int’ from ‘unsigned int’ may change the sign of the result [-Wsign-conversion]
   67 |                         return a-b;     /* includes case when
      |                                ~^~
kern/strings.c: In function ‘strncmp’:
kern/strings.c:92:21: warning: conversion to ‘unsigned int’ from ‘char’ may change the sign of the result [-Wsign-conversion]
   92 |                 a = *s1++;
      |                     ^
kern/strings.c:93:21: warning: conversion to ‘unsigned int’ from ‘char’ may change the sign of the result [-Wsign-conversion]
   93 |                 b = *s2++;
      |                     ^
kern/strings.c:95:33: warning: conversion to ‘int’ from ‘unsigned int’ may change the sign of the result [-Wsign-conversion]
   95 |                         return a-b;     /* includes case when
      |                                ~^~
kern/strings.c: In function ‘strlen’:
kern/strings.c:173:27: warning: conversion to ‘size_t’ {aka ‘long unsigned int’} from ‘long int’ may change the sign of the result [-Wsign-conversion]
  173 |         return string - 1 - ret;
      |                ~~~~~~~~~~~^~~~~
depbase=`echo kern/syscall_emulation.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/syscall_emulation.o -MD -MP -MF $depbase.Tpo -c -o kern/syscall_emulation.o kern/syscall_emulation.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/task.h:39,
                 from ./kern/syscall_emulation.h:36,
                 from kern/syscall_emulation.c:31:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46,
                 from ./kern/ipc_kobject.h:44,
                 from ./kern/mach.server.h:12,
                 from kern/syscall_emulation.c:34:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ./kern/mach.server.h:13:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
In file included from ./vm/pmap.h:45:
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
In file included from ./ipc/ipc_space.h:52,
                 from ./kern/mach.server.h:21:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/sys/types.h:29,
                 from ./include/string.h:29,
                 from kern/syscall_emulation.c:27:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./kern/mach.server.h: At top level:
./kern/mach.server.h:33:15: warning: redundant redeclaration of ‘task_create’ [-Wredundant-decls]
   33 | kern_return_t task_create
      |               ^~~~~~~~~~~
./kern/task.h:140:25: note: previous declaration of ‘task_create’ with type ‘kern_return_t(struct task *, boolean_t,  struct task **)’ {aka ‘int(struct task *, int,  struct task **)’}
  140 | extern kern_return_t    task_create(
      |                         ^~~~~~~~~~~
./kern/mach.server.h:49:15: warning: redundant redeclaration of ‘task_terminate’ [-Wredundant-decls]
   49 | kern_return_t task_terminate
      |               ^~~~~~~~~~~~~~
./kern/task.h:148:25: note: previous declaration of ‘task_terminate’ with type ‘kern_return_t(struct task *)’ {aka ‘int(struct task *)’}
  148 | extern kern_return_t    task_terminate(
      |                         ^~~~~~~~~~~~~~
./kern/mach.server.h:97:15: warning: redundant redeclaration of ‘task_threads’ [-Wredundant-decls]
   97 | kern_return_t task_threads
      |               ^~~~~~~~~~~~
./kern/task.h:154:25: note: previous declaration of ‘task_threads’ with type ‘kern_return_t(struct task *, mach_port_t **, natural_t *)’ {aka ‘int(struct task *, long unsigned int **, unsigned int *)’}
  154 | extern kern_return_t    task_threads(
      |                         ^~~~~~~~~~~~
./kern/mach.server.h:113:15: warning: redundant redeclaration of ‘task_info’ [-Wredundant-decls]
  113 | kern_return_t task_info
      |               ^~~~~~~~~
./kern/task.h:158:25: note: previous declaration of ‘task_info’ with type ‘kern_return_t(struct task *, int,  integer_t *, natural_t *)’ {aka ‘int(struct task *, int,  int *, unsigned int *)’}
  158 | extern kern_return_t    task_info(
      |                         ^~~~~~~~~
./kern/mach.server.h:130:15: warning: redundant redeclaration of ‘thread_terminate’ [-Wredundant-decls]
  130 | kern_return_t thread_terminate
      |               ^~~~~~~~~~~~~~~~
./kern/thread.h:297:25: note: previous declaration of ‘thread_terminate’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  297 | extern kern_return_t    thread_terminate(
      |                         ^~~~~~~~~~~~~~~~
./kern/mach.server.h:144:15: warning: redundant redeclaration of ‘thread_get_state’ [-Wredundant-decls]
  144 | kern_return_t thread_get_state
      |               ^~~~~~~~~~~~~~~~
./kern/thread.h:333:25: note: previous declaration of ‘thread_get_state’ with type ‘kern_return_t(struct thread *, int,  natural_t *, natural_t *)’ {aka ‘int(struct thread *, int,  unsigned int *, unsigned int *)’}
  333 | extern kern_return_t    thread_get_state(
      |                         ^~~~~~~~~~~~~~~~
./kern/mach.server.h:161:15: warning: redundant redeclaration of ‘thread_set_state’ [-Wredundant-decls]
  161 | kern_return_t thread_set_state
      |               ^~~~~~~~~~~~~~~~
./kern/thread.h:338:25: note: previous declaration of ‘thread_set_state’ with type ‘kern_return_t(struct thread *, int,  natural_t *, natural_t)’ {aka ‘int(struct thread *, int,  unsigned int *, unsigned int)’}
  338 | extern kern_return_t    thread_set_state(
      |                         ^~~~~~~~~~~~~~~~
./kern/mach.server.h:178:15: warning: redundant redeclaration of ‘thread_info’ [-Wredundant-decls]
  178 | kern_return_t thread_info
      |               ^~~~~~~~~~~
./kern/thread.h:351:25: note: previous declaration of ‘thread_info’ with type ‘kern_return_t(struct thread *, int,  integer_t *, natural_t *)’ {aka ‘int(struct thread *, int,  int *, unsigned int *)’}
  351 | extern kern_return_t    thread_info(
      |                         ^~~~~~~~~~~
./kern/mach.server.h:453:15: warning: redundant redeclaration of ‘task_suspend’ [-Wredundant-decls]
  453 | kern_return_t task_suspend
      |               ^~~~~~~~~~~~
./kern/task.h:150:25: note: previous declaration of ‘task_suspend’ with type ‘kern_return_t(struct task *)’ {aka ‘int(struct task *)’}
  150 | extern kern_return_t    task_suspend(
      |                         ^~~~~~~~~~~~
./kern/mach.server.h:467:15: warning: redundant redeclaration of ‘task_resume’ [-Wredundant-decls]
  467 | kern_return_t task_resume
      |               ^~~~~~~~~~~
./kern/task.h:152:25: note: previous declaration of ‘task_resume’ with type ‘kern_return_t(struct task *)’ {aka ‘int(struct task *)’}
  152 | extern kern_return_t    task_resume(
      |                         ^~~~~~~~~~~
./kern/mach.server.h:481:15: warning: redundant redeclaration of ‘task_get_special_port’ [-Wredundant-decls]
  481 | kern_return_t task_get_special_port
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/task.h:163:25: note: previous declaration of ‘task_get_special_port’ with type ‘kern_return_t(struct task *, int,  struct ipc_port **)’ {aka ‘int(struct task *, int,  struct ipc_port **)’}
  163 | extern kern_return_t    task_get_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~
./kern/mach.server.h:497:15: warning: redundant redeclaration of ‘task_set_special_port’ [-Wredundant-decls]
  497 | kern_return_t task_set_special_port
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/task.h:167:25: note: previous declaration of ‘task_set_special_port’ with type ‘kern_return_t(struct task *, int,  struct ipc_port *)’ {aka ‘int(struct task *, int,  struct ipc_port *)’}
  167 | extern kern_return_t    task_set_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~
./kern/mach.server.h:513:15: warning: redundant redeclaration of ‘thread_create’ [-Wredundant-decls]
  513 | kern_return_t thread_create
      |               ^~~~~~~~~~~~~
./kern/thread.h:294:25: note: previous declaration of ‘thread_create’ with type ‘kern_return_t(struct task *, struct thread **)’ {aka ‘int(struct task *, struct thread **)’}
  294 | extern kern_return_t    thread_create(
      |                         ^~~~~~~~~~~~~
./kern/mach.server.h:528:15: warning: redundant redeclaration of ‘thread_suspend’ [-Wredundant-decls]
  528 | kern_return_t thread_suspend
      |               ^~~~~~~~~~~~~~
./kern/thread.h:306:25: note: previous declaration of ‘thread_suspend’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  306 | extern kern_return_t    thread_suspend(
      |                         ^~~~~~~~~~~~~~
./kern/mach.server.h:542:15: warning: redundant redeclaration of ‘thread_resume’ [-Wredundant-decls]
  542 | kern_return_t thread_resume
      |               ^~~~~~~~~~~~~
./kern/thread.h:308:25: note: previous declaration of ‘thread_resume’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  308 | extern kern_return_t    thread_resume(
      |                         ^~~~~~~~~~~~~
./kern/mach.server.h:556:15: warning: redundant redeclaration of ‘thread_abort’ [-Wredundant-decls]
  556 | kern_return_t thread_abort
      |               ^~~~~~~~~~~~
./kern/thread.h:310:25: note: previous declaration of ‘thread_abort’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  310 | extern kern_return_t    thread_abort(
      |                         ^~~~~~~~~~~~
./kern/mach.server.h:570:15: warning: redundant redeclaration of ‘thread_get_special_port’ [-Wredundant-decls]
  570 | kern_return_t thread_get_special_port
      |               ^~~~~~~~~~~~~~~~~~~~~~~
./kern/thread.h:343:25: note: previous declaration of ‘thread_get_special_port’ with type ‘kern_return_t(struct thread *, int,  struct ipc_port **)’ {aka ‘int(struct thread *, int,  struct ipc_port **)’}
  343 | extern kern_return_t    thread_get_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
./kern/mach.server.h:586:15: warning: redundant redeclaration of ‘thread_set_special_port’ [-Wredundant-decls]
  586 | kern_return_t thread_set_special_port
      |               ^~~~~~~~~~~~~~~~~~~~~~~
./kern/thread.h:347:25: note: previous declaration of ‘thread_set_special_port’ with type ‘kern_return_t(struct thread *, int,  struct ipc_port *)’ {aka ‘int(struct thread *, int,  struct ipc_port *)’}
  347 | extern kern_return_t    thread_set_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
kern/syscall_emulation.c: In function ‘eml_task_deallocate’:
kern/syscall_emulation.c:53:42: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   53 |         (base_size + sizeof(vm_offset_t) * (count))
      |                                          ^
kern/syscall_emulation.c:111:41: note: in expansion of macro ‘count_to_size’
  111 |                 kfree((vm_offset_t)eml, count_to_size(eml->disp_count));
      |                                         ^~~~~~~~~~~~~
kern/syscall_emulation.c: In function ‘task_set_emulation_vector_internal’:
kern/syscall_emulation.c:135:35: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  135 |         vector_end = vector_start + emulation_vector_count;
      |                                   ^
kern/syscall_emulation.c:135:22: warning: conversion to ‘int’ from ‘unsigned int’ may change the sign of the result [-Wsign-conversion]
  135 |         vector_end = vector_start + emulation_vector_count;
      |                      ^~~~~~~~~~~~
kern/syscall_emulation.c:205:48: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  205 |                            cur_eml->disp_count * sizeof(vm_offset_t));
      |                                                ^
kern/syscall_emulation.c:53:42: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   53 |         (base_size + sizeof(vm_offset_t) * (count))
      |                                          ^
kern/syscall_emulation.c:258:45: note: in expansion of macro ‘count_to_size’
  258 |                 kfree((vm_offset_t)new_eml, count_to_size(new_eml->disp_count));
      |                                             ^~~~~~~~~~~~~
kern/syscall_emulation.c:53:42: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   53 |         (base_size + sizeof(vm_offset_t) * (count))
      |                                          ^
kern/syscall_emulation.c:260:24: note: in expansion of macro ‘count_to_size’
  260 |             new_size = count_to_size(new_end - new_start);
      |                        ^~~~~~~~~~~~~
kern/syscall_emulation.c:53:42: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   53 |         (base_size + sizeof(vm_offset_t) * (count))
      |                                          ^
kern/syscall_emulation.c:286:42: note: in expansion of macro ‘count_to_size’
  286 |             kfree((vm_offset_t) old_eml, count_to_size(old_eml->disp_count));
      |                                          ^~~~~~~~~~~~~
kern/syscall_emulation.c: In function ‘task_get_emulation_vector’:
kern/syscall_emulation.c:378:43: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  378 |             vector_size = eml->disp_count * sizeof(vm_offset_t);
      |                                           ^
In file included from kern/syscall_emulation.c:30:
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
kern/syscall_emulation.c:380:27: note: in expansion of macro ‘round_page’
  380 |             size_needed = round_page(vector_size);
      |                           ^~~~~~~~~~
kern/syscall_emulation.c:401:35: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  401 |         *emulation_vector_count = eml->disp_count;
      |                                   ^~~
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
kern/syscall_emulation.c:418:21: note: in expansion of macro ‘round_page’
  418 |         size_used = round_page(vector_size);
      |                     ^~~~~~~~~~
depbase=`echo kern/syscall_subr.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/syscall_subr.o -MD -MP -MF $depbase.Tpo -c -o kern/syscall_subr.o kern/syscall_subr.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./kern/ipc_kobject.h:44,
                 from ./ipc/ipc_port.h:47,
                 from kern/syscall_subr.c:32:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from ./vm/pmap.h:45:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/mach/port.h:39,
                 from ./ipc/ipc_port.h:44:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
In file included from kern/syscall_subr.c:33:
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
kern/syscall_subr.c: In function ‘swtch_pri’:
kern/syscall_subr.c:121:41: warning: conversion to ‘mach_msg_timeout_t’ {aka ‘unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  121 |         thread_depress_priority(thread, min_quantum);
      |                                         ^~~~~~~~~~~
kern/syscall_subr.c: In function ‘thread_switch’:
kern/syscall_subr.c:194:47: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
  194 |                                  thread_name, &port) == KERN_SUCCESS)) {
./ipc/ipc_port.h:207:56: note: in definition of macro ‘ipc_port_translate_send’
  207 |                                      (ipc_object_t *) (portp))
      |                                                        ^~~~~
In file included from ./kern/thread.h:49:
kern/syscall_subr.c: In function ‘thread_depress_priority’:
./kern/sched_prim.h:183:28: warning: conversion to ‘mach_msg_timeout_t’ {aka ‘unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  183 |                 (((millis) * hz + 999) / 1000)
      |                            ^
kern/syscall_subr.c:290:13: note: in expansion of macro ‘convert_ipc_timeout_to_ticks’
  290 |     ticks = convert_ipc_timeout_to_ticks(depress_time);
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
depbase=`echo kern/syscall_sw.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/syscall_sw.o -MD -MP -MF $depbase.Tpo -c -o kern/syscall_sw.o kern/syscall_sw.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from ./kern/syscall_subr.h:28,
                 from kern/syscall_sw.c:38:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53,
                 from ./ipc/ipc_thread.h:39,
                 from ./kern/ipc_mig.h:31,
                 from kern/syscall_sw.c:39:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./kern/thread.h:54:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53,
                 from ./ipc/ipc_kmsg.h:46,
                 from ./kern/ipc_kobject.h:44,
                 from ./ipc/mach_port.server.h:12,
                 from kern/syscall_sw.c:41:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ./ipc/mach_port.server.h:13:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
./kern/ipc_tt.h:90:1: warning: redundant redeclaration of ‘mach_reply_port’ [-Wredundant-decls]
   90 | mach_reply_port (void);
      | ^~~~~~~~~~~~~~~
In file included from kern/syscall_sw.c:36:
./include/mach/mach_traps.h:38:18: note: previous declaration of ‘mach_reply_port’ with type ‘mach_port_name_t(void)’ {aka ‘unsigned int(void)’}
   38 | mach_port_name_t mach_reply_port (void);
      |                  ^~~~~~~~~~~~~~~
In file included from ./ipc/ipc_space.h:52,
                 from ./ipc/mach_port.server.h:21:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/mach/port.h:39,
                 from kern/syscall_sw.c:30:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
rm -f kern/task_notify.user.defs.c
cp -p kern/task_notify.cli kern/task_notify.user.defs.c
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa -E  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/lib_dep_tr_for_defs_a-task_notify.user.defs.o -MD -MP -MF kern/.deps/lib_dep_tr_for_defs_a-task_notify.user.defs.Tpo -c -o kern/lib_dep_tr_for_defs_a-task_notify.user.defs.o `test -f 'kern/task_notify.user.defs.c' || echo './'`kern/task_notify.user.defs.c
mv -f kern/.deps/lib_dep_tr_for_defs_a-task_notify.user.defs.Tpo kern/.deps/lib_dep_tr_for_defs_a-task_notify.user.defs.Po
/home/runner/work/cognu-mach/cognu-mach/scripts/mig-wrapper.sh -n -cc cat - /dev/null  	\
  -user kern/task_notify.user.c -header kern/task_notify.user.h			\
  -list kern/task_notify.user.msgids					\
  < kern/lib_dep_tr_for_defs_a-task_notify.user.defs.o
Fixed 64-bit type size assertions in kern/task_notify.user.c
depbase=`echo kern/task.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/task.o -MD -MP -MF $depbase.Tpo -c -o kern/task.o kern/task.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/task_info.h:39,
                 from kern/task.c:38:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_space.h:49,
                 from kern/task.c:41:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46,
                 from ./kern/ipc_kobject.h:44,
                 from ./ipc/ipc_port.h:47,
                 from ./ipc/ipc_space.h:52:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/sys/types.h:29,
                 from ./include/string.h:29,
                 from kern/task.c:34:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
In file included from ./kern/gnumach.server.h:13,
                 from kern/task.c:47:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
In file included from ./kern/thread.h:53,
                 from ./vm/pmap.h:45:
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
./kern/gnumach.server.h:49:15: warning: redundant redeclaration of ‘thread_terminate_release’ [-Wredundant-decls]
   49 | kern_return_t thread_terminate_release
      |               ^~~~~~~~~~~~~~~~~~~~~~~~
./kern/thread.h:299:25: note: previous declaration of ‘thread_terminate_release’ with type ‘kern_return_t(struct thread *, struct task *, mach_port_name_t,  mach_port_name_t,  vm_offset_t,  vm_size_t)’ {aka ‘int(struct thread *, struct task *, unsigned int,  unsigned int,  long unsigned int,  long unsigned int)’}
  299 | extern kern_return_t    thread_terminate_release(
      |                         ^~~~~~~~~~~~~~~~~~~~~~~~
./kern/gnumach.server.h:68:15: warning: redundant redeclaration of ‘task_set_name’ [-Wredundant-decls]
   68 | kern_return_t task_set_name
      |               ^~~~~~~~~~~~~
./kern/task.h:178:25: note: previous declaration of ‘task_set_name’ with type ‘kern_return_t(struct task *, const char *)’ {aka ‘int(struct task *, const char *)’}
  178 | extern kern_return_t    task_set_name(
      |                         ^~~~~~~~~~~~~
./kern/gnumach.server.h:259:15: warning: redundant redeclaration of ‘thread_set_name’ [-Wredundant-decls]
  259 | kern_return_t thread_set_name
      |               ^~~~~~~~~~~~~~~
./kern/thread.h:362:22: note: previous declaration of ‘thread_set_name’ with type ‘kern_return_t(struct thread *, const char *)’ {aka ‘int(struct thread *, const char *)’}
  362 | extern kern_return_t thread_set_name(
      |                      ^~~~~~~~~~~~~~~
./kern/gnumach.server.h:274:15: warning: redundant redeclaration of ‘thread_get_name’ [-Wredundant-decls]
  274 | kern_return_t thread_get_name
      |               ^~~~~~~~~~~~~~~
./kern/thread.h:365:22: note: previous declaration of ‘thread_get_name’ with type ‘kern_return_t(struct thread *, char *)’ {aka ‘int(struct thread *, char *)’}
  365 | extern kern_return_t thread_get_name(
      |                      ^~~~~~~~~~~~~~~
In file included from kern/task.c:49:
./kern/mach.server.h:33:15: warning: redundant redeclaration of ‘task_create’ [-Wredundant-decls]
   33 | kern_return_t task_create
      |               ^~~~~~~~~~~
./kern/task.h:140:25: note: previous declaration of ‘task_create’ with type ‘kern_return_t(struct task *, boolean_t,  struct task **)’ {aka ‘int(struct task *, int,  struct task **)’}
  140 | extern kern_return_t    task_create(
      |                         ^~~~~~~~~~~
./kern/mach.server.h:49:15: warning: redundant redeclaration of ‘task_terminate’ [-Wredundant-decls]
   49 | kern_return_t task_terminate
      |               ^~~~~~~~~~~~~~
./kern/task.h:148:25: note: previous declaration of ‘task_terminate’ with type ‘kern_return_t(struct task *)’ {aka ‘int(struct task *)’}
  148 | extern kern_return_t    task_terminate(
      |                         ^~~~~~~~~~~~~~
./kern/mach.server.h:97:15: warning: redundant redeclaration of ‘task_threads’ [-Wredundant-decls]
   97 | kern_return_t task_threads
      |               ^~~~~~~~~~~~
./kern/task.h:154:25: note: previous declaration of ‘task_threads’ with type ‘kern_return_t(struct task *, mach_port_t **, natural_t *)’ {aka ‘int(struct task *, long unsigned int **, unsigned int *)’}
  154 | extern kern_return_t    task_threads(
      |                         ^~~~~~~~~~~~
./kern/mach.server.h:113:15: warning: redundant redeclaration of ‘task_info’ [-Wredundant-decls]
  113 | kern_return_t task_info
      |               ^~~~~~~~~
./kern/task.h:158:25: note: previous declaration of ‘task_info’ with type ‘kern_return_t(struct task *, int,  integer_t *, natural_t *)’ {aka ‘int(struct task *, int,  int *, unsigned int *)’}
  158 | extern kern_return_t    task_info(
      |                         ^~~~~~~~~
./kern/mach.server.h:130:15: warning: redundant redeclaration of ‘thread_terminate’ [-Wredundant-decls]
  130 | kern_return_t thread_terminate
      |               ^~~~~~~~~~~~~~~~
./kern/thread.h:297:25: note: previous declaration of ‘thread_terminate’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  297 | extern kern_return_t    thread_terminate(
      |                         ^~~~~~~~~~~~~~~~
./kern/mach.server.h:144:15: warning: redundant redeclaration of ‘thread_get_state’ [-Wredundant-decls]
  144 | kern_return_t thread_get_state
      |               ^~~~~~~~~~~~~~~~
./kern/thread.h:333:25: note: previous declaration of ‘thread_get_state’ with type ‘kern_return_t(struct thread *, int,  natural_t *, natural_t *)’ {aka ‘int(struct thread *, int,  unsigned int *, unsigned int *)’}
  333 | extern kern_return_t    thread_get_state(
      |                         ^~~~~~~~~~~~~~~~
./kern/mach.server.h:161:15: warning: redundant redeclaration of ‘thread_set_state’ [-Wredundant-decls]
  161 | kern_return_t thread_set_state
      |               ^~~~~~~~~~~~~~~~
./kern/thread.h:338:25: note: previous declaration of ‘thread_set_state’ with type ‘kern_return_t(struct thread *, int,  natural_t *, natural_t)’ {aka ‘int(struct thread *, int,  unsigned int *, unsigned int)’}
  338 | extern kern_return_t    thread_set_state(
      |                         ^~~~~~~~~~~~~~~~
./kern/mach.server.h:178:15: warning: redundant redeclaration of ‘thread_info’ [-Wredundant-decls]
  178 | kern_return_t thread_info
      |               ^~~~~~~~~~~
./kern/thread.h:351:25: note: previous declaration of ‘thread_info’ with type ‘kern_return_t(struct thread *, int,  integer_t *, natural_t *)’ {aka ‘int(struct thread *, int,  int *, unsigned int *)’}
  351 | extern kern_return_t    thread_info(
      |                         ^~~~~~~~~~~
./kern/mach.server.h:453:15: warning: redundant redeclaration of ‘task_suspend’ [-Wredundant-decls]
  453 | kern_return_t task_suspend
      |               ^~~~~~~~~~~~
./kern/task.h:150:25: note: previous declaration of ‘task_suspend’ with type ‘kern_return_t(struct task *)’ {aka ‘int(struct task *)’}
  150 | extern kern_return_t    task_suspend(
      |                         ^~~~~~~~~~~~
./kern/mach.server.h:467:15: warning: redundant redeclaration of ‘task_resume’ [-Wredundant-decls]
  467 | kern_return_t task_resume
      |               ^~~~~~~~~~~
./kern/task.h:152:25: note: previous declaration of ‘task_resume’ with type ‘kern_return_t(struct task *)’ {aka ‘int(struct task *)’}
  152 | extern kern_return_t    task_resume(
      |                         ^~~~~~~~~~~
./kern/mach.server.h:481:15: warning: redundant redeclaration of ‘task_get_special_port’ [-Wredundant-decls]
  481 | kern_return_t task_get_special_port
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/task.h:163:25: note: previous declaration of ‘task_get_special_port’ with type ‘kern_return_t(struct task *, int,  struct ipc_port **)’ {aka ‘int(struct task *, int,  struct ipc_port **)’}
  163 | extern kern_return_t    task_get_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~
./kern/mach.server.h:497:15: warning: redundant redeclaration of ‘task_set_special_port’ [-Wredundant-decls]
  497 | kern_return_t task_set_special_port
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/task.h:167:25: note: previous declaration of ‘task_set_special_port’ with type ‘kern_return_t(struct task *, int,  struct ipc_port *)’ {aka ‘int(struct task *, int,  struct ipc_port *)’}
  167 | extern kern_return_t    task_set_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~
./kern/mach.server.h:513:15: warning: redundant redeclaration of ‘thread_create’ [-Wredundant-decls]
  513 | kern_return_t thread_create
      |               ^~~~~~~~~~~~~
./kern/thread.h:294:25: note: previous declaration of ‘thread_create’ with type ‘kern_return_t(struct task *, struct thread **)’ {aka ‘int(struct task *, struct thread **)’}
  294 | extern kern_return_t    thread_create(
      |                         ^~~~~~~~~~~~~
./kern/mach.server.h:528:15: warning: redundant redeclaration of ‘thread_suspend’ [-Wredundant-decls]
  528 | kern_return_t thread_suspend
      |               ^~~~~~~~~~~~~~
./kern/thread.h:306:25: note: previous declaration of ‘thread_suspend’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  306 | extern kern_return_t    thread_suspend(
      |                         ^~~~~~~~~~~~~~
./kern/mach.server.h:542:15: warning: redundant redeclaration of ‘thread_resume’ [-Wredundant-decls]
  542 | kern_return_t thread_resume
      |               ^~~~~~~~~~~~~
./kern/thread.h:308:25: note: previous declaration of ‘thread_resume’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  308 | extern kern_return_t    thread_resume(
      |                         ^~~~~~~~~~~~~
./kern/mach.server.h:556:15: warning: redundant redeclaration of ‘thread_abort’ [-Wredundant-decls]
  556 | kern_return_t thread_abort
      |               ^~~~~~~~~~~~
./kern/thread.h:310:25: note: previous declaration of ‘thread_abort’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  310 | extern kern_return_t    thread_abort(
      |                         ^~~~~~~~~~~~
./kern/mach.server.h:570:15: warning: redundant redeclaration of ‘thread_get_special_port’ [-Wredundant-decls]
  570 | kern_return_t thread_get_special_port
      |               ^~~~~~~~~~~~~~~~~~~~~~~
./kern/thread.h:343:25: note: previous declaration of ‘thread_get_special_port’ with type ‘kern_return_t(struct thread *, int,  struct ipc_port **)’ {aka ‘int(struct thread *, int,  struct ipc_port **)’}
  343 | extern kern_return_t    thread_get_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
./kern/mach.server.h:586:15: warning: redundant redeclaration of ‘thread_set_special_port’ [-Wredundant-decls]
  586 | kern_return_t thread_set_special_port
      |               ^~~~~~~~~~~~~~~~~~~~~~~
./kern/thread.h:347:25: note: previous declaration of ‘thread_set_special_port’ with type ‘kern_return_t(struct thread *, int,  struct ipc_port *)’ {aka ‘int(struct thread *, int,  struct ipc_port *)’}
  347 | extern kern_return_t    thread_set_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
In file included from kern/task.c:50:
./kern/mach_host.server.h:49:15: warning: redundant redeclaration of ‘processor_start’ [-Wredundant-decls]
   49 | kern_return_t processor_start
      |               ^~~~~~~~~~~~~~~
In file included from ./kern/thread.h:48:
./kern/processor.h:296:22: note: previous declaration of ‘processor_start’ with type ‘kern_return_t(struct processor *)’ {aka ‘int(struct processor *)’}
  296 | extern kern_return_t processor_start(
      |                      ^~~~~~~~~~~~~~~
./kern/mach_host.server.h:63:15: warning: redundant redeclaration of ‘processor_exit’ [-Wredundant-decls]
   63 | kern_return_t processor_exit
      |               ^~~~~~~~~~~~~~
./kern/processor.h:299:22: note: previous declaration of ‘processor_exit’ with type ‘kern_return_t(struct processor *)’ {aka ‘int(struct processor *)’}
  299 | extern kern_return_t processor_exit(
      |                      ^~~~~~~~~~~~~~
./kern/mach_host.server.h:92:15: warning: redundant redeclaration of ‘processor_set_create’ [-Wredundant-decls]
   92 | kern_return_t processor_set_create
      |               ^~~~~~~~~~~~~~~~~~~~
./kern/processor.h:309:22: note: previous declaration of ‘processor_set_create’ with type ‘kern_return_t(struct host *, struct processor_set **, struct processor_set **)’ {aka ‘int(struct host *, struct processor_set **, struct processor_set **)’}
  309 | extern kern_return_t processor_set_create(
      |                      ^~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:108:15: warning: redundant redeclaration of ‘processor_set_destroy’ [-Wredundant-decls]
  108 | kern_return_t processor_set_destroy
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:314:22: note: previous declaration of ‘processor_set_destroy’ with type ‘kern_return_t(struct processor_set *)’ {aka ‘int(struct processor_set *)’}
  314 | extern kern_return_t processor_set_destroy(
      |                      ^~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:138:15: warning: redundant redeclaration of ‘processor_get_assignment’ [-Wredundant-decls]
  138 | kern_return_t processor_get_assignment
      |               ^~~~~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:285:22: note: previous declaration of ‘processor_get_assignment’ with type ‘kern_return_t(struct processor *, struct processor_set **)’ {aka ‘int(struct processor *, struct processor_set **)’}
  285 | extern kern_return_t processor_get_assignment(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:153:15: warning: redundant redeclaration of ‘thread_assign’ [-Wredundant-decls]
  153 | kern_return_t thread_assign
      |               ^~~~~~~~~~~~~
./kern/thread.h:356:25: note: previous declaration of ‘thread_assign’ with type ‘kern_return_t(struct thread *, struct processor_set *)’ {aka ‘int(struct thread *, struct processor_set *)’}
  356 | extern kern_return_t    thread_assign(
      |                         ^~~~~~~~~~~~~
./kern/mach_host.server.h:168:15: warning: redundant redeclaration of ‘thread_assign_default’ [-Wredundant-decls]
  168 | kern_return_t thread_assign_default
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/thread.h:359:25: note: previous declaration of ‘thread_assign_default’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  359 | extern kern_return_t    thread_assign_default(
      |                         ^~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:197:15: warning: redundant redeclaration of ‘task_assign’ [-Wredundant-decls]
  197 | kern_return_t task_assign
      |               ^~~~~~~~~~~
./kern/task.h:171:25: note: previous declaration of ‘task_assign’ with type ‘kern_return_t(struct task *, struct processor_set *, boolean_t)’ {aka ‘int(struct task *, struct processor_set *, int)’}
  171 | extern kern_return_t    task_assign(
      |                         ^~~~~~~~~~~
./kern/mach_host.server.h:213:15: warning: redundant redeclaration of ‘task_assign_default’ [-Wredundant-decls]
  213 | kern_return_t task_assign_default
      |               ^~~~~~~~~~~~~~~~~~~
./kern/task.h:175:25: note: previous declaration of ‘task_assign_default’ with type ‘kern_return_t(struct task *, boolean_t)’ {aka ‘int(struct task *, int)’}
  175 | extern kern_return_t    task_assign_default(
      |                         ^~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:258:15: warning: redundant redeclaration of ‘thread_priority’ [-Wredundant-decls]
  258 | kern_return_t thread_priority
      |               ^~~~~~~~~~~~~~~
./kern/thread.h:315:25: note: previous declaration of ‘thread_priority’ with type ‘kern_return_t(struct thread *, int,  boolean_t)’ {aka ‘int(struct thread *, int,  int)’}
  315 | extern kern_return_t    thread_priority(
      |                         ^~~~~~~~~~~~~~~
./kern/mach_host.server.h:274:15: warning: redundant redeclaration of ‘thread_max_priority’ [-Wredundant-decls]
  274 | kern_return_t thread_max_priority
      |               ^~~~~~~~~~~~~~~~~~~
./kern/thread.h:321:25: note: previous declaration of ‘thread_max_priority’ with type ‘kern_return_t(struct thread *, struct processor_set *, int)’ {aka ‘int(struct thread *, struct processor_set *, int)’}
  321 | extern kern_return_t    thread_max_priority(
      |                         ^~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:306:15: warning: redundant redeclaration of ‘processor_set_max_priority’ [-Wredundant-decls]
  306 | kern_return_t processor_set_max_priority
      |               ^~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:324:22: note: previous declaration of ‘processor_set_max_priority’ with type ‘kern_return_t(struct processor_set *, int,  boolean_t)’ {aka ‘int(struct processor_set *, int,  int)’}
  324 | extern kern_return_t processor_set_max_priority(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:322:15: warning: redundant redeclaration of ‘thread_policy’ [-Wredundant-decls]
  322 | kern_return_t thread_policy
      |               ^~~~~~~~~~~~~
./kern/thread.h:325:25: note: previous declaration of ‘thread_policy’ with type ‘kern_return_t(struct thread *, int,  int)’ {aka ‘int(struct thread *, int,  int)’}
  325 | extern kern_return_t    thread_policy(
      |                         ^~~~~~~~~~~~~
./kern/mach_host.server.h:338:15: warning: redundant redeclaration of ‘processor_set_policy_enable’ [-Wredundant-decls]
  338 | kern_return_t processor_set_policy_enable
      |               ^~~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:329:22: note: previous declaration of ‘processor_set_policy_enable’ with type ‘kern_return_t(struct processor_set *, int)’ {aka ‘int(struct processor_set *, int)’}
  329 | extern kern_return_t processor_set_policy_enable(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:353:15: warning: redundant redeclaration of ‘processor_set_policy_disable’ [-Wredundant-decls]
  353 | kern_return_t processor_set_policy_disable
      |               ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:333:22: note: previous declaration of ‘processor_set_policy_disable’ with type ‘kern_return_t(struct processor_set *, int,  boolean_t)’ {aka ‘int(struct processor_set *, int,  int)’}
  333 | extern kern_return_t processor_set_policy_disable(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:369:15: warning: redundant redeclaration of ‘processor_set_tasks’ [-Wredundant-decls]
  369 | kern_return_t processor_set_tasks
      |               ^~~~~~~~~~~~~~~~~~~
./kern/processor.h:338:22: note: previous declaration of ‘processor_set_tasks’ with type ‘kern_return_t(struct processor_set *, mach_port_t **, natural_t *)’ {aka ‘int(struct processor_set *, long unsigned int **, unsigned int *)’}
  338 | extern kern_return_t processor_set_tasks(
      |                      ^~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:385:15: warning: redundant redeclaration of ‘processor_set_threads’ [-Wredundant-decls]
  385 | kern_return_t processor_set_threads
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:343:22: note: previous declaration of ‘processor_set_threads’ with type ‘kern_return_t(struct processor_set *, mach_port_t **, natural_t *)’ {aka ‘int(struct processor_set *, long unsigned int **, unsigned int *)’}
  343 | extern kern_return_t processor_set_threads(
      |                      ^~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:559:15: warning: redundant redeclaration of ‘processor_info’ [-Wredundant-decls]
  559 | kern_return_t processor_info
      |               ^~~~~~~~~~~~~~
./kern/processor.h:289:22: note: previous declaration of ‘processor_info’ with type ‘kern_return_t(struct processor *, int,  struct host **, integer_t *, natural_t *)’ {aka ‘int(struct processor *, int,  struct host **, int *, unsigned int *)’}
  289 | extern kern_return_t processor_info(
      |                      ^~~~~~~~~~~~~~
./kern/mach_host.server.h:577:15: warning: redundant redeclaration of ‘processor_set_info’ [-Wredundant-decls]
  577 | kern_return_t processor_set_info
      |               ^~~~~~~~~~~~~~~~~~
./kern/processor.h:317:22: note: previous declaration of ‘processor_set_info’ with type ‘kern_return_t(struct processor_set *, int,  struct host **, integer_t *, natural_t *)’ {aka ‘int(struct processor_set *, int,  struct host **, int *, unsigned int *)’}
  317 | extern kern_return_t processor_set_info(
      |                      ^~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:595:15: warning: redundant redeclaration of ‘processor_control’ [-Wredundant-decls]
  595 | kern_return_t processor_control
      |               ^~~~~~~~~~~~~~~~~
./kern/processor.h:302:22: note: previous declaration of ‘processor_control’ with type ‘kern_return_t(struct processor *, integer_t *, natural_t)’ {aka ‘int(struct processor *, int *, unsigned int)’}
  302 | extern kern_return_t processor_control(
      |                      ^~~~~~~~~~~~~~~~~
In file included from kern/task.c:37:
kern/task.c: In function ‘task_create_kernel’:
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
kern/task.c:125:41: note: in expansion of macro ‘round_page’
  125 |                                         round_page(VM_MIN_USER_ADDRESS),
      |                                         ^~~~~~~~~~
./include/mach/vm_param.h:87:59: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   87 | #define trunc_page(x)   ((vm_offset_t)(((vm_offset_t)(x)) & ~PAGE_MASK))
      |                                                           ^
kern/task.c:126:41: note: in expansion of macro ‘trunc_page’
  126 |                                         trunc_page(VM_MAX_USER_ADDRESS));
      |                                         ^~~~~~~~~~
kern/task.c: In function ‘task_threads’:
kern/task.c:616:26: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  616 |                 actual = task->thread_count;
      |                          ^~~~
kern/task.c: In function ‘task_info’:
kern/task.c:802:45: warning: conversion from ‘vm_size_t’ {aka ‘long unsigned int’} to ‘rpc_vm_size_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  802 |                 basic_info->virtual_size  = map->size;
      |                                             ^~~
./include/mach/time_value.h:157:33: warning: conversion from ‘int64_t’ {aka ‘long int’} to ‘rpc_long_integer_t’ {aka ‘int’} may change value [-Wconversion]
  157 |                 (tv)->seconds = (tv64)->seconds;                        \
      |                                 ^
kern/task.c:809:17: note: in expansion of macro ‘TIME_VALUE64_TO_TIME_VALUE’
  809 |                 TIME_VALUE64_TO_TIME_VALUE(&task->total_user_time,
      |                 ^~~~~~~~~~~~~~~~~~~~~~~~~~
./include/mach/time_value.h:158:38: warning: conversion from ‘int64_t’ {aka ‘long int’} to ‘integer_t’ {aka ‘int’} may change value [-Wconversion]
  158 |                 (tv)->microseconds = (tv64)->nanoseconds / 1000;        \
      |                                      ^
kern/task.c:809:17: note: in expansion of macro ‘TIME_VALUE64_TO_TIME_VALUE’
  809 |                 TIME_VALUE64_TO_TIME_VALUE(&task->total_user_time,
      |                 ^~~~~~~~~~~~~~~~~~~~~~~~~~
./include/mach/time_value.h:157:33: warning: conversion from ‘int64_t’ {aka ‘long int’} to ‘rpc_long_integer_t’ {aka ‘int’} may change value [-Wconversion]
  157 |                 (tv)->seconds = (tv64)->seconds;                        \
      |                                 ^
kern/task.c:811:17: note: in expansion of macro ‘TIME_VALUE64_TO_TIME_VALUE’
  811 |                 TIME_VALUE64_TO_TIME_VALUE(&task->total_system_time,
      |                 ^~~~~~~~~~~~~~~~~~~~~~~~~~
./include/mach/time_value.h:158:38: warning: conversion from ‘int64_t’ {aka ‘long int’} to ‘integer_t’ {aka ‘int’} may change value [-Wconversion]
  158 |                 (tv)->microseconds = (tv64)->nanoseconds / 1000;        \
      |                                      ^
kern/task.c:811:17: note: in expansion of macro ‘TIME_VALUE64_TO_TIME_VALUE’
  811 |                 TIME_VALUE64_TO_TIME_VALUE(&task->total_system_time,
      |                 ^~~~~~~~~~~~~~~~~~~~~~~~~~
./include/mach/time_value.h:157:33: warning: conversion from ‘int64_t’ {aka ‘long int’} to ‘rpc_long_integer_t’ {aka ‘int’} may change value [-Wconversion]
  157 |                 (tv)->seconds = (tv64)->seconds;                        \
      |                                 ^
kern/task.c:815:17: note: in expansion of macro ‘TIME_VALUE64_TO_TIME_VALUE’
  815 |                 TIME_VALUE64_TO_TIME_VALUE(&creation_time64, &basic_info->creation_time);
      |                 ^~~~~~~~~~~~~~~~~~~~~~~~~~
./include/mach/time_value.h:158:38: warning: conversion from ‘int64_t’ {aka ‘long int’} to ‘integer_t’ {aka ‘int’} may change value [-Wconversion]
  158 |                 (tv)->microseconds = (tv64)->nanoseconds / 1000;        \
      |                                      ^
kern/task.c:815:17: note: in expansion of macro ‘TIME_VALUE64_TO_TIME_VALUE’
  815 |                 TIME_VALUE64_TO_TIME_VALUE(&creation_time64, &basic_info->creation_time);
      |                 ^~~~~~~~~~~~~~~~~~~~~~~~~~
kern/task.c:840:38: warning: conversion from ‘long_natural_t’ {aka ‘long unsigned int’} to ‘rpc_long_natural_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  840 |                 event_info->faults = task->faults;
      |                                      ^~~~
kern/task.c:841:42: warning: conversion from ‘long_natural_t’ {aka ‘long unsigned int’} to ‘rpc_long_natural_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  841 |                 event_info->zero_fills = task->zero_fills;
      |                                          ^~~~
kern/task.c:842:45: warning: conversion from ‘long_natural_t’ {aka ‘long unsigned int’} to ‘rpc_long_natural_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  842 |                 event_info->reactivations = task->reactivations;
      |                                             ^~~~
kern/task.c:843:39: warning: conversion from ‘long_natural_t’ {aka ‘long unsigned int’} to ‘rpc_long_natural_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  843 |                 event_info->pageins = task->pageins;
      |                                       ^~~~
kern/task.c:844:42: warning: conversion from ‘long_natural_t’ {aka ‘long unsigned int’} to ‘rpc_long_natural_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  844 |                 event_info->cow_faults = task->cow_faults;
      |                                          ^~~~
kern/task.c:845:45: warning: conversion from ‘long_natural_t’ {aka ‘long unsigned int’} to ‘rpc_long_natural_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  845 |                 event_info->messages_sent = task->messages_sent;
      |                                             ^~~~
kern/task.c:846:49: warning: conversion from ‘long_natural_t’ {aka ‘long unsigned int’} to ‘rpc_long_natural_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  846 |                 event_info->messages_received = task->messages_received;
      |                                                 ^~~~
./include/mach/time_value.h:157:33: warning: conversion from ‘int64_t’ {aka ‘long int’} to ‘rpc_long_integer_t’ {aka ‘int’} may change value [-Wconversion]
  157 |                 (tv)->seconds = (tv64)->seconds;                        \
      |                                 ^
kern/task.c:888:17: note: in expansion of macro ‘TIME_VALUE64_TO_TIME_VALUE’
  888 |                 TIME_VALUE64_TO_TIME_VALUE(&acc_user_time, &times_info->user_time);
      |                 ^~~~~~~~~~~~~~~~~~~~~~~~~~
./include/mach/time_value.h:158:38: warning: conversion from ‘int64_t’ {aka ‘long int’} to ‘integer_t’ {aka ‘int’} may change value [-Wconversion]
  158 |                 (tv)->microseconds = (tv64)->nanoseconds / 1000;        \
      |                                      ^
kern/task.c:888:17: note: in expansion of macro ‘TIME_VALUE64_TO_TIME_VALUE’
  888 |                 TIME_VALUE64_TO_TIME_VALUE(&acc_user_time, &times_info->user_time);
      |                 ^~~~~~~~~~~~~~~~~~~~~~~~~~
./include/mach/time_value.h:157:33: warning: conversion from ‘int64_t’ {aka ‘long int’} to ‘rpc_long_integer_t’ {aka ‘int’} may change value [-Wconversion]
  157 |                 (tv)->seconds = (tv64)->seconds;                        \
      |                                 ^
kern/task.c:889:17: note: in expansion of macro ‘TIME_VALUE64_TO_TIME_VALUE’
  889 |                 TIME_VALUE64_TO_TIME_VALUE(&acc_system_time, &times_info->system_time);
      |                 ^~~~~~~~~~~~~~~~~~~~~~~~~~
./include/mach/time_value.h:158:38: warning: conversion from ‘int64_t’ {aka ‘long int’} to ‘integer_t’ {aka ‘int’} may change value [-Wconversion]
  158 |                 (tv)->microseconds = (tv64)->nanoseconds / 1000;        \
      |                                      ^
kern/task.c:889:17: note: in expansion of macro ‘TIME_VALUE64_TO_TIME_VALUE’
  889 |                 TIME_VALUE64_TO_TIME_VALUE(&acc_system_time, &times_info->system_time);
      |                 ^~~~~~~~~~~~~~~~~~~~~~~~~~
kern/task.c: In function ‘consider_task_collect’:
kern/task.c:1259:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1259 |                 task_collect_max_rate = hz;
      |                                         ^~
kern/task.c:1263:50: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1263 |                            task_collect_max_rate / (hz / 1)))) {
      |                                                  ^
depbase=`echo kern/thread.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/thread.o -MD -MP -MF $depbase.Tpo -c -o kern/thread.o kern/thread.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from kern/thread.c:34:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./kern/ipc_kobject.h:44,
                 from ./kern/gnumach.server.h:12,
                 from kern/thread.c:49:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ./kern/gnumach.server.h:13:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
In file included from ./kern/thread.h:53,
                 from ./vm/pmap.h:45:
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
In file included from ./ipc/ipc_space.h:52,
                 from ./kern/gnumach.server.h:21:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/sys/types.h:29,
                 from ./kern/printf.h:27:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./kern/gnumach.server.h: At top level:
./kern/gnumach.server.h:49:15: warning: redundant redeclaration of ‘thread_terminate_release’ [-Wredundant-decls]
   49 | kern_return_t thread_terminate_release
      |               ^~~~~~~~~~~~~~~~~~~~~~~~
./kern/thread.h:299:25: note: previous declaration of ‘thread_terminate_release’ with type ‘kern_return_t(struct thread *, struct task *, mach_port_name_t,  mach_port_name_t,  vm_offset_t,  vm_size_t)’ {aka ‘int(struct thread *, struct task *, unsigned int,  unsigned int,  long unsigned int,  long unsigned int)’}
  299 | extern kern_return_t    thread_terminate_release(
      |                         ^~~~~~~~~~~~~~~~~~~~~~~~
./kern/gnumach.server.h:68:15: warning: redundant redeclaration of ‘task_set_name’ [-Wredundant-decls]
   68 | kern_return_t task_set_name
      |               ^~~~~~~~~~~~~
./kern/task.h:178:25: note: previous declaration of ‘task_set_name’ with type ‘kern_return_t(struct task *, const char *)’ {aka ‘int(struct task *, const char *)’}
  178 | extern kern_return_t    task_set_name(
      |                         ^~~~~~~~~~~~~
./kern/gnumach.server.h:259:15: warning: redundant redeclaration of ‘thread_set_name’ [-Wredundant-decls]
  259 | kern_return_t thread_set_name
      |               ^~~~~~~~~~~~~~~
./kern/thread.h:362:22: note: previous declaration of ‘thread_set_name’ with type ‘kern_return_t(struct thread *, const char *)’ {aka ‘int(struct thread *, const char *)’}
  362 | extern kern_return_t thread_set_name(
      |                      ^~~~~~~~~~~~~~~
./kern/gnumach.server.h:274:15: warning: redundant redeclaration of ‘thread_get_name’ [-Wredundant-decls]
  274 | kern_return_t thread_get_name
      |               ^~~~~~~~~~~~~~~
./kern/thread.h:365:22: note: previous declaration of ‘thread_get_name’ with type ‘kern_return_t(struct thread *, char *)’ {aka ‘int(struct thread *, char *)’}
  365 | extern kern_return_t thread_get_name(
      |                      ^~~~~~~~~~~~~~~
In file included from kern/thread.c:53:
./kern/mach_host.server.h:49:15: warning: redundant redeclaration of ‘processor_start’ [-Wredundant-decls]
   49 | kern_return_t processor_start
      |               ^~~~~~~~~~~~~~~
In file included from ./kern/thread.h:48:
./kern/processor.h:296:22: note: previous declaration of ‘processor_start’ with type ‘kern_return_t(struct processor *)’ {aka ‘int(struct processor *)’}
  296 | extern kern_return_t processor_start(
      |                      ^~~~~~~~~~~~~~~
./kern/mach_host.server.h:63:15: warning: redundant redeclaration of ‘processor_exit’ [-Wredundant-decls]
   63 | kern_return_t processor_exit
      |               ^~~~~~~~~~~~~~
./kern/processor.h:299:22: note: previous declaration of ‘processor_exit’ with type ‘kern_return_t(struct processor *)’ {aka ‘int(struct processor *)’}
  299 | extern kern_return_t processor_exit(
      |                      ^~~~~~~~~~~~~~
./kern/mach_host.server.h:92:15: warning: redundant redeclaration of ‘processor_set_create’ [-Wredundant-decls]
   92 | kern_return_t processor_set_create
      |               ^~~~~~~~~~~~~~~~~~~~
./kern/processor.h:309:22: note: previous declaration of ‘processor_set_create’ with type ‘kern_return_t(struct host *, struct processor_set **, struct processor_set **)’ {aka ‘int(struct host *, struct processor_set **, struct processor_set **)’}
  309 | extern kern_return_t processor_set_create(
      |                      ^~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:108:15: warning: redundant redeclaration of ‘processor_set_destroy’ [-Wredundant-decls]
  108 | kern_return_t processor_set_destroy
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:314:22: note: previous declaration of ‘processor_set_destroy’ with type ‘kern_return_t(struct processor_set *)’ {aka ‘int(struct processor_set *)’}
  314 | extern kern_return_t processor_set_destroy(
      |                      ^~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:138:15: warning: redundant redeclaration of ‘processor_get_assignment’ [-Wredundant-decls]
  138 | kern_return_t processor_get_assignment
      |               ^~~~~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:285:22: note: previous declaration of ‘processor_get_assignment’ with type ‘kern_return_t(struct processor *, struct processor_set **)’ {aka ‘int(struct processor *, struct processor_set **)’}
  285 | extern kern_return_t processor_get_assignment(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:153:15: warning: redundant redeclaration of ‘thread_assign’ [-Wredundant-decls]
  153 | kern_return_t thread_assign
      |               ^~~~~~~~~~~~~
./kern/thread.h:356:25: note: previous declaration of ‘thread_assign’ with type ‘kern_return_t(struct thread *, struct processor_set *)’ {aka ‘int(struct thread *, struct processor_set *)’}
  356 | extern kern_return_t    thread_assign(
      |                         ^~~~~~~~~~~~~
./kern/mach_host.server.h:168:15: warning: redundant redeclaration of ‘thread_assign_default’ [-Wredundant-decls]
  168 | kern_return_t thread_assign_default
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/thread.h:359:25: note: previous declaration of ‘thread_assign_default’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  359 | extern kern_return_t    thread_assign_default(
      |                         ^~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:197:15: warning: redundant redeclaration of ‘task_assign’ [-Wredundant-decls]
  197 | kern_return_t task_assign
      |               ^~~~~~~~~~~
./kern/task.h:171:25: note: previous declaration of ‘task_assign’ with type ‘kern_return_t(struct task *, struct processor_set *, boolean_t)’ {aka ‘int(struct task *, struct processor_set *, int)’}
  171 | extern kern_return_t    task_assign(
      |                         ^~~~~~~~~~~
./kern/mach_host.server.h:213:15: warning: redundant redeclaration of ‘task_assign_default’ [-Wredundant-decls]
  213 | kern_return_t task_assign_default
      |               ^~~~~~~~~~~~~~~~~~~
./kern/task.h:175:25: note: previous declaration of ‘task_assign_default’ with type ‘kern_return_t(struct task *, boolean_t)’ {aka ‘int(struct task *, int)’}
  175 | extern kern_return_t    task_assign_default(
      |                         ^~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:258:15: warning: redundant redeclaration of ‘thread_priority’ [-Wredundant-decls]
  258 | kern_return_t thread_priority
      |               ^~~~~~~~~~~~~~~
./kern/thread.h:315:25: note: previous declaration of ‘thread_priority’ with type ‘kern_return_t(struct thread *, int,  boolean_t)’ {aka ‘int(struct thread *, int,  int)’}
  315 | extern kern_return_t    thread_priority(
      |                         ^~~~~~~~~~~~~~~
./kern/mach_host.server.h:274:15: warning: redundant redeclaration of ‘thread_max_priority’ [-Wredundant-decls]
  274 | kern_return_t thread_max_priority
      |               ^~~~~~~~~~~~~~~~~~~
./kern/thread.h:321:25: note: previous declaration of ‘thread_max_priority’ with type ‘kern_return_t(struct thread *, struct processor_set *, int)’ {aka ‘int(struct thread *, struct processor_set *, int)’}
  321 | extern kern_return_t    thread_max_priority(
      |                         ^~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:306:15: warning: redundant redeclaration of ‘processor_set_max_priority’ [-Wredundant-decls]
  306 | kern_return_t processor_set_max_priority
      |               ^~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:324:22: note: previous declaration of ‘processor_set_max_priority’ with type ‘kern_return_t(struct processor_set *, int,  boolean_t)’ {aka ‘int(struct processor_set *, int,  int)’}
  324 | extern kern_return_t processor_set_max_priority(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:322:15: warning: redundant redeclaration of ‘thread_policy’ [-Wredundant-decls]
  322 | kern_return_t thread_policy
      |               ^~~~~~~~~~~~~
./kern/thread.h:325:25: note: previous declaration of ‘thread_policy’ with type ‘kern_return_t(struct thread *, int,  int)’ {aka ‘int(struct thread *, int,  int)’}
  325 | extern kern_return_t    thread_policy(
      |                         ^~~~~~~~~~~~~
./kern/mach_host.server.h:338:15: warning: redundant redeclaration of ‘processor_set_policy_enable’ [-Wredundant-decls]
  338 | kern_return_t processor_set_policy_enable
      |               ^~~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:329:22: note: previous declaration of ‘processor_set_policy_enable’ with type ‘kern_return_t(struct processor_set *, int)’ {aka ‘int(struct processor_set *, int)’}
  329 | extern kern_return_t processor_set_policy_enable(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:353:15: warning: redundant redeclaration of ‘processor_set_policy_disable’ [-Wredundant-decls]
  353 | kern_return_t processor_set_policy_disable
      |               ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:333:22: note: previous declaration of ‘processor_set_policy_disable’ with type ‘kern_return_t(struct processor_set *, int,  boolean_t)’ {aka ‘int(struct processor_set *, int,  int)’}
  333 | extern kern_return_t processor_set_policy_disable(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:369:15: warning: redundant redeclaration of ‘processor_set_tasks’ [-Wredundant-decls]
  369 | kern_return_t processor_set_tasks
      |               ^~~~~~~~~~~~~~~~~~~
./kern/processor.h:338:22: note: previous declaration of ‘processor_set_tasks’ with type ‘kern_return_t(struct processor_set *, mach_port_t **, natural_t *)’ {aka ‘int(struct processor_set *, long unsigned int **, unsigned int *)’}
  338 | extern kern_return_t processor_set_tasks(
      |                      ^~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:385:15: warning: redundant redeclaration of ‘processor_set_threads’ [-Wredundant-decls]
  385 | kern_return_t processor_set_threads
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:343:22: note: previous declaration of ‘processor_set_threads’ with type ‘kern_return_t(struct processor_set *, mach_port_t **, natural_t *)’ {aka ‘int(struct processor_set *, long unsigned int **, unsigned int *)’}
  343 | extern kern_return_t processor_set_threads(
      |                      ^~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:559:15: warning: redundant redeclaration of ‘processor_info’ [-Wredundant-decls]
  559 | kern_return_t processor_info
      |               ^~~~~~~~~~~~~~
./kern/processor.h:289:22: note: previous declaration of ‘processor_info’ with type ‘kern_return_t(struct processor *, int,  struct host **, integer_t *, natural_t *)’ {aka ‘int(struct processor *, int,  struct host **, int *, unsigned int *)’}
  289 | extern kern_return_t processor_info(
      |                      ^~~~~~~~~~~~~~
./kern/mach_host.server.h:577:15: warning: redundant redeclaration of ‘processor_set_info’ [-Wredundant-decls]
  577 | kern_return_t processor_set_info
      |               ^~~~~~~~~~~~~~~~~~
./kern/processor.h:317:22: note: previous declaration of ‘processor_set_info’ with type ‘kern_return_t(struct processor_set *, int,  struct host **, integer_t *, natural_t *)’ {aka ‘int(struct processor_set *, int,  struct host **, int *, unsigned int *)’}
  317 | extern kern_return_t processor_set_info(
      |                      ^~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:595:15: warning: redundant redeclaration of ‘processor_control’ [-Wredundant-decls]
  595 | kern_return_t processor_control
      |               ^~~~~~~~~~~~~~~~~
./kern/processor.h:302:22: note: previous declaration of ‘processor_control’ with type ‘kern_return_t(struct processor *, integer_t *, natural_t)’ {aka ‘int(struct processor *, int *, unsigned int)’}
  302 | extern kern_return_t processor_control(
      |                      ^~~~~~~~~~~~~~~~~
In file included from kern/thread.c:58:
./kern/syscall_subr.h:38:22: warning: redundant redeclaration of ‘thread_depress_abort’ [-Wredundant-decls]
   38 | extern kern_return_t thread_depress_abort(thread_t);
      |                      ^~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:433:15: note: previous declaration of ‘thread_depress_abort’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  433 | kern_return_t thread_depress_abort
      |               ^~~~~~~~~~~~~~~~~~~~
In file included from kern/thread.c:68:
./vm/vm_user.h:50:25: warning: redundant redeclaration of ‘vm_cache_statistics’ [-Wredundant-decls]
   50 | extern kern_return_t    vm_cache_statistics(vm_map_t, vm_cache_statistics_data_t *);
      |                         ^~~~~~~~~~~~~~~~~~~
./kern/gnumach.server.h:34:15: note: previous declaration of ‘vm_cache_statistics’ with type ‘kern_return_t(struct vm_map *, vm_cache_statistics_data_t *)’ {aka ‘int(struct vm_map *, struct vm_cache_statistics *)’}
   34 | kern_return_t vm_cache_statistics
      |               ^~~~~~~~~~~~~~~~~~~
In file included from ./kern/thread.h:50:
kern/thread.c: In function ‘thread_create’:
./kern/timer.h:49:25: warning: conversion from ‘long int’ to ‘unsigned int’ may change value [-Wconversion]
   49 | #define TIMER_RATE      1000000
      |                         ^~~~~~~
kern/thread.c:491:33: note: in expansion of macro ‘TIMER_RATE’
  491 |         new_thread->cpu_usage = TIMER_RATE * SCHED_SCALE /
      |                                 ^~~~~~~~~~
kern/thread.c: In function ‘thread_dowait’:
kern/thread.c:1324:42: warning: unsigned conversion from ‘int’ to ‘short unsigned int’ changes the value of ‘-5’ [-Wsign-conversion]
 1324 |                         thread->state &= ~TH_RUN;
      |                                          ^
kern/thread.c: In function ‘thread_release’:
kern/thread.c:1390:34: warning: unsigned conversion from ‘int’ to ‘short unsigned int’ changes the value of ‘-19’ [-Wsign-conversion]
 1390 |                 thread->state &= ~(TH_SUSP | TH_HALTED);
      |                                  ^
kern/thread.c: In function ‘thread_resume’:
kern/thread.c:1463:38: warning: unsigned conversion from ‘int’ to ‘short unsigned int’ changes the value of ‘-19’ [-Wsign-conversion]
 1463 |                     thread->state &= ~(TH_SUSP | TH_HALTED);
      |                                      ^
kern/thread.c: In function ‘thread_info’:
./include/mach/time_value.h:157:33: warning: conversion from ‘int64_t’ {aka ‘long int’} to ‘rpc_long_integer_t’ {aka ‘int’} may change value [-Wconversion]
  157 |                 (tv)->seconds = (tv64)->seconds;                        \
      |                                 ^
kern/thread.c:1582:13: note: in expansion of macro ‘TIME_VALUE64_TO_TIME_VALUE’
 1582 |             TIME_VALUE64_TO_TIME_VALUE(&user_time, &basic_info->user_time);
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~
./include/mach/time_value.h:158:38: warning: conversion from ‘int64_t’ {aka ‘long int’} to ‘integer_t’ {aka ‘int’} may change value [-Wconversion]
  158 |                 (tv)->microseconds = (tv64)->nanoseconds / 1000;        \
      |                                      ^
kern/thread.c:1582:13: note: in expansion of macro ‘TIME_VALUE64_TO_TIME_VALUE’
 1582 |             TIME_VALUE64_TO_TIME_VALUE(&user_time, &basic_info->user_time);
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~
./include/mach/time_value.h:157:33: warning: conversion from ‘int64_t’ {aka ‘long int’} to ‘rpc_long_integer_t’ {aka ‘int’} may change value [-Wconversion]
  157 |                 (tv)->seconds = (tv64)->seconds;                        \
      |                                 ^
kern/thread.c:1583:13: note: in expansion of macro ‘TIME_VALUE64_TO_TIME_VALUE’
 1583 |             TIME_VALUE64_TO_TIME_VALUE(&system_time, &basic_info->system_time);
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~
./include/mach/time_value.h:158:38: warning: conversion from ‘int64_t’ {aka ‘long int’} to ‘integer_t’ {aka ‘int’} may change value [-Wconversion]
  158 |                 (tv)->microseconds = (tv64)->nanoseconds / 1000;        \
      |                                      ^
kern/thread.c:1583:13: note: in expansion of macro ‘TIME_VALUE64_TO_TIME_VALUE’
 1583 |             TIME_VALUE64_TO_TIME_VALUE(&system_time, &basic_info->system_time);
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~
./include/mach/time_value.h:157:33: warning: conversion from ‘int64_t’ {aka ‘long int’} to ‘rpc_long_integer_t’ {aka ‘int’} may change value [-Wconversion]
  157 |                 (tv)->seconds = (tv64)->seconds;                        \
      |                                 ^
kern/thread.c:1589:13: note: in expansion of macro ‘TIME_VALUE64_TO_TIME_VALUE’
 1589 |             TIME_VALUE64_TO_TIME_VALUE(&creation_time, &basic_info->creation_time);
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~
./include/mach/time_value.h:158:38: warning: conversion from ‘int64_t’ {aka ‘long int’} to ‘integer_t’ {aka ‘int’} may change value [-Wconversion]
  158 |                 (tv)->microseconds = (tv64)->nanoseconds / 1000;        \
      |                                      ^
kern/thread.c:1589:13: note: in expansion of macro ‘TIME_VALUE64_TO_TIME_VALUE’
 1589 |             TIME_VALUE64_TO_TIME_VALUE(&creation_time, &basic_info->creation_time);
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~
kern/thread.c:1603:37: warning: conversion to ‘integer_t’ {aka ‘int’} from ‘unsigned int’ may change the sign of the result [-Wsign-conversion]
 1603 |             basic_info->cpu_usage = thread->cpu_usage /
      |                                     ^~~~~~
kern/thread.c:1636:42: warning: conversion to ‘integer_t’ {aka ‘int’} from ‘unsigned int’ may change the sign of the result [-Wsign-conversion]
 1636 |                 basic_info->sleep_time = sched_tick - thread->sched_stamp;
      |                                          ^~~~~~~~~~
kern/thread.c: In function ‘consider_thread_collect’:
kern/thread.c:2406:43: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 2406 |                 thread_collect_max_rate = hz;
      |                                           ^~
kern/thread.c:2411:39: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 2411 |               thread_collect_max_rate / (hz / 1)))) {
      |                                       ^
In file included from ./machine/vm_param.h:29,
                 from kern/thread.c:44:
kern/thread.c: In function ‘host_stack_usage’:
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
kern/thread.c:2527:40: note: in expansion of macro ‘round_page’
 2527 |         *spacep = *residentp = total * round_page(KERNEL_STACK_SIZE);
      |                                        ^~~~~~~~~~
kern/thread.c: In function ‘processor_set_stack_usage’:
kern/thread.c:2566:26: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 2566 |                 actual = pset->thread_count;
      |                          ^~~~
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
kern/thread.c:2652:40: note: in expansion of macro ‘round_page’
 2652 |         *residentp = *spacep = total * round_page(KERNEL_STACK_SIZE);
      |                                        ^~~~~~~~~~
kern/thread.c: In function ‘thread_dowait’:
kern/thread.c:1323:24: warning: this statement may fall through [-Wimplicit-fallthrough=]
 1323 |                     if (rem_runq(thread) != RUN_QUEUE_NULL) {
      |                        ^
kern/thread.c:1343:17: note: here
 1343 |                 case TH_RUN           | TH_SUSP | TH_UNINT:
      |                 ^~~~
depbase=`echo kern/thread_swap.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/thread_swap.o -MD -MP -MF $depbase.Tpo -c -o kern/thread_swap.o kern/thread_swap.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from kern/thread_swap.c:47:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from ./vm/pmap.h:45:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
kern/thread_swap.c: In function ‘thread_swapin’:
kern/thread_swap.c:96:33: warning: unsigned conversion from ‘int’ to ‘short unsigned int’ changes the value of ‘-769’ [-Wsign-conversion]
   96 |                 thread->state = (thread->state & ~TH_SWAP_STATE)
      |                                 ^
kern/thread_swap.c: In function ‘thread_doswapin’:
kern/thread_swap.c:145:26: warning: unsigned conversion from ‘int’ to ‘short unsigned int’ changes the value of ‘-769’ [-Wsign-conversion]
  145 |         thread->state &= ~(TH_SWAPPED | TH_SW_COMING_IN);
      |                          ^
depbase=`echo kern/timer.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/timer.o -MD -MP -MF $depbase.Tpo -c -o kern/timer.o kern/timer.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from kern/timer.c:30:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./kern/thread.h:54:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
depbase=`echo kern/xpr.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/xpr.o -MD -MP -MF $depbase.Tpo -c -o kern/xpr.o kern/xpr.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./vm/vm_kern.h:38,
                 from kern/xpr.c:37:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from ./vm/pmap.h:45:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
kern/xpr.c: In function ‘xprbootstrap’:
kern/xpr.c:106:25: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  106 |         size = nxprbufs * sizeof(struct xprbuf) + sizeof xprptr;
      |                         ^
depbase=`echo kern/elf-load.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/elf-load.o -MD -MP -MF $depbase.Tpo -c -o kern/elf-load.o kern/elf-load.c &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo kern/boot_script.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/boot_script.o -MD -MP -MF $depbase.Tpo -c -o kern/boot_script.o kern/boot_script.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from kern/boot_script.c:5:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
kern/boot_script.c: In function ‘free_cmd’:
kern/boot_script.c:115:56: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  115 |       boot_script_free (cmd->args, sizeof cmd->args[0] * cmd->args_alloc);
      |                                                        ^
kern/boot_script.c:115:56: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  115 |       boot_script_free (cmd->args, sizeof cmd->args[0] * cmd->args_alloc);
      |                                    ~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
kern/boot_script.c:119:49: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |                       sizeof cmd->exec_funcs[0] * cmd->exec_funcs_alloc);
      |                                                 ^
kern/boot_script.c:119:49: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  119 |                       sizeof cmd->exec_funcs[0] * cmd->exec_funcs_alloc);
      |                       ~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~
kern/boot_script.c: In function ‘cleanup’:
kern/boot_script.c:132:42: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  132 |   boot_script_free (cmds, sizeof cmds[0] * cmds_alloc);
      |                                          ^
kern/boot_script.c:132:42: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  132 |   boot_script_free (cmds, sizeof cmds[0] * cmds_alloc);
      |                           ~~~~~~~~~~~~~~~^~~~~~~~~~~~
kern/boot_script.c:138:46: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  138 |   boot_script_free (symtab, sizeof symtab[0] * symtab_alloc);
      |                                              ^
kern/boot_script.c:138:46: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  138 |   boot_script_free (symtab, sizeof symtab[0] * symtab_alloc);
      |                             ~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~
kern/boot_script.c: In function ‘add_list’:
kern/boot_script.c:156:38: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  156 |       p = boot_script_malloc (*alloc * sizeof (void *));
      |                                      ^
kern/boot_script.c:156:38: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  156 |       p = boot_script_malloc (*alloc * sizeof (void *));
      |                               ~~~~~~~^~~~~~~~~~~~~~~~~
kern/boot_script.c:164:40: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  164 |           memcpy (p, *ptr_list, *index * sizeof (void *));
      |                                        ^
kern/boot_script.c:165:56: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  165 |           boot_script_free (*ptr_list, (*alloc - incr) * sizeof (void *));
      |                                                        ^
kern/boot_script.c:165:56: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  165 |           boot_script_free (*ptr_list, (*alloc - incr) * sizeof (void *));
      |                                        ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
kern/boot_script.c: In function ‘add_arg’:
kern/boot_script.c:187:37: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  187 |       if (add_list (arg, (void ***) &cmd->args,
      |                                     ^~~~~~~~~~
kern/boot_script.c: In function ‘sym_enter’:
kern/boot_script.c:220:37: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 |       if (add_list (sym, (void ***) &symtab, &symtab_alloc, &symtab_index, 20))
      |                                     ^~~~~~~
kern/boot_script.c: In function ‘boot_script_parse_line’:
kern/boot_script.c:280:45: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  280 |               if (add_list (cmd, (void ***) &cmds,
      |                                             ^~~~~
kern/boot_script.c:364:51: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  364 |                       if (add_list (s, (void ***) &cmd->exec_funcs,
      |                                                   ^~~~~~~~~~~~~~~~
kern/boot_script.c: In function ‘boot_script_exec’:
kern/boot_script.c:507:23: warning: conversion from ‘size_t’ {aka ‘long unsigned int’} to ‘int’ may change value [-Wconversion]
  507 |       cmdline_index = strlen (cmd->path) + 1;
      |                       ^~~~~~
kern/boot_script.c:509:37: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  509 |       cmdline = boot_script_malloc (cmdline_alloc);
      |                                     ^~~~~~~~~~~~~
kern/boot_script.c:515:35: warning: conversion to ‘size_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  515 |       memcpy (cmdline, cmd->path, cmdline_index);
      |                                   ^~~~~~~~~~~~~
kern/boot_script.c:518:50: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  518 |       argv = boot_script_malloc (sizeof (char *) * (cmd->args_index + 2));
      |                                                  ^
kern/boot_script.c:518:50: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  518 |       argv = boot_script_malloc (sizeof (char *) * (cmd->args_index + 2));
      |                                  ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~
kern/boot_script.c:521:38: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  521 |           boot_script_free (cmdline, cmdline_alloc);
      |                                      ^~~~~~~~~~~~~
kern/boot_script.c:536:25: warning: conversion from ‘size_t’ {aka ‘long unsigned int’} to ‘int’ may change value [-Wconversion]
  536 |               int len = strlen (arg->text);
      |                         ^~~~~~
kern/boot_script.c:472:18: warning: declaration of ‘i’ shadows a previous local [-Wshadow]
  472 |       int alloc, i; \
      |                  ^
kern/boot_script.c:540:15: note: in expansion of macro ‘CHECK_CMDLINE_LEN’
  540 |               CHECK_CMDLINE_LEN (len);
      |               ^~~~~~~~~~~~~~~~~
kern/boot_script.c:498:11: note: shadowed declaration is here
  498 |       int i, argc, cmdline_alloc;
      |           ^
kern/boot_script.c:474:33: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  474 |       ptr = boot_script_malloc (alloc); \
      |                                 ^~~~~
kern/boot_script.c:540:15: note: in expansion of macro ‘CHECK_CMDLINE_LEN’
  540 |               CHECK_CMDLINE_LEN (len);
      |               ^~~~~~~~~~~~~~~~~
kern/boot_script.c:480:29: warning: conversion to ‘size_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  480 |       memcpy (ptr, cmdline, cmdline_index); \
      |                             ^~~~~~~~~~~~~
kern/boot_script.c:540:15: note: in expansion of macro ‘CHECK_CMDLINE_LEN’
  540 |               CHECK_CMDLINE_LEN (len);
      |               ^~~~~~~~~~~~~~~~~
kern/boot_script.c:483:34: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  483 |       boot_script_free (cmdline, cmdline_alloc); \
      |                                  ^~~~~~~~~~~~~
kern/boot_script.c:540:15: note: in expansion of macro ‘CHECK_CMDLINE_LEN’
  540 |               CHECK_CMDLINE_LEN (len);
      |               ^~~~~~~~~~~~~~~~~
kern/boot_script.c:541:59: warning: conversion to ‘size_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  541 |               memcpy (cmdline + cmdline_index, arg->text, len);
      |                                                           ^~~
kern/boot_script.c:575:25: warning: conversion from ‘size_t’ {aka ‘long unsigned int’} to ‘int’ may change value [-Wconversion]
  575 |                   len = strlen (p);
      |                         ^~~~~~
kern/boot_script.c:592:23: warning: conversion to ‘int’ from ‘mach_port_name_t’ {aka ‘unsigned int’} may change the sign of the result [-Wsign-conversion]
  592 |                   i = name;
      |                       ^~~~
kern/boot_script.c:597:30: warning: conversion from ‘int’ to ‘char’ may change value [-Wconversion]
  597 |                       *--p = i % 10 + '0';
      |                              ^
kern/boot_script.c:472:18: warning: declaration of ‘i’ shadows a previous local [-Wshadow]
  472 |       int alloc, i; \
      |                  ^
kern/boot_script.c:608:15: note: in expansion of macro ‘CHECK_CMDLINE_LEN’
  608 |               CHECK_CMDLINE_LEN (len);
      |               ^~~~~~~~~~~~~~~~~
kern/boot_script.c:498:11: note: shadowed declaration is here
  498 |       int i, argc, cmdline_alloc;
      |           ^
kern/boot_script.c:474:33: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  474 |       ptr = boot_script_malloc (alloc); \
      |                                 ^~~~~
kern/boot_script.c:608:15: note: in expansion of macro ‘CHECK_CMDLINE_LEN’
  608 |               CHECK_CMDLINE_LEN (len);
      |               ^~~~~~~~~~~~~~~~~
kern/boot_script.c:480:29: warning: conversion to ‘size_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  480 |       memcpy (ptr, cmdline, cmdline_index); \
      |                             ^~~~~~~~~~~~~
kern/boot_script.c:608:15: note: in expansion of macro ‘CHECK_CMDLINE_LEN’
  608 |               CHECK_CMDLINE_LEN (len);
      |               ^~~~~~~~~~~~~~~~~
kern/boot_script.c:483:34: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  483 |       boot_script_free (cmdline, cmdline_alloc); \
      |                                  ^~~~~~~~~~~~~
kern/boot_script.c:608:15: note: in expansion of macro ‘CHECK_CMDLINE_LEN’
  608 |               CHECK_CMDLINE_LEN (len);
      |               ^~~~~~~~~~~~~~~~~
kern/boot_script.c:609:55: warning: conversion to ‘size_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  609 |               memcpy (cmdline + cmdline_index, p, len - 1);
      |                                                   ~~~~^~~
kern/boot_script.c:631:34: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  631 |       boot_script_free (cmdline, cmdline_alloc);
      |                                  ^~~~~~~~~~~~~
kern/boot_script.c:632:47: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  632 |       boot_script_free (argv, sizeof (char *) * (cmd->args_index + 2));
      |                                               ^
kern/boot_script.c:632:47: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  632 |       boot_script_free (argv, sizeof (char *) * (cmd->args_index + 2));
      |                               ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~
kern/boot_script.c: In function ‘boot_script_error_string’:
kern/boot_script.c:704:14: warning: return discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  704 |       return "no memory";
      |              ^~~~~~~~~~~
kern/boot_script.c:707:14: warning: return discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  707 |       return "syntax error";
      |              ^~~~~~~~~~~~~~
kern/boot_script.c:710:14: warning: return discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  710 |       return "invalid variable in assignment";
      |              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
kern/boot_script.c:713:14: warning: return discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  713 |       return "mach error";
      |              ^~~~~~~~~~~~
kern/boot_script.c:716:14: warning: return discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  716 |       return "undefined symbol";
      |              ^~~~~~~~~~~~~~~~~~
kern/boot_script.c:719:14: warning: return discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  719 |       return "exec error";
      |              ^~~~~~~~~~~~
kern/boot_script.c:722:14: warning: return discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  722 |       return "invalid variable in expression";
      |              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
kern/boot_script.c:725:14: warning: return discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  725 |       return "invalid value type";
      |              ^~~~~~~~~~~~~~~~~~~~
depbase=`echo util/atoi.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT util/atoi.o -MD -MP -MF $depbase.Tpo -c -o util/atoi.o util/atoi.c &&\
mv -f $depbase.Tpo $depbase.Po
util/atoi.c: In function ‘mach_atoi’:
util/atoi.c:105:19: warning: conversion from ‘long int’ to ‘int’ may change value [-Wconversion]
  105 |         return(cp - original);
      |               ~~~~^~~~~~~~~~~
depbase=`echo util/byteorder.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT util/byteorder.o -MD -MP -MF $depbase.Tpo -c -o util/byteorder.o util/byteorder.c &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo vm/memory_object_proxy.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT vm/memory_object_proxy.o -MD -MP -MF $depbase.Tpo -c -o vm/memory_object_proxy.o vm/memory_object_proxy.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from vm/memory_object_proxy.c:43:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from vm/memory_object_proxy.c:44:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46,
                 from ./kern/ipc_kobject.h:44,
                 from ./kern/mach4.server.h:12,
                 from vm/memory_object_proxy.c:45:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ./kern/mach4.server.h:13:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
In file included from ./kern/thread.h:53,
                 from ./vm/pmap.h:45:
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
In file included from ./ipc/ipc_space.h:52,
                 from ./kern/mach4.server.h:21:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/mach/port.h:39,
                 from vm/memory_object_proxy.c:39:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
rm -f vm/memory_object_user.user.defs.c
cp -p vm/memory_object_user.cli vm/memory_object_user.user.defs.c
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa -E  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT vm/lib_dep_tr_for_defs_a-memory_object_user.user.defs.o -MD -MP -MF vm/.deps/lib_dep_tr_for_defs_a-memory_object_user.user.defs.Tpo -c -o vm/lib_dep_tr_for_defs_a-memory_object_user.user.defs.o `test -f 'vm/memory_object_user.user.defs.c' || echo './'`vm/memory_object_user.user.defs.c
mv -f vm/.deps/lib_dep_tr_for_defs_a-memory_object_user.user.defs.Tpo vm/.deps/lib_dep_tr_for_defs_a-memory_object_user.user.defs.Po
/home/runner/work/cognu-mach/cognu-mach/scripts/mig-wrapper.sh -n -cc cat - /dev/null  	\
  -user vm/memory_object_user.user.c -header vm/memory_object_user.user.h			\
  -list vm/memory_object_user.user.msgids					\
  < vm/lib_dep_tr_for_defs_a-memory_object_user.user.defs.o
Fixed 64-bit type size assertions in vm/memory_object_user.user.c
rm -f vm/memory_object_default.user.defs.c
cp -p vm/memory_object_default.cli vm/memory_object_default.user.defs.c
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa -E  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT vm/lib_dep_tr_for_defs_a-memory_object_default.user.defs.o -MD -MP -MF vm/.deps/lib_dep_tr_for_defs_a-memory_object_default.user.defs.Tpo -c -o vm/lib_dep_tr_for_defs_a-memory_object_default.user.defs.o `test -f 'vm/memory_object_default.user.defs.c' || echo './'`vm/memory_object_default.user.defs.c
mv -f vm/.deps/lib_dep_tr_for_defs_a-memory_object_default.user.defs.Tpo vm/.deps/lib_dep_tr_for_defs_a-memory_object_default.user.defs.Po
/home/runner/work/cognu-mach/cognu-mach/scripts/mig-wrapper.sh -n -cc cat - /dev/null  	\
  -user vm/memory_object_default.user.c -header vm/memory_object_default.user.h			\
  -list vm/memory_object_default.user.msgids					\
  < vm/lib_dep_tr_for_defs_a-memory_object_default.user.defs.o
Fixed 64-bit type size assertions in vm/memory_object_default.user.c
depbase=`echo vm/memory_object.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT vm/memory_object.o -MD -MP -MF $depbase.Tpo -c -o vm/memory_object.o vm/memory_object.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from vm/memory_object.c:41:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from vm/memory_object.c:44:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53,
                 from ./vm/pmap.h:45:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ./kern/mach.server.h:13,
                 from vm/memory_object.c:64:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
In file included from ./ipc/ipc_space.h:52,
                 from ./kern/mach.server.h:21:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/mach/port.h:39,
                 from ./include/mach/std_types.h:38,
                 from vm/memory_object.c:40:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./kern/mach.server.h: At top level:
./kern/mach.server.h:33:15: warning: redundant redeclaration of ‘task_create’ [-Wredundant-decls]
   33 | kern_return_t task_create
      |               ^~~~~~~~~~~
./kern/task.h:140:25: note: previous declaration of ‘task_create’ with type ‘kern_return_t(struct task *, boolean_t,  struct task **)’ {aka ‘int(struct task *, int,  struct task **)’}
  140 | extern kern_return_t    task_create(
      |                         ^~~~~~~~~~~
./kern/mach.server.h:49:15: warning: redundant redeclaration of ‘task_terminate’ [-Wredundant-decls]
   49 | kern_return_t task_terminate
      |               ^~~~~~~~~~~~~~
./kern/task.h:148:25: note: previous declaration of ‘task_terminate’ with type ‘kern_return_t(struct task *)’ {aka ‘int(struct task *)’}
  148 | extern kern_return_t    task_terminate(
      |                         ^~~~~~~~~~~~~~
./kern/mach.server.h:97:15: warning: redundant redeclaration of ‘task_threads’ [-Wredundant-decls]
   97 | kern_return_t task_threads
      |               ^~~~~~~~~~~~
./kern/task.h:154:25: note: previous declaration of ‘task_threads’ with type ‘kern_return_t(struct task *, mach_port_t **, natural_t *)’ {aka ‘int(struct task *, long unsigned int **, unsigned int *)’}
  154 | extern kern_return_t    task_threads(
      |                         ^~~~~~~~~~~~
./kern/mach.server.h:113:15: warning: redundant redeclaration of ‘task_info’ [-Wredundant-decls]
  113 | kern_return_t task_info
      |               ^~~~~~~~~
./kern/task.h:158:25: note: previous declaration of ‘task_info’ with type ‘kern_return_t(struct task *, int,  integer_t *, natural_t *)’ {aka ‘int(struct task *, int,  int *, unsigned int *)’}
  158 | extern kern_return_t    task_info(
      |                         ^~~~~~~~~
./kern/mach.server.h:130:15: warning: redundant redeclaration of ‘thread_terminate’ [-Wredundant-decls]
  130 | kern_return_t thread_terminate
      |               ^~~~~~~~~~~~~~~~
./kern/thread.h:297:25: note: previous declaration of ‘thread_terminate’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  297 | extern kern_return_t    thread_terminate(
      |                         ^~~~~~~~~~~~~~~~
./kern/mach.server.h:144:15: warning: redundant redeclaration of ‘thread_get_state’ [-Wredundant-decls]
  144 | kern_return_t thread_get_state
      |               ^~~~~~~~~~~~~~~~
./kern/thread.h:333:25: note: previous declaration of ‘thread_get_state’ with type ‘kern_return_t(struct thread *, int,  natural_t *, natural_t *)’ {aka ‘int(struct thread *, int,  unsigned int *, unsigned int *)’}
  333 | extern kern_return_t    thread_get_state(
      |                         ^~~~~~~~~~~~~~~~
./kern/mach.server.h:161:15: warning: redundant redeclaration of ‘thread_set_state’ [-Wredundant-decls]
  161 | kern_return_t thread_set_state
      |               ^~~~~~~~~~~~~~~~
./kern/thread.h:338:25: note: previous declaration of ‘thread_set_state’ with type ‘kern_return_t(struct thread *, int,  natural_t *, natural_t)’ {aka ‘int(struct thread *, int,  unsigned int *, unsigned int)’}
  338 | extern kern_return_t    thread_set_state(
      |                         ^~~~~~~~~~~~~~~~
./kern/mach.server.h:178:15: warning: redundant redeclaration of ‘thread_info’ [-Wredundant-decls]
  178 | kern_return_t thread_info
      |               ^~~~~~~~~~~
./kern/thread.h:351:25: note: previous declaration of ‘thread_info’ with type ‘kern_return_t(struct thread *, int,  integer_t *, natural_t *)’ {aka ‘int(struct thread *, int,  int *, unsigned int *)’}
  351 | extern kern_return_t    thread_info(
      |                         ^~~~~~~~~~~
./kern/mach.server.h:453:15: warning: redundant redeclaration of ‘task_suspend’ [-Wredundant-decls]
  453 | kern_return_t task_suspend
      |               ^~~~~~~~~~~~
./kern/task.h:150:25: note: previous declaration of ‘task_suspend’ with type ‘kern_return_t(struct task *)’ {aka ‘int(struct task *)’}
  150 | extern kern_return_t    task_suspend(
      |                         ^~~~~~~~~~~~
./kern/mach.server.h:467:15: warning: redundant redeclaration of ‘task_resume’ [-Wredundant-decls]
  467 | kern_return_t task_resume
      |               ^~~~~~~~~~~
./kern/task.h:152:25: note: previous declaration of ‘task_resume’ with type ‘kern_return_t(struct task *)’ {aka ‘int(struct task *)’}
  152 | extern kern_return_t    task_resume(
      |                         ^~~~~~~~~~~
./kern/mach.server.h:481:15: warning: redundant redeclaration of ‘task_get_special_port’ [-Wredundant-decls]
  481 | kern_return_t task_get_special_port
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/task.h:163:25: note: previous declaration of ‘task_get_special_port’ with type ‘kern_return_t(struct task *, int,  struct ipc_port **)’ {aka ‘int(struct task *, int,  struct ipc_port **)’}
  163 | extern kern_return_t    task_get_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~
./kern/mach.server.h:497:15: warning: redundant redeclaration of ‘task_set_special_port’ [-Wredundant-decls]
  497 | kern_return_t task_set_special_port
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/task.h:167:25: note: previous declaration of ‘task_set_special_port’ with type ‘kern_return_t(struct task *, int,  struct ipc_port *)’ {aka ‘int(struct task *, int,  struct ipc_port *)’}
  167 | extern kern_return_t    task_set_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~
./kern/mach.server.h:513:15: warning: redundant redeclaration of ‘thread_create’ [-Wredundant-decls]
  513 | kern_return_t thread_create
      |               ^~~~~~~~~~~~~
./kern/thread.h:294:25: note: previous declaration of ‘thread_create’ with type ‘kern_return_t(struct task *, struct thread **)’ {aka ‘int(struct task *, struct thread **)’}
  294 | extern kern_return_t    thread_create(
      |                         ^~~~~~~~~~~~~
./kern/mach.server.h:528:15: warning: redundant redeclaration of ‘thread_suspend’ [-Wredundant-decls]
  528 | kern_return_t thread_suspend
      |               ^~~~~~~~~~~~~~
./kern/thread.h:306:25: note: previous declaration of ‘thread_suspend’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  306 | extern kern_return_t    thread_suspend(
      |                         ^~~~~~~~~~~~~~
./kern/mach.server.h:542:15: warning: redundant redeclaration of ‘thread_resume’ [-Wredundant-decls]
  542 | kern_return_t thread_resume
      |               ^~~~~~~~~~~~~
./kern/thread.h:308:25: note: previous declaration of ‘thread_resume’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  308 | extern kern_return_t    thread_resume(
      |                         ^~~~~~~~~~~~~
./kern/mach.server.h:556:15: warning: redundant redeclaration of ‘thread_abort’ [-Wredundant-decls]
  556 | kern_return_t thread_abort
      |               ^~~~~~~~~~~~
./kern/thread.h:310:25: note: previous declaration of ‘thread_abort’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  310 | extern kern_return_t    thread_abort(
      |                         ^~~~~~~~~~~~
./kern/mach.server.h:570:15: warning: redundant redeclaration of ‘thread_get_special_port’ [-Wredundant-decls]
  570 | kern_return_t thread_get_special_port
      |               ^~~~~~~~~~~~~~~~~~~~~~~
./kern/thread.h:343:25: note: previous declaration of ‘thread_get_special_port’ with type ‘kern_return_t(struct thread *, int,  struct ipc_port **)’ {aka ‘int(struct thread *, int,  struct ipc_port **)’}
  343 | extern kern_return_t    thread_get_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
./kern/mach.server.h:586:15: warning: redundant redeclaration of ‘thread_set_special_port’ [-Wredundant-decls]
  586 | kern_return_t thread_set_special_port
      |               ^~~~~~~~~~~~~~~~~~~~~~~
./kern/thread.h:347:25: note: previous declaration of ‘thread_set_special_port’ with type ‘kern_return_t(struct thread *, int,  struct ipc_port *)’ {aka ‘int(struct thread *, int,  struct ipc_port *)’}
  347 | extern kern_return_t    thread_set_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
vm/memory_object.c: In function ‘memory_object_data_supply’:
vm/memory_object.c:217:37: warning: conversion from ‘vm_prot_t’ {aka ‘int’} to ‘signed char:3’ may change value [-Wconversion]
  217 |                 data_m->page_lock = lock_value;
      |                                     ^~~~~~~~~~
vm/memory_object.c:219:36: warning: conversion from ‘boolean_t’ {aka ‘int’} to ‘unsigned char:1’ may change value [-Wconversion]
  219 |                 data_m->precious = precious;
      |                                    ^~~~~~~~
In file included from ./vm/vm_map.h:52:
./vm/vm_object.h:317:30: warning: unsigned conversion from ‘int’ to ‘unsigned int’ changes value from ‘-5’ to ‘4294967291’ [-Wsign-conversion]
  317 |         (object)->all_wanted &= ~(1 << (event));                        \
      |                              ^~
./vm/vm_object.h:335:17: note: in expansion of macro ‘vm_object_wakeup’
  335 |                 vm_object_wakeup(object,                                \
      |                 ^~~~~~~~~~~~~~~~
vm/memory_object.c:275:9: note: in expansion of macro ‘vm_object_paging_end’
  275 |         vm_object_paging_end(object);
      |         ^~~~~~~~~~~~~~~~~~~~
In file included from ./machine/vm_param.h:29,
                 from ./vm/vm_page.h:39:
vm/memory_object.c: In function ‘memory_object_data_error’:
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
vm/memory_object.c:316:21: note: in expansion of macro ‘round_page’
  316 |         if (size != round_page(size))
      |                     ^~~~~~~~~~
./vm/vm_object.h:317:30: warning: unsigned conversion from ‘int’ to ‘unsigned int’ changes value from ‘-9’ to ‘4294967287’ [-Wsign-conversion]
  317 |         (object)->all_wanted &= ~(1 << (event));                        \
      |                              ^~
./vm/vm_object.h:365:9: note: in expansion of macro ‘vm_object_wakeup’
  365 |         vm_object_wakeup((object),                                      \
      |         ^~~~~~~~~~~~~~~~
vm/memory_object.c:329:25: note: in expansion of macro ‘vm_object_absent_release’
  329 |                         vm_object_absent_release(object);
      |                         ^~~~~~~~~~~~~~~~~~~~~~~~
vm/memory_object.c: In function ‘memory_object_data_unavailable’:
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
vm/memory_object.c:359:21: note: in expansion of macro ‘round_page’
  359 |         if (size != round_page(size))
      |                     ^~~~~~~~~~
vm/memory_object.c: In function ‘memory_object_lock_page’:
vm/memory_object.c:520:32: warning: conversion from ‘vm_prot_t’ {aka ‘int’} to ‘signed char:3’ may change value [-Wconversion]
  520 |                 m->page_lock = prot;
      |                                ^~~~
vm/memory_object.c:545:36: warning: conversion from ‘boolean_t’ {aka ‘int’} to ‘unsigned char:1’ may change value [-Wconversion]
  545 |                         m->dirty = pmap_is_modified(m->phys_addr);
      |                                    ^~~~~~~~~~~~~~~~
vm/memory_object.c:585:34: warning: nested extern declaration of ‘vm_page_deactivate_hint’ [-Wnested-externs]
  585 |                 extern boolean_t vm_page_deactivate_hint;
      |                                  ^~~~~~~~~~~~~~~~~~~~~~~
vm/memory_object.c: In function ‘memory_object_lock_request’:
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
vm/memory_object.c:662:16: note: in expansion of macro ‘round_page’
  662 |         size = round_page(size);
      |                ^~~~~~~~~~
vm/memory_object.c:706:17: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘mach_msg_type_number_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  706 |                 new_offset,                                             \
      |                 ^~~~~~~~~~
vm/memory_object.c:731:17: note: in expansion of macro ‘PAGEOUT_PAGES’
  731 |                 PAGEOUT_PAGES;
      |                 ^~~~~~~~~~~~~
vm/memory_object.c:706:17: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘mach_msg_type_number_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  706 |                 new_offset,                                             \
      |                 ^~~~~~~~~~
vm/memory_object.c:745:29: note: in expansion of macro ‘PAGEOUT_PAGES’
  745 |                             PAGEOUT_PAGES;
      |                             ^~~~~~~~~~~~~
vm/memory_object.c:706:17: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘mach_msg_type_number_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  706 |                 new_offset,                                             \
      |                 ^~~~~~~~~~
vm/memory_object.c:756:29: note: in expansion of macro ‘PAGEOUT_PAGES’
  756 |                             PAGEOUT_PAGES;
      |                             ^~~~~~~~~~~~~
vm/memory_object.c:706:17: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘mach_msg_type_number_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  706 |                 new_offset,                                             \
      |                 ^~~~~~~~~~
vm/memory_object.c:787:33: note: in expansion of macro ‘PAGEOUT_PAGES’
  787 |                                 PAGEOUT_PAGES;
      |                                 ^~~~~~~~~~~~~
vm/memory_object.c:706:17: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘mach_msg_type_number_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  706 |                 new_offset,                                             \
      |                 ^~~~~~~~~~
vm/memory_object.c:834:13: note: in expansion of macro ‘PAGEOUT_PAGES’
  834 |             PAGEOUT_PAGES;
      |             ^~~~~~~~~~~~~
./vm/vm_object.h:317:30: warning: unsigned conversion from ‘int’ to ‘unsigned int’ changes value from ‘-5’ to ‘4294967291’ [-Wsign-conversion]
  317 |         (object)->all_wanted &= ~(1 << (event));                        \
      |                              ^~
./vm/vm_object.h:335:17: note: in expansion of macro ‘vm_object_wakeup’
  335 |                 vm_object_wakeup(object,                                \
      |                 ^~~~~~~~~~~~~~~~
vm/memory_object.c:847:9: note: in expansion of macro ‘vm_object_paging_end’
  847 |         vm_object_paging_end(object);
      |         ^~~~~~~~~~~~~~~~~~~~
vm/memory_object.c: In function ‘memory_object_set_attributes_common’:
./vm/vm_object.h:317:30: warning: unsigned conversion from ‘int’ to ‘unsigned int’ changes value from ‘-3’ to ‘4294967293’ [-Wsign-conversion]
  317 |         (object)->all_wanted &= ~(1 << (event));                        \
      |                              ^~
vm/memory_object.c:889:17: note: in expansion of macro ‘vm_object_wakeup’
  889 |                 vm_object_wakeup(object, VM_OBJECT_EVENT_PAGER_READY);
      |                 ^~~~~~~~~~~~~~~~
vm/memory_object.c:896:31: warning: conversion from ‘boolean_t’ {aka ‘int’} to ‘unsigned char:1’ may change value [-Wconversion]
  896 |         object->can_persist = may_cache;
      |                               ^~~~~~~~~
depbase=`echo vm/vm_block_cache.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT vm/vm_block_cache.o -MD -MP -MF $depbase.Tpo -c -o vm/vm_block_cache.o vm/vm_block_cache.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from vm/vm_block_cache.c:18:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_object.h:49,
                 from ./vm/vm_block_cache.h:31,
                 from vm/vm_block_cache.c:21:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from ./vm/pmap.h:45:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_block_cache.h:32:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
vm/vm_block_cache.c: In function ‘block_cache_entry_alloc’:
vm/vm_block_cache.c:232:24: warning: conversion from ‘vm_size_t’ {aka ‘long unsigned int’} to ‘unsigned int’ may change value [-Wconversion]
  232 |         pages_needed = (cache->block_size + PAGE_SIZE - 1) / PAGE_SIZE;
      |                        ^
vm/vm_block_cache.c: At top level:
vm/vm_block_cache.c:29:21: warning: ‘total_blocks_cached’ defined but not used [-Wunused-variable]
   29 | static unsigned int total_blocks_cached = 0;
      |                     ^~~~~~~~~~~~~~~~~~~
depbase=`echo vm/vm_compress.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT vm/vm_compress.o -MD -MP -MF $depbase.Tpo -c -o vm/vm_compress.o vm/vm_compress.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from vm/vm_compress.c:19:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_object.h:49,
                 from ./vm/vm_compress.h:19,
                 from vm/vm_compress.c:23:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from ./vm/pmap.h:45:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_compress.h:20:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
vm/vm_compress.c: In function ‘vm_page_compress’:
vm/vm_compress.c:219:34: warning: conversion from ‘vm_size_t’ {aka ‘long unsigned int’} to ‘unsigned int’ may change value [-Wconversion]
  219 |         compression_ratio_sum += (PAGE_SIZE * 100) / compressed_size;
      |                                  ^
depbase=`echo vm/vm_debug.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT vm/vm_debug.o -MD -MP -MF $depbase.Tpo -c -o vm/vm_debug.o vm/vm_debug.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from vm/vm_debug.c:37:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./kern/thread.h:54:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53,
                 from vm/vm_debug.c:46:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ./kern/mach_debug.server.h:13,
                 from vm/vm_debug.c:49:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
In file included from ./ipc/ipc_space.h:52,
                 from ./kern/mach_debug.server.h:21:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/sys/types.h:29,
                 from ./include/string.h:29,
                 from vm/vm_debug.c:34:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
vm/vm_debug.c: In function ‘mach_vm_region_info’:
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_debug.c:121:38: note: in expansion of macro ‘vm_map_to_entry’
  121 |                         if (entry == vm_map_to_entry(cmap)) {
      |                                      ^~~~~~~~~~~~~~~
vm/vm_debug.c:154:30: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘rpc_vm_offset_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  154 |         regionp->vri_start = entry->vme_start;
      |                              ^~~~~
vm/vm_debug.c:155:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘rpc_vm_offset_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  155 |         regionp->vri_end = entry->vme_end;
      |                            ^~~~~
vm/vm_debug.c:167:31: warning: conversion from ‘long unsigned int’ to ‘rpc_vm_offset_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  167 |         regionp->vri_object = (vm_offset_t) object;
      |                               ^
vm/vm_debug.c:168:31: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘rpc_vm_offset_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  168 |         regionp->vri_offset = entry->offset;
      |                               ^~~~~
vm/vm_debug.c: In function ‘mach_vm_object_info’:
vm/vm_debug.c:223:27: warning: conversion from ‘long unsigned int’ to ‘rpc_vm_offset_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  223 |         info.voi_object = (vm_offset_t) object;
      |                           ^
vm/vm_debug.c:225:25: warning: conversion from ‘vm_size_t’ {aka ‘long unsigned int’} to ‘rpc_vm_size_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  225 |         info.voi_size = object->size;
      |                         ^~~~~~
vm/vm_debug.c:226:30: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  226 |         info.voi_ref_count = object->ref_count;
      |                              ^~~~~~
vm/vm_debug.c:227:40: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  227 |         info.voi_resident_page_count = object->resident_page_count;
      |                                        ^~~~~~
vm/vm_debug.c:229:25: warning: conversion from ‘long unsigned int’ to ‘rpc_vm_offset_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  229 |         info.voi_copy = (vm_offset_t) object->copy;
      |                         ^
vm/vm_debug.c:230:27: warning: conversion from ‘long unsigned int’ to ‘rpc_vm_offset_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  230 |         info.voi_shadow = (vm_offset_t) object->shadow;
      |                           ^
vm/vm_debug.c:231:34: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘rpc_vm_offset_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  231 |         info.voi_shadow_offset = object->shadow_offset;
      |                                  ^~~~~~
vm/vm_debug.c:232:34: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘rpc_vm_offset_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  232 |         info.voi_paging_offset = object->paging_offset;
      |                                  ^~~~~~
vm/vm_debug.c:234:31: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘rpc_vm_offset_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  234 |         info.voi_last_alloc = object->last_alloc;
      |                               ^~~~~~
vm/vm_debug.c: In function ‘_mach_vm_object_pages’:
vm/vm_debug.c:304:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  304 |                 actual = object->resident_page_count;
      |                          ^~~~~~
In file included from vm/vm_debug.c:43:
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
vm/vm_debug.c:313:32: note: in expansion of macro ‘round_page’
  313 |                         size = round_page(actual * sizeof(vm_page_phys_info_t));
      |                                ^~~~~~~~~~
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
vm/vm_debug.c:315:32: note: in expansion of macro ‘round_page’
  315 |                         size = round_page(actual * sizeof(vm_page_info_t));
      |                                ^~~~~~~~~~
vm/vm_debug.c:322:37: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  322 |                         potential = size / sizeof(vm_page_phys_info_t);
      |                                     ^~~~
vm/vm_debug.c:324:37: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  324 |                         potential = size / sizeof(vm_page_info_t);
      |                                     ^~~~
vm/vm_debug.c:334:43: warning: pointer of type ‘void *’ used in arithmetic [-Wpointer-arith]
  334 |                         info_phys = pages + count * sizeof(*info_phys);
      |                                           ^
vm/vm_debug.c:336:38: warning: pointer of type ‘void *’ used in arithmetic [-Wpointer-arith]
  336 |                         info = pages + count * sizeof(*info);
      |                                      ^
vm/vm_debug.c:342:49: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘rpc_vm_offset_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  342 |                         info_phys->vpi_offset = p->offset;
      |                                                 ^
vm/vm_debug.c:350:44: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘rpc_vm_offset_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  350 |                         info->vpi_offset = p->offset;
      |                                            ^
vm/vm_debug.c:353:47: warning: conversion from ‘phys_addr_t’ {aka ‘long long unsigned int’} to ‘rpc_vm_offset_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  353 |                         info->vpi_phys_addr = p->phys_addr;
      |                                               ^
vm/vm_debug.c:412:78: warning: format ‘%lu’ expects argument of type ‘long unsigned int’, but argument 3 has type ‘unsigned int’ [-Wformat=]
  412 |                 printf("VM object pages count mismatch: stored=%lu, actual=%lu\n",
      |                                                                            ~~^
      |                                                                              |
      |                                                                              long unsigned int
      |                                                                            %u
  413 |                        object->resident_page_count, count);
      |                                                     ~~~~~                     
      |                                                     |
      |                                                     unsigned int
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
vm/vm_debug.c:442:30: note: in expansion of macro ‘round_page’
  442 |                 rsize_used = round_page(size_used);
      |                              ^~~~~~~~~~
vm/vm_debug.c: In function ‘host_virtual_physical_table_info’:
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
vm/vm_debug.c:523:24: note: in expansion of macro ‘round_page’
  523 |                 size = round_page(actual * sizeof *info);
      |                        ^~~~~~~~~~
vm/vm_debug.c:529:29: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  529 |                 potential = size/sizeof *info;
      |                             ^~~~
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
vm/vm_debug.c:544:24: note: in expansion of macro ‘round_page’
  544 |                 used = round_page(actual * sizeof *info);
      |                        ^~~~~~~~~~
depbase=`echo vm/vm_external.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT vm/vm_external.o -MD -MP -MF $depbase.Tpo -c -o vm/vm_external.o vm/vm_external.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from vm/vm_external.c:34:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
vm/vm_external.c: In function ‘vm_external_create’:
vm/vm_external.c:78:49: warning: conversion to ‘size_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
   78 |         memset (result->existence_map, 0, result->existence_size);
      |                                           ~~~~~~^~~~~~~~~~~~~~~~
In file included from vm/vm_external.c:36:
vm/vm_external.c: In function ‘_vm_external_state_get’:
./include/mach/vm_param.h:77:25: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
   77 | #define atop(x)         (((vm_size_t)(x)) >> PAGE_SHIFT)
      |                         ^
vm/vm_external.c:110:15: note: in expansion of macro ‘atop’
  110 |         bit = atop(offset);
      |               ^~~~
vm/vm_external.c: In function ‘vm_external_state_set’:
./include/mach/vm_param.h:77:25: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
   77 | #define atop(x)         (((vm_size_t)(x)) >> PAGE_SHIFT)
      |                         ^
vm/vm_external.c:131:15: note: in expansion of macro ‘atop’
  131 |         bit = atop(offset);
      |               ^~~~
depbase=`echo vm/vm_fault.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT vm/vm_fault.o -MD -MP -MF $depbase.Tpo -c -o vm/vm_fault.o vm/vm_fault.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from vm/vm_fault.c:36:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./vm/vm_fault.h:37,
                 from vm/vm_fault.c:37:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53,
                 from ./vm/pmap.h:45:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ./vm/vm_map.h:52:
vm/vm_fault.c: In function ‘vm_fault_cleanup’:
./vm/vm_object.h:317:30: warning: unsigned conversion from ‘int’ to ‘unsigned int’ changes value from ‘-5’ to ‘4294967291’ [-Wsign-conversion]
  317 |         (object)->all_wanted &= ~(1 << (event));                        \
      |                              ^~
./vm/vm_object.h:335:17: note: in expansion of macro ‘vm_object_wakeup’
  335 |                 vm_object_wakeup(object,                                \
      |                 ^~~~~~~~~~~~~~~~
vm/vm_fault.c:132:9: note: in expansion of macro ‘vm_object_paging_end’
  132 |         vm_object_paging_end(object);
      |         ^~~~~~~~~~~~~~~~~~~~
./vm/vm_object.h:317:30: warning: unsigned conversion from ‘int’ to ‘unsigned int’ changes value from ‘-5’ to ‘4294967291’ [-Wsign-conversion]
  317 |         (object)->all_wanted &= ~(1 << (event));                        \
      |                              ^~
./vm/vm_object.h:335:17: note: in expansion of macro ‘vm_object_wakeup’
  335 |                 vm_object_wakeup(object,                                \
      |                 ^~~~~~~~~~~~~~~~
vm/vm_fault.c:139:13: note: in expansion of macro ‘vm_object_paging_end’
  139 |             vm_object_paging_end(object);
      |             ^~~~~~~~~~~~~~~~~~~~
vm/vm_fault.c: In function ‘vm_fault_page’:
./vm/vm_object.h:317:30: warning: unsigned conversion from ‘int’ to ‘unsigned int’ changes value from ‘-5’ to ‘4294967291’ [-Wsign-conversion]
  317 |         (object)->all_wanted &= ~(1 << (event));                        \
      |                              ^~
./vm/vm_object.h:335:17: note: in expansion of macro ‘vm_object_wakeup’
  335 |                 vm_object_wakeup(object,                                \
      |                 ^~~~~~~~~~~~~~~~
vm/vm_fault.c:436:49: note: in expansion of macro ‘vm_object_paging_end’
  436 |                                                 vm_object_paging_end(object);
      |                                                 ^~~~~~~~~~~~~~~~~~~~
./vm/vm_object.h:317:30: warning: unsigned conversion from ‘int’ to ‘unsigned int’ changes value from ‘-5’ to ‘4294967291’ [-Wsign-conversion]
  317 |         (object)->all_wanted &= ~(1 << (event));                        \
      |                              ^~
./vm/vm_object.h:335:17: note: in expansion of macro ‘vm_object_wakeup’
  335 |                 vm_object_wakeup(object,                                \
      |                 ^~~~~~~~~~~~~~~~
vm/vm_fault.c:474:49: note: in expansion of macro ‘vm_object_paging_end’
  474 |                                                 vm_object_paging_end(object);
      |                                                 ^~~~~~~~~~~~~~~~~~~~
./vm/vm_object.h:317:30: warning: unsigned conversion from ‘int’ to ‘unsigned int’ changes value from ‘-5’ to ‘4294967291’ [-Wsign-conversion]
  317 |         (object)->all_wanted &= ~(1 << (event));                        \
      |                              ^~
./vm/vm_object.h:335:17: note: in expansion of macro ‘vm_object_wakeup’
  335 |                 vm_object_wakeup(object,                                \
      |                 ^~~~~~~~~~~~~~~~
vm/vm_fault.c:476:49: note: in expansion of macro ‘vm_object_paging_end’
  476 |                                                 vm_object_paging_end(object);
      |                                                 ^~~~~~~~~~~~~~~~~~~~
./vm/vm_object.h:317:30: warning: unsigned conversion from ‘int’ to ‘unsigned int’ changes value from ‘-9’ to ‘4294967287’ [-Wsign-conversion]
  317 |         (object)->all_wanted &= ~(1 << (event));                        \
      |                              ^~
./vm/vm_object.h:365:9: note: in expansion of macro ‘vm_object_wakeup’
  365 |         vm_object_wakeup((object),                                      \
      |         ^~~~~~~~~~~~~~~~
vm/vm_fault.c:481:49: note: in expansion of macro ‘vm_object_absent_release’
  481 |                                                 vm_object_absent_release(object);
      |                                                 ^~~~~~~~~~~~~~~~~~~~~~~~
vm/vm_fault.c:514:49: warning: conversion from ‘int’ to ‘signed char:3’ may change value [-Wconversion]
  514 |                                                 (access_required | m->unlock_request);
      |                                                 ^
./vm/vm_object.h:317:30: warning: unsigned conversion from ‘int’ to ‘unsigned int’ changes value from ‘-5’ to ‘4294967291’ [-Wsign-conversion]
  317 |         (object)->all_wanted &= ~(1 << (event));                        \
      |                              ^~
./vm/vm_object.h:335:17: note: in expansion of macro ‘vm_object_wakeup’
  335 |                 vm_object_wakeup(object,                                \
      |                 ^~~~~~~~~~~~~~~~
vm/vm_fault.c:718:33: note: in expansion of macro ‘vm_object_paging_end’
  718 |                                 vm_object_paging_end(object);
      |                                 ^~~~~~~~~~~~~~~~~~~~
./vm/vm_object.h:317:30: warning: unsigned conversion from ‘int’ to ‘unsigned int’ changes value from ‘-5’ to ‘4294967291’ [-Wsign-conversion]
  317 |         (object)->all_wanted &= ~(1 << (event));                        \
      |                              ^~
./vm/vm_object.h:335:17: note: in expansion of macro ‘vm_object_wakeup’
  335 |                 vm_object_wakeup(object,                                \
      |                 ^~~~~~~~~~~~~~~~
vm/vm_fault.c:748:33: note: in expansion of macro ‘vm_object_paging_end’
  748 |                                 vm_object_paging_end(object);
      |                                 ^~~~~~~~~~~~~~~~~~~~
./vm/vm_object.h:317:30: warning: unsigned conversion from ‘int’ to ‘unsigned int’ changes value from ‘-5’ to ‘4294967291’ [-Wsign-conversion]
  317 |         (object)->all_wanted &= ~(1 << (event));                        \
      |                              ^~
./vm/vm_object.h:335:17: note: in expansion of macro ‘vm_object_wakeup’
  335 |                 vm_object_wakeup(object,                                \
      |                 ^~~~~~~~~~~~~~~~
vm/vm_fault.c:849:25: note: in expansion of macro ‘vm_object_paging_end’
  849 |                         vm_object_paging_end(object);
      |                         ^~~~~~~~~~~~~~~~~~~~
./vm/vm_object.h:317:30: warning: unsigned conversion from ‘int’ to ‘unsigned int’ changes value from ‘-5’ to ‘4294967291’ [-Wsign-conversion]
  317 |         (object)->all_wanted &= ~(1 << (event));                        \
      |                              ^~
./vm/vm_object.h:335:17: note: in expansion of macro ‘vm_object_wakeup’
  335 |                 vm_object_wakeup(object,                                \
      |                 ^~~~~~~~~~~~~~~~
vm/vm_fault.c:874:25: note: in expansion of macro ‘vm_object_paging_end’
  874 |                         vm_object_paging_end(object);
      |                         ^~~~~~~~~~~~~~~~~~~~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/sys/types.h:29,
                 from ./kern/printf.h:27:
vm/vm_fault.c: In function ‘vm_fault_copy’:
./kern/macros.h:35:30: warning: this statement may fall through [-Wimplicit-fallthrough=]
   35 | #define MACRO_BEGIN         ({
      |                              ^
vm/vm_fault.c:1841:9: note: in expansion of macro ‘MACRO_BEGIN’
 1841 |         MACRO_BEGIN                                     \
      |         ^~~~~~~~~~~
vm/vm_fault.c:1874:41: note: in expansion of macro ‘RETURN’
 1874 |                                         RETURN(MACH_SEND_INTERRUPTED);
      |                                         ^~~~~~
vm/vm_fault.c:1875:33: note: here
 1875 |                                 case VM_FAULT_MEMORY_SHORTAGE:
      |                                 ^~~~
./kern/macros.h:35:30: warning: this statement may fall through [-Wimplicit-fallthrough=]
   35 | #define MACRO_BEGIN         ({
      |                              ^
vm/vm_fault.c:1841:9: note: in expansion of macro ‘MACRO_BEGIN’
 1841 |         MACRO_BEGIN                                     \
      |         ^~~~~~~~~~~
vm/vm_fault.c:1915:33: note: in expansion of macro ‘RETURN’
 1915 |                                 RETURN(MACH_SEND_INTERRUPTED);
      |                                 ^~~~~~
vm/vm_fault.c:1916:25: note: here
 1916 |                         case VM_FAULT_MEMORY_SHORTAGE:
      |                         ^~~~
depbase=`echo vm/vm_init.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT vm/vm_init.o -MD -MP -MF $depbase.Tpo -c -o vm/vm_init.o vm/vm_init.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from vm/vm_init.c:38:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./vm/vm_fault.h:37,
                 from vm/vm_init.c:40:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from ./vm/pmap.h:45:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
depbase=`echo vm/vm_kern.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT vm/vm_kern.o -MD -MP -MF $depbase.Tpo -c -o vm/vm_kern.o vm/vm_kern.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from vm/vm_kern.c:45:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from vm/vm_kern.c:46:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./kern/thread.h:54:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53,
                 from ./vm/vm_fault.h:37,
                 from vm/vm_kern.c:49:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ./machine/vm_param.h:29,
                 from vm/vm_kern.c:41:
vm/vm_kern.c: In function ‘projected_buffer_allocate’:
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
vm/vm_kern.c:107:16: note: in expansion of macro ‘round_page’
  107 |         size = round_page(size);
      |                ^~~~~~~~~~
vm/vm_kern.c: In function ‘projected_buffer_map’:
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
vm/vm_kern.c:200:16: note: in expansion of macro ‘round_page’
  200 |         size = round_page(size);
      |                ^~~~~~~~~~
vm/vm_kern.c: In function ‘projected_buffer_collect’:
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_kern.c:317:23: note: in expansion of macro ‘vm_map_to_entry’
  317 |              entry != vm_map_to_entry(map);
      |                       ^~~~~~~~~~~~~~~
vm/vm_kern.c: In function ‘projected_buffer_in_range’:
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_kern.c:349:25: note: in expansion of macro ‘vm_map_to_entry’
  349 |         while (entry != vm_map_to_entry(map) && entry->projected_on == 0 &&
      |                         ^~~~~~~~~~~~~~~
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_kern.c:353:25: note: in expansion of macro ‘vm_map_to_entry’
  353 |         return(entry != vm_map_to_entry(map) && entry->vme_start <= end);
      |                         ^~~~~~~~~~~~~~~
vm/vm_kern.c: In function ‘kmem_alloc’:
vm/vm_kern.c:387:57: warning: unsigned conversion from ‘int’ to ‘vm_size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
  387 |         vm_size_t rounded_size = (size + PAGE_SIZE - 1) & ~(PAGE_SIZE - 1);
      |                                                         ^
vm/vm_kern.c: In function ‘kmem_valloc’:
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
vm/vm_kern.c:481:16: note: in expansion of macro ‘round_page’
  481 |         size = round_page(size);
      |                ^~~~~~~~~~
vm/vm_kern.c: In function ‘kmem_alloc_aligned’:
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
vm/vm_kern.c:601:16: note: in expansion of macro ‘round_page’
  601 |         size = round_page(size);
      |                ^~~~~~~~~~
vm/vm_kern.c: In function ‘kmem_map_aligned_table’:
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
vm/vm_kern.c:685:33: note: in expansion of macro ‘round_page’
  685 |                                 round_page(size));
      |                                 ^~~~~~~~~~
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
vm/vm_kern.c:691:48: note: in expansion of macro ‘round_page’
  691 |                                 nearest_page + round_page(size), mode);
      |                                                ^~~~~~~~~~
vm/vm_kern.c: In function ‘kmem_alloc_pageable’:
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
vm/vm_kern.c:714:39: note: in expansion of macro ‘round_page’
  714 |         kr = vm_map_enter(map, &addr, round_page(size),
      |                                       ^~~~~~~~~~
vm/vm_kern.c: In function ‘kmem_free’:
./include/mach/vm_param.h:87:59: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   87 | #define trunc_page(x)   ((vm_offset_t)(((vm_offset_t)(x)) & ~PAGE_MASK))
      |                                                           ^
vm/vm_kern.c:744:33: note: in expansion of macro ‘trunc_page’
  744 |         kr = vm_map_remove(map, trunc_page(addr), round_page(addr + size));
      |                                 ^~~~~~~~~~
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
vm/vm_kern.c:744:51: note: in expansion of macro ‘round_page’
  744 |         kr = vm_map_remove(map, trunc_page(addr), round_page(addr + size));
      |                                                   ^~~~~~~~~~
vm/vm_kern.c: In function ‘kmem_submap’:
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
vm/vm_kern.c:880:16: note: in expansion of macro ‘round_page’
  880 |         size = round_page(size);
      |                ^~~~~~~~~~
vm/vm_kern.c: In function ‘kmem_io_map_copyout’:
./include/mach/vm_param.h:87:59: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   87 | #define trunc_page(x)   ((vm_offset_t)(((vm_offset_t)(x)) & ~PAGE_MASK))
      |                                                           ^
vm/vm_kern.c:970:36: note: in expansion of macro ‘trunc_page’
  970 |         min_size += copy->offset - trunc_page(copy->offset);
      |                                    ^~~~~~~~~~
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
vm/vm_kern.c:971:20: note: in expansion of macro ‘round_page’
  971 |         min_size = round_page(min_size);
      |                    ^~~~~~~~~~
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
vm/vm_kern.c:972:18: note: in expansion of macro ‘round_page’
  972 |         mysize = round_page(copy->offset + copy->size) -
      |                  ^~~~~~~~~~
./include/mach/vm_param.h:87:59: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   87 | #define trunc_page(x)   ((vm_offset_t)(((vm_offset_t)(x)) & ~PAGE_MASK))
      |                                                           ^
vm/vm_kern.c:973:17: note: in expansion of macro ‘trunc_page’
  973 |                 trunc_page(copy->offset);
      |                 ^~~~~~~~~~
./include/mach/vm_param.h:87:59: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   87 | #define trunc_page(x)   ((vm_offset_t)(((vm_offset_t)(x)) & ~PAGE_MASK))
      |                                                           ^
vm/vm_kern.c:1007:42: note: in expansion of macro ‘trunc_page’
 1007 |         *addr = myaddr + (copy->offset - trunc_page(copy->offset));
      |                                          ^~~~~~~~~~
vm/vm_kern.c: In function ‘copyinmap’:
vm/vm_kern.c:1083:42: warning: conversion to ‘size_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
 1083 |                 memcpy(toaddr, fromaddr, length);
      |                                          ^~~~~~
vm/vm_kern.c:1088:50: warning: conversion to ‘size_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
 1088 |                 return copyin( fromaddr, toaddr, length);
      |                                                  ^~~~~~
vm/vm_kern.c: In function ‘copyoutmap’:
vm/vm_kern.c:1110:42: warning: conversion to ‘size_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
 1110 |                 memcpy(toaddr, fromaddr, length);
      |                                          ^~~~~~
vm/vm_kern.c:1115:50: warning: conversion to ‘size_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
 1115 |                 return copyout(fromaddr, toaddr, length);
      |                                                  ^~~~~~
depbase=`echo vm/vm_map.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT vm/vm_map.o -MD -MP -MF $depbase.Tpo -c -o vm/vm_map.o vm/vm_map.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from vm/vm_map.c:37:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./kern/ipc_kobject.h:44,
                 from ./kern/mach.server.h:12,
                 from vm/vm_map.c:46:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ./kern/mach.server.h:13:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
In file included from ./kern/thread.h:53,
                 from ./vm/pmap.h:45:
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
In file included from ./ipc/ipc_space.h:52,
                 from ./kern/mach.server.h:21:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/sys/types.h:29,
                 from ./kern/printf.h:27:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./kern/mach.server.h: At top level:
./kern/mach.server.h:33:15: warning: redundant redeclaration of ‘task_create’ [-Wredundant-decls]
   33 | kern_return_t task_create
      |               ^~~~~~~~~~~
./kern/task.h:140:25: note: previous declaration of ‘task_create’ with type ‘kern_return_t(struct task *, boolean_t,  struct task **)’ {aka ‘int(struct task *, int,  struct task **)’}
  140 | extern kern_return_t    task_create(
      |                         ^~~~~~~~~~~
./kern/mach.server.h:49:15: warning: redundant redeclaration of ‘task_terminate’ [-Wredundant-decls]
   49 | kern_return_t task_terminate
      |               ^~~~~~~~~~~~~~
./kern/task.h:148:25: note: previous declaration of ‘task_terminate’ with type ‘kern_return_t(struct task *)’ {aka ‘int(struct task *)’}
  148 | extern kern_return_t    task_terminate(
      |                         ^~~~~~~~~~~~~~
./kern/mach.server.h:97:15: warning: redundant redeclaration of ‘task_threads’ [-Wredundant-decls]
   97 | kern_return_t task_threads
      |               ^~~~~~~~~~~~
./kern/task.h:154:25: note: previous declaration of ‘task_threads’ with type ‘kern_return_t(struct task *, mach_port_t **, natural_t *)’ {aka ‘int(struct task *, long unsigned int **, unsigned int *)’}
  154 | extern kern_return_t    task_threads(
      |                         ^~~~~~~~~~~~
./kern/mach.server.h:113:15: warning: redundant redeclaration of ‘task_info’ [-Wredundant-decls]
  113 | kern_return_t task_info
      |               ^~~~~~~~~
./kern/task.h:158:25: note: previous declaration of ‘task_info’ with type ‘kern_return_t(struct task *, int,  integer_t *, natural_t *)’ {aka ‘int(struct task *, int,  int *, unsigned int *)’}
  158 | extern kern_return_t    task_info(
      |                         ^~~~~~~~~
./kern/mach.server.h:130:15: warning: redundant redeclaration of ‘thread_terminate’ [-Wredundant-decls]
  130 | kern_return_t thread_terminate
      |               ^~~~~~~~~~~~~~~~
./kern/thread.h:297:25: note: previous declaration of ‘thread_terminate’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  297 | extern kern_return_t    thread_terminate(
      |                         ^~~~~~~~~~~~~~~~
./kern/mach.server.h:144:15: warning: redundant redeclaration of ‘thread_get_state’ [-Wredundant-decls]
  144 | kern_return_t thread_get_state
      |               ^~~~~~~~~~~~~~~~
./kern/thread.h:333:25: note: previous declaration of ‘thread_get_state’ with type ‘kern_return_t(struct thread *, int,  natural_t *, natural_t *)’ {aka ‘int(struct thread *, int,  unsigned int *, unsigned int *)’}
  333 | extern kern_return_t    thread_get_state(
      |                         ^~~~~~~~~~~~~~~~
./kern/mach.server.h:161:15: warning: redundant redeclaration of ‘thread_set_state’ [-Wredundant-decls]
  161 | kern_return_t thread_set_state
      |               ^~~~~~~~~~~~~~~~
./kern/thread.h:338:25: note: previous declaration of ‘thread_set_state’ with type ‘kern_return_t(struct thread *, int,  natural_t *, natural_t)’ {aka ‘int(struct thread *, int,  unsigned int *, unsigned int)’}
  338 | extern kern_return_t    thread_set_state(
      |                         ^~~~~~~~~~~~~~~~
./kern/mach.server.h:178:15: warning: redundant redeclaration of ‘thread_info’ [-Wredundant-decls]
  178 | kern_return_t thread_info
      |               ^~~~~~~~~~~
./kern/thread.h:351:25: note: previous declaration of ‘thread_info’ with type ‘kern_return_t(struct thread *, int,  integer_t *, natural_t *)’ {aka ‘int(struct thread *, int,  int *, unsigned int *)’}
  351 | extern kern_return_t    thread_info(
      |                         ^~~~~~~~~~~
./kern/mach.server.h:453:15: warning: redundant redeclaration of ‘task_suspend’ [-Wredundant-decls]
  453 | kern_return_t task_suspend
      |               ^~~~~~~~~~~~
./kern/task.h:150:25: note: previous declaration of ‘task_suspend’ with type ‘kern_return_t(struct task *)’ {aka ‘int(struct task *)’}
  150 | extern kern_return_t    task_suspend(
      |                         ^~~~~~~~~~~~
./kern/mach.server.h:467:15: warning: redundant redeclaration of ‘task_resume’ [-Wredundant-decls]
  467 | kern_return_t task_resume
      |               ^~~~~~~~~~~
./kern/task.h:152:25: note: previous declaration of ‘task_resume’ with type ‘kern_return_t(struct task *)’ {aka ‘int(struct task *)’}
  152 | extern kern_return_t    task_resume(
      |                         ^~~~~~~~~~~
./kern/mach.server.h:481:15: warning: redundant redeclaration of ‘task_get_special_port’ [-Wredundant-decls]
  481 | kern_return_t task_get_special_port
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/task.h:163:25: note: previous declaration of ‘task_get_special_port’ with type ‘kern_return_t(struct task *, int,  struct ipc_port **)’ {aka ‘int(struct task *, int,  struct ipc_port **)’}
  163 | extern kern_return_t    task_get_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~
./kern/mach.server.h:497:15: warning: redundant redeclaration of ‘task_set_special_port’ [-Wredundant-decls]
  497 | kern_return_t task_set_special_port
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/task.h:167:25: note: previous declaration of ‘task_set_special_port’ with type ‘kern_return_t(struct task *, int,  struct ipc_port *)’ {aka ‘int(struct task *, int,  struct ipc_port *)’}
  167 | extern kern_return_t    task_set_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~
./kern/mach.server.h:513:15: warning: redundant redeclaration of ‘thread_create’ [-Wredundant-decls]
  513 | kern_return_t thread_create
      |               ^~~~~~~~~~~~~
./kern/thread.h:294:25: note: previous declaration of ‘thread_create’ with type ‘kern_return_t(struct task *, struct thread **)’ {aka ‘int(struct task *, struct thread **)’}
  294 | extern kern_return_t    thread_create(
      |                         ^~~~~~~~~~~~~
./kern/mach.server.h:528:15: warning: redundant redeclaration of ‘thread_suspend’ [-Wredundant-decls]
  528 | kern_return_t thread_suspend
      |               ^~~~~~~~~~~~~~
./kern/thread.h:306:25: note: previous declaration of ‘thread_suspend’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  306 | extern kern_return_t    thread_suspend(
      |                         ^~~~~~~~~~~~~~
./kern/mach.server.h:542:15: warning: redundant redeclaration of ‘thread_resume’ [-Wredundant-decls]
  542 | kern_return_t thread_resume
      |               ^~~~~~~~~~~~~
./kern/thread.h:308:25: note: previous declaration of ‘thread_resume’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  308 | extern kern_return_t    thread_resume(
      |                         ^~~~~~~~~~~~~
./kern/mach.server.h:556:15: warning: redundant redeclaration of ‘thread_abort’ [-Wredundant-decls]
  556 | kern_return_t thread_abort
      |               ^~~~~~~~~~~~
./kern/thread.h:310:25: note: previous declaration of ‘thread_abort’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  310 | extern kern_return_t    thread_abort(
      |                         ^~~~~~~~~~~~
./kern/mach.server.h:570:15: warning: redundant redeclaration of ‘thread_get_special_port’ [-Wredundant-decls]
  570 | kern_return_t thread_get_special_port
      |               ^~~~~~~~~~~~~~~~~~~~~~~
./kern/thread.h:343:25: note: previous declaration of ‘thread_get_special_port’ with type ‘kern_return_t(struct thread *, int,  struct ipc_port **)’ {aka ‘int(struct thread *, int,  struct ipc_port **)’}
  343 | extern kern_return_t    thread_get_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
./kern/mach.server.h:586:15: warning: redundant redeclaration of ‘thread_set_special_port’ [-Wredundant-decls]
  586 | kern_return_t thread_set_special_port
      |               ^~~~~~~~~~~~~~~~~~~~~~~
./kern/thread.h:347:25: note: previous declaration of ‘thread_set_special_port’ with type ‘kern_return_t(struct thread *, int,  struct ipc_port *)’ {aka ‘int(struct thread *, int,  struct ipc_port *)’}
  347 | extern kern_return_t    thread_set_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
vm/vm_map.c: In function ‘vm_map_get_simple_entropy’:
vm/vm_map.c:159:30: warning: nested extern declaration of ‘elapsed_ticks’ [-Wnested-externs]
  159 |         extern unsigned long elapsed_ticks;  /* from mach_clock.h */
      |                              ^~~~~~~~~~~~~
vm/vm_map.c:159:30: warning: redundant redeclaration of ‘elapsed_ticks’ [-Wredundant-decls]
In file included from ./kern/thread.h:45:
./kern/mach_clock.h:46:25: note: previous declaration of ‘elapsed_ticks’ with type ‘long unsigned int’
   46 | extern unsigned long    elapsed_ticks;  /* number of ticks elapsed since bootup */
      |                         ^~~~~~~~~~~~~
vm/vm_map.c: In function ‘vm_map_get_aslr_entropy’:
vm/vm_map.c:204:36: warning: unsigned conversion from ‘int’ to ‘vm_offset_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
  204 |                 max_entropy_offset &= ~(PAGE_SIZE - 1); /* Align to page boundary */
      |                                    ^~
vm/vm_map.c: In function ‘vm_map_set_aslr’:
vm/vm_map.c:236:29: warning: conversion from ‘boolean_t’ {aka ‘int’} to ‘unsigned char:1’ may change value [-Wconversion]
  236 |         map->aslr_enabled = enabled;
      |                             ^~~~~~~
vm/vm_map.c: In function ‘vm_map_setup’:
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:348:35: note: in expansion of macro ‘vm_map_to_entry’
  348 |         vm_map_first_entry(map) = vm_map_to_entry(map);
      |                                   ^~~~~~~~~~~~~~~
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:349:35: note: in expansion of macro ‘vm_map_to_entry’
  349 |         vm_map_last_entry(map)  = vm_map_to_entry(map);
      |                                   ^~~~~~~~~~~~~~~
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:368:27: note: in expansion of macro ‘vm_map_to_entry’
  368 |         map->first_free = vm_map_to_entry(map);
      |                           ^~~~~~~~~~~~~~~
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:369:21: note: in expansion of macro ‘vm_map_to_entry’
  369 |         map->hint = vm_map_to_entry(map);
      |                     ^~~~~~~~~~~~~~~
vm/vm_map.c: In function ‘vm_map_entry_tree_next’:
vm/vm_map.c:501:40: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  501 |                 return (vm_map_entry_t)&hdr->links;  /* End marker */
      |                                        ^~~~~~~~~~~
vm/vm_map.c: In function ‘vm_map_gap_valid’:
vm/vm_map.c:562:48: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  562 |         return entry != (struct vm_map_entry *)&hdr->links;
      |                                                ^~~~~~~~~~~
vm/vm_map.c: In function ‘vm_map_lookup_entry’:
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:798:22: note: in expansion of macro ‘vm_map_to_entry’
  798 |         if ((hint != vm_map_to_entry(map)) && (address >= hint->vme_start)) {
      |                      ^~~~~~~~~~~~~~~
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:805:38: note: in expansion of macro ‘vm_map_to_entry’
  805 |                         if ((next == vm_map_to_entry(map))
      |                                      ^~~~~~~~~~~~~~~
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:821:26: note: in expansion of macro ‘vm_map_to_entry’
  821 |                 *entry = vm_map_to_entry(map);
      |                          ^~~~~~~~~~~~~~~
vm/vm_map.c: In function ‘vm_map_find_entry_anywhere’:
vm/vm_map.c:861:44: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘int’ may change value [-Wconversion]
  861 |                 int first0 = __builtin_ffs(~mask);              /* First zero after low bits */
      |                                            ^~~~~
vm/vm_map.c:864:45: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘int’ may change value [-Wconversion]
  864 |                 int second1 = __builtin_ffs(himask);            /* First one after low bits */
      |                                             ^~~~~~
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:883:25: note: in expansion of macro ‘vm_map_to_entry’
  883 |                 entry = vm_map_to_entry(map);
      |                         ^~~~~~~~~~~~~~~
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:915:22: note: in expansion of macro ‘vm_map_to_entry’
  915 |         if (entry != vm_map_to_entry(map)) {
      |                      ^~~~~~~~~~~~~~~
vm/vm_map.c:925:75: warning: unsigned conversion from ‘int’ to ‘vm_offset_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
  925 |                                 vm_offset_t max_entropy = available_space & ~(PAGE_SIZE - 1);
      |                                                                           ^
vm/vm_map.c:986:54: warning: unsigned conversion from ‘int’ to ‘vm_offset_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
  986 |                 max_entropy_offset = available_space & ~(PAGE_SIZE - 1);  /* Page-aligned */
      |                                                      ^
vm/vm_map.c: In function ‘vm_map_find_entry’:
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:1073:23: note: in expansion of macro ‘vm_map_to_entry’
 1073 |             (entry != vm_map_to_entry(map)) &&
      |                       ^~~~~~~~~~~~~~~
In file included from ./vm/vm_map.h:52:
vm/vm_map.c: In function ‘vm_map_pmap_enter’:
./vm/vm_object.h:317:30: warning: unsigned conversion from ‘int’ to ‘unsigned int’ changes value from ‘-5’ to ‘4294967291’ [-Wsign-conversion]
  317 |         (object)->all_wanted &= ~(1 << (event));                        \
      |                              ^~
./vm/vm_object.h:335:17: note: in expansion of macro ‘vm_object_wakeup’
  335 |                 vm_object_wakeup(object,                                \
      |                 ^~~~~~~~~~~~~~~~
vm/vm_map.c:1170:25: note: in expansion of macro ‘vm_object_paging_end’
 1170 |                         vm_object_paging_end(object);
      |                         ^~~~~~~~~~~~~~~~~~~~
./vm/vm_object.h:317:30: warning: unsigned conversion from ‘int’ to ‘unsigned int’ changes value from ‘-5’ to ‘4294967291’ [-Wsign-conversion]
  317 |         (object)->all_wanted &= ~(1 << (event));                        \
      |                              ^~
./vm/vm_object.h:335:17: note: in expansion of macro ‘vm_object_wakeup’
  335 |                 vm_object_wakeup(object,                                \
      |                 ^~~~~~~~~~~~~~~~
vm/vm_map.c:1193:17: note: in expansion of macro ‘vm_object_paging_end’
 1193 |                 vm_object_paging_end(object);
      |                 ^~~~~~~~~~~~~~~~~~~~
vm/vm_map.c: In function ‘vm_map_enter’:
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:1291:36: note: in expansion of macro ‘vm_map_to_entry’
 1291 |                 if ((next_entry != vm_map_to_entry(map)) &&
      |                                    ^~~~~~~~~~~~~~~
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:1311:23: note: in expansion of macro ‘vm_map_to_entry’
 1311 |         if ((entry != vm_map_to_entry(map)) &&
      |                       ^~~~~~~~~~~~~~~
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:1347:28: note: in expansion of macro ‘vm_map_to_entry’
 1347 |         if ((next_entry != vm_map_to_entry(map)) &&
      |                            ^~~~~~~~~~~~~~~
vm/vm_map.c:1401:33: warning: conversion from ‘boolean_t’ {aka ‘int’} to ‘unsigned char:1’ may change value [-Wconversion]
 1401 |         new_entry->needs_copy = needs_copy;
      |                                 ^~~~~~~~~~
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:1425:24: note: in expansion of macro ‘vm_map_to_entry’
 1425 |             ((entry == vm_map_to_entry(map) ? map->min_offset : entry->vme_end)
      |                        ^~~~~~~~~~~~~~~
vm/vm_map.c: In function ‘vm_map_pageable_scan’:
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:1697:24: note: in expansion of macro ‘vm_map_to_entry’
 1697 |              (entry != vm_map_to_entry(map)) &&
      |                        ^~~~~~~~~~~~~~~
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:1802:33: note: in expansion of macro ‘vm_map_to_entry’
 1802 |                         entry = vm_map_to_entry(map);
      |                                 ^~~~~~~~~~~~~~~
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:1832:32: note: in expansion of macro ‘vm_map_to_entry’
 1832 |                      (entry != vm_map_to_entry(map)) &&
      |                                ^~~~~~~~~~~~~~~
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:1846:41: note: in expansion of macro ‘vm_map_to_entry’
 1846 |                                 entry = vm_map_to_entry(map);
      |                                         ^~~~~~~~~~~~~~~
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:1856:24: note: in expansion of macro ‘vm_map_to_entry’
 1856 |              (entry != vm_map_to_entry(map)) &&
      |                        ^~~~~~~~~~~~~~~
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:1878:33: note: in expansion of macro ‘vm_map_to_entry’
 1878 |                         entry = vm_map_to_entry(map);
      |                                 ^~~~~~~~~~~~~~~
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:1885:32: note: in expansion of macro ‘vm_map_to_entry’
 1885 |                      (entry != vm_map_to_entry(map)) &&
      |                                ^~~~~~~~~~~~~~~
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:1904:41: note: in expansion of macro ‘vm_map_to_entry’
 1904 |                                 entry = vm_map_to_entry(map);
      |                                         ^~~~~~~~~~~~~~~
vm/vm_map.c: In function ‘vm_map_protect’:
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:1947:28: note: in expansion of macro ‘vm_map_to_entry’
 1947 |         while ((current != vm_map_to_entry(map)) &&
      |                            ^~~~~~~~~~~~~~~
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:1970:28: note: in expansion of macro ‘vm_map_to_entry’
 1970 |         while ((current != vm_map_to_entry(map)) &&
      |                            ^~~~~~~~~~~~~~~
vm/vm_map.c: In function ‘vm_map_inherit’:
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:2051:26: note: in expansion of macro ‘vm_map_to_entry’
 2051 |         while ((entry != vm_map_to_entry(map)) && (entry->vme_start < end)) {
      |                          ^~~~~~~~~~~~~~~
vm/vm_map.c: In function ‘vm_map_pageable’:
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:2126:24: note: in expansion of macro ‘vm_map_to_entry’
 2126 |              (entry != vm_map_to_entry(map)) &&
      |                        ^~~~~~~~~~~~~~~
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:2135:44: note: in expansion of macro ‘vm_map_to_entry’
 2135 |                       ((entry->vme_next == vm_map_to_entry(map)) ||
      |                                            ^~~~~~~~~~~~~~~
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:2150:33: note: in expansion of macro ‘vm_map_to_entry’
 2150 |                         entry = vm_map_to_entry(map);
      |                                 ^~~~~~~~~~~~~~~
vm/vm_map.c: In function ‘vm_map_pageable_all’:
vm/vm_map.c:2256:56: warning: conversion from ‘boolean_t’ {aka ‘int’} to ‘unsigned char:1’ may change value [-Wconversion]
 2256 |                                 map->wiring_required = wiring_required;
      |                                                        ^~~~~~~~~~~~~~~
vm/vm_map.c: In function ‘vm_map_entry_delete’:
vm/vm_map.c:2281:33: warning: nested extern declaration of ‘kernel_object’ [-Wnested-externs]
 2281 |         extern vm_object_t      kernel_object;
      |                                 ^~~~~~~~~~~~~
vm/vm_map.c:2281:33: warning: redundant redeclaration of ‘kernel_object’ [-Wredundant-decls]
./vm/vm_object.h:183:17: note: previous declaration of ‘kernel_object’ with type ‘vm_object_t’ {aka ‘struct vm_object *’}
  183 | vm_object_t     kernel_object;          /* the single kernel object */
      |                 ^~~~~~~~~~~~~
vm/vm_map.c: In function ‘vm_map_delete’:
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:2418:26: note: in expansion of macro ‘vm_map_to_entry’
 2418 |         while ((entry != vm_map_to_entry(map)) && (entry->vme_start < end)) {
      |                          ^~~~~~~~~~~~~~~
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:2457:53: note: in expansion of macro ‘vm_map_to_entry’
 2457 |         if (first_entry && first_entry->vme_prev != vm_map_to_entry(map)) {
      |                                                     ^~~~~~~~~~~~~~~
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:2460:31: note: in expansion of macro ‘vm_map_to_entry’
 2460 |         if (entry && entry != vm_map_to_entry(map)) {
      |                               ^~~~~~~~~~~~~~~
vm/vm_map.c: In function ‘vm_map_copy_steal_pages’:
./vm/vm_object.h:317:30: warning: unsigned conversion from ‘int’ to ‘unsigned int’ changes value from ‘-5’ to ‘4294967291’ [-Wsign-conversion]
  317 |         (object)->all_wanted &= ~(1 << (event));                        \
      |                              ^~
./vm/vm_object.h:335:17: note: in expansion of macro ‘vm_object_wakeup’
  335 |                 vm_object_wakeup(object,                                \
      |                 ^~~~~~~~~~~~~~~~
vm/vm_map.c:2531:17: note: in expansion of macro ‘vm_object_paging_end’
 2531 |                 vm_object_paging_end(object);
      |                 ^~~~~~~~~~~~~~~~~~~~
vm/vm_map.c: In function ‘vm_map_copy_page_discard’:
./vm/vm_object.h:317:30: warning: unsigned conversion from ‘int’ to ‘unsigned int’ changes value from ‘-5’ to ‘4294967291’ [-Wsign-conversion]
  317 |         (object)->all_wanted &= ~(1 << (event));                        \
      |                              ^~
./vm/vm_object.h:335:17: note: in expansion of macro ‘vm_object_wakeup’
  335 |                 vm_object_wakeup(object,                                \
      |                 ^~~~~~~~~~~~~~~~
vm/vm_map.c:2575:33: note: in expansion of macro ‘vm_object_paging_end’
 2575 |                                 vm_object_paging_end(object);
      |                                 ^~~~~~~~~~~~~~~~~~~~
vm/vm_map.c: In function ‘vm_map_copy_discard’:
./vm/vm_map.h:316:42: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  316 |                 ((struct vm_map_entry *) &(copy)->cpy_hdr.links)
      |                                          ^~~~~~~~~~~~~~~~~~~~~~
vm/vm_map.c:2599:41: note: in expansion of macro ‘vm_map_copy_to_entry’
 2599 |                                         vm_map_copy_to_entry(copy)) {
      |                                         ^~~~~~~~~~~~~~~~~~~~
vm/vm_map.c: In function ‘vm_map_copy_copy’:
./vm/vm_map.h:316:42: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  316 |                 ((struct vm_map_entry *) &(copy)->cpy_hdr.links)
      |                                          ^~~~~~~~~~~~~~~~~~~~~~
vm/vm_map.c:2687:27: note: in expansion of macro ‘vm_map_copy_to_entry’
 2687 |                         = vm_map_copy_to_entry(new_copy);
      |                           ^~~~~~~~~~~~~~~~~~~~
./vm/vm_map.h:316:42: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  316 |                 ((struct vm_map_entry *) &(copy)->cpy_hdr.links)
      |                                          ^~~~~~~~~~~~~~~~~~~~~~
vm/vm_map.c:2689:27: note: in expansion of macro ‘vm_map_copy_to_entry’
 2689 |                         = vm_map_copy_to_entry(new_copy);
      |                           ^~~~~~~~~~~~~~~~~~~~
vm/vm_map.c: In function ‘vm_map_copy_overwrite’:
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:2873:32: note: in expansion of macro ‘vm_map_to_entry’
 2873 |                         next = vm_map_to_entry(dst_map);
      |                                ^~~~~~~~~~~~~~~
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:2876:30: note: in expansion of macro ‘vm_map_to_entry’
 2876 |                 if ((next == vm_map_to_entry(dst_map)) ||
      |                              ^~~~~~~~~~~~~~~
./vm/vm_map.h:316:42: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  316 |                 ((struct vm_map_entry *) &(copy)->cpy_hdr.links)
      |                                          ^~~~~~~~~~~~~~~~~~~~~~
vm/vm_map.c:2943:49: note: in expansion of macro ‘vm_map_copy_to_entry’
 2943 |         while (vm_map_copy_first_entry(copy) != vm_map_copy_to_entry(copy)) {
      |                                                 ^~~~~~~~~~~~~~~~~~~~
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
vm/vm_map.c:2961:17: note: in expansion of macro ‘assert’
 2961 |                 assert(entry != vm_map_to_entry(dst_map));
      |                 ^~~~~~
vm/vm_map.c:2961:33: note: in expansion of macro ‘vm_map_to_entry’
 2961 |                 assert(entry != vm_map_to_entry(dst_map));
      |                                 ^~~~~~~~~~~~~~~
vm/vm_map.c: In function ‘vm_map_copy_insert’:
./vm/vm_map.h:316:42: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  316 |                 ((struct vm_map_entry *) &(copy)->cpy_hdr.links)
      |                                          ^~~~~~~~~~~~~~~~~~~~~~
vm/vm_map.c:3149:30: note: in expansion of macro ‘vm_map_copy_to_entry’
 3149 |                 if (entry == vm_map_copy_to_entry(copy)) {
      |                              ^~~~~~~~~~~~~~~~~~~~
In file included from vm/vm_map.c:41:
vm/vm_map.c: In function ‘vm_map_copyout’:
./include/mach/vm_param.h:87:59: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   87 | #define trunc_page(x)   ((vm_offset_t)(((vm_offset_t)(x)) & ~PAGE_MASK))
      |                                                           ^
vm/vm_map.c:3226:25: note: in expansion of macro ‘trunc_page’
 3226 |         vm_copy_start = trunc_page(copy->offset);
      |                         ^~~~~~~~~~
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
vm/vm_map.c:3227:17: note: in expansion of macro ‘round_page’
 3227 |         size =  round_page(copy->offset + copy->size) - vm_copy_start;
      |                 ^~~~~~~~~~
./vm/vm_map.h:316:42: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  316 |                 ((struct vm_map_entry *) &(copy)->cpy_hdr.links)
      |                                          ^~~~~~~~~~~~~~~~~~~~~~
vm/vm_map.c:3242:23: note: in expansion of macro ‘vm_map_copy_to_entry’
 3242 |              entry != vm_map_copy_to_entry(copy);
      |                       ^~~~~~~~~~~~~~~~~~~~
./vm/vm_object.h:317:30: warning: unsigned conversion from ‘int’ to ‘unsigned int’ changes value from ‘-5’ to ‘4294967291’ [-Wsign-conversion]
  317 |         (object)->all_wanted &= ~(1 << (event));                        \
      |                              ^~
./vm/vm_object.h:335:17: note: in expansion of macro ‘vm_object_wakeup’
  335 |                 vm_object_wakeup(object,                                \
      |                 ^~~~~~~~~~~~~~~~
vm/vm_map.c:3312:25: note: in expansion of macro ‘vm_object_paging_end’
 3312 |                         vm_object_paging_end(object);
      |                         ^~~~~~~~~~~~~~~~~~~~
vm/vm_map.c: In function ‘vm_map_copyout_page_list’:
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
vm/vm_map.c:3403:17: note: in expansion of macro ‘round_page’
 3403 |         size =  round_page(copy->offset + copy->size) -
      |                 ^~~~~~~~~~
./include/mach/vm_param.h:87:59: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   87 | #define trunc_page(x)   ((vm_offset_t)(((vm_offset_t)(x)) & ~PAGE_MASK))
      |                                                           ^
vm/vm_map.c:3404:17: note: in expansion of macro ‘trunc_page’
 3404 |                 trunc_page(copy->offset);
      |                 ^~~~~~~~~~
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:3428:21: note: in expansion of macro ‘vm_map_to_entry’
 3428 |         if (last == vm_map_to_entry(dst_map) ||
      |                     ^~~~~~~~~~~~~~~
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:3681:33: note: in expansion of macro ‘vm_map_to_entry’
 3681 |                 while((entry != vm_map_to_entry(dst_map)) &&
      |                                 ^~~~~~~~~~~~~~~
vm/vm_map.c: In function ‘vm_map_copyin’:
./include/mach/vm_param.h:87:59: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   87 | #define trunc_page(x)   ((vm_offset_t)(((vm_offset_t)(x)) & ~PAGE_MASK))
      |                                                           ^
vm/vm_map.c:3774:21: note: in expansion of macro ‘trunc_page’
 3774 |         src_start = trunc_page(src_addr);
      |                     ^~~~~~~~~~
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
vm/vm_map.c:3775:19: note: in expansion of macro ‘round_page’
 3775 |         src_end = round_page(src_addr + len);
      |                   ^~~~~~~~~~
./vm/vm_map.h:316:42: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  316 |                 ((struct vm_map_entry *) &(copy)->cpy_hdr.links)
      |                                          ^~~~~~~~~~~~~~~~~~~~~~
vm/vm_map.c:3794:41: note: in expansion of macro ‘vm_map_copy_to_entry’
 3794 |          vm_map_copy_last_entry(copy) = vm_map_copy_to_entry(copy);
      |                                         ^~~~~~~~~~~~~~~~~~~~
vm/vm_map.c:3923:49: warning: conversion from ‘boolean_t’ {aka ‘int’} to ‘unsigned char:1’ may change value [-Wconversion]
 3923 |                         new_entry->needs_copy = new_entry_needs_copy;
      |                                                 ^~~~~~~~~~~~~~~~~~~~
vm/vm_map.c:3953:49: warning: conversion from ‘boolean_t’ {aka ‘int’} to ‘unsigned char:1’ may change value [-Wconversion]
 3953 |                         new_entry->needs_copy = new_entry_needs_copy;
      |                                                 ^~~~~~~~~~~~~~~~~~~~
vm/vm_map.c:4024:49: warning: conversion from ‘boolean_t’ {aka ‘int’} to ‘unsigned char:1’ may change value [-Wconversion]
 4024 |                         new_entry->needs_copy = new_entry_needs_copy;
      |                                                 ^~~~~~~~~~~~~~~~~~~~
./include/mach/vm_param.h:87:59: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   87 | #define trunc_page(x)   ((vm_offset_t)(((vm_offset_t)(x)) & ~PAGE_MASK))
      |                                                           ^
vm/vm_map.c:4130:43: note: in expansion of macro ‘trunc_page’
 4130 |             (void) vm_map_delete(src_map, trunc_page(src_addr), src_end);
      |                                           ^~~~~~~~~~
vm/vm_map.c: In function ‘vm_map_copyin_page_list’:
./include/mach/vm_param.h:87:59: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   87 | #define trunc_page(x)   ((vm_offset_t)(((vm_offset_t)(x)) & ~PAGE_MASK))
      |                                                           ^
vm/vm_map.c:4302:21: note: in expansion of macro ‘trunc_page’
 4302 |         src_start = trunc_page(src_addr);
      |                     ^~~~~~~~~~
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
vm/vm_map.c:4303:19: note: in expansion of macro ‘round_page’
 4303 |         src_end = round_page(src_addr + len);
      |                   ^~~~~~~~~~
./vm/vm_object.h:317:30: warning: unsigned conversion from ‘int’ to ‘unsigned int’ changes value from ‘-5’ to ‘4294967291’ [-Wsign-conversion]
  317 |         (object)->all_wanted &= ~(1 << (event));                        \
      |                              ^~
./vm/vm_object.h:335:17: note: in expansion of macro ‘vm_object_wakeup’
  335 |                 vm_object_wakeup(object,                                \
      |                 ^~~~~~~~~~~~~~~~
vm/vm_map.c:4534:41: note: in expansion of macro ‘vm_object_paging_end’
 4534 |                                         vm_object_paging_end(src_object);
      |                                         ^~~~~~~~~~~~~~~~~~~~
./include/mach/vm_param.h:87:59: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   87 | #define trunc_page(x)   ((vm_offset_t)(((vm_offset_t)(x)) & ~PAGE_MASK))
      |                                                           ^
vm/vm_map.c:4603:21: note: in expansion of macro ‘trunc_page’
 4603 |         src_start = trunc_page(src_addr);
      |                     ^~~~~~~~~~
vm/vm_map.c:4649:56: warning: conversion to ‘vm_offset_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
 4649 |                                 page_vaddr = src_start + (i * PAGE_SIZE);
      |                                                        ^
./vm/vm_object.h:317:30: warning: unsigned conversion from ‘int’ to ‘unsigned int’ changes value from ‘-5’ to ‘4294967291’ [-Wsign-conversion]
  317 |         (object)->all_wanted &= ~(1 << (event));                        \
      |                              ^~
./vm/vm_object.h:335:17: note: in expansion of macro ‘vm_object_wakeup’
  335 |                 vm_object_wakeup(object,                                \
      |                 ^~~~~~~~~~~~~~~~
vm/vm_map.c:4725:25: note: in expansion of macro ‘vm_object_paging_end’
 4725 |                         vm_object_paging_end(src_object);
      |                         ^~~~~~~~~~~~~~~~~~~~
vm/vm_map.c: In function ‘vm_map_fork’:
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:4806:26: note: in expansion of macro ‘vm_map_to_entry’
 4806 |             old_entry != vm_map_to_entry(old_map);
      |                          ^~~~~~~~~~~~~~~
vm/vm_map.c:4957:65: warning: conversion from ‘boolean_t’ {aka ‘int’} to ‘unsigned char:1’ may change value [-Wconversion]
 4957 |                                         new_entry->needs_copy = new_entry_needs_copy;
      |                                                                 ^~~~~~~~~~~~~~~~~~~~
vm/vm_map.c: In function ‘vm_map_lookup’:
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:5098:23: note: in expansion of macro ‘vm_map_to_entry’
 5098 |         if ((entry == vm_map_to_entry(map)) ||
      |                       ^~~~~~~~~~~~~~~
vm/vm_map.c: In function ‘vm_region’:
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:5295:54: note: in expansion of macro ‘vm_map_to_entry’
 5295 |                 if ((entry = tmp_entry->vme_next) == vm_map_to_entry(map)) {
      |                                                      ^~~~~~~~~~~~~~~
vm/vm_map.c: In function ‘vm_region_create_proxy’:
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:5352:42: note: in expansion of macro ‘vm_map_to_entry’
 5352 |     if ((entry = tmp_entry->vme_next) == vm_map_to_entry(task->map)) {
      |                                          ^~~~~~~~~~~~~~~
vm/vm_map.c:5380:15: warning: conversion from ‘long unsigned int’ to ‘rpc_vm_offset_t’ {aka ‘unsigned int’} may change value [-Wconversion]
 5380 |   rpc_start = (address - entry->vme_start) + entry->offset;
      |               ^
vm/vm_map.c: In function ‘vm_map_coalesce_entry’:
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:5418:23: note: in expansion of macro ‘vm_map_to_entry’
 5418 |         if ((entry == vm_map_to_entry(map)) ||
      |                       ^~~~~~~~~~~~~~~
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:5419:22: note: in expansion of macro ‘vm_map_to_entry’
 5419 |             (prev == vm_map_to_entry(map)) ||
      |                      ^~~~~~~~~~~~~~~
vm/vm_map.c: In function ‘vm_map_coalesce_entry_forward’:
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:5491:23: note: in expansion of macro ‘vm_map_to_entry’
 5491 |         if ((entry == vm_map_to_entry(map)) ||
      |                       ^~~~~~~~~~~~~~~
./vm/vm_map.h:220:58: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  220 | #define vm_map_to_entry(map)    ((struct vm_map_entry *) &(map)->hdr.links)
      |                                                          ^~~~~~~~~~~~~~~~~
vm/vm_map.c:5492:22: note: in expansion of macro ‘vm_map_to_entry’
 5492 |             (next == vm_map_to_entry(map)) ||
      |                      ^~~~~~~~~~~~~~~
vm/vm_map.c: In function ‘vm_map_msync’:
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
vm/vm_map.c:5637:17: note: in expansion of macro ‘round_page’
 5637 |         size =  round_page(address + size) - trunc_page(address);
      |                 ^~~~~~~~~~
./include/mach/vm_param.h:87:59: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   87 | #define trunc_page(x)   ((vm_offset_t)(((vm_offset_t)(x)) & ~PAGE_MASK))
      |                                                           ^
vm/vm_map.c:5637:46: note: in expansion of macro ‘trunc_page’
 5637 |         size =  round_page(address + size) - trunc_page(address);
      |                                              ^~~~~~~~~~
./include/mach/vm_param.h:87:59: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   87 | #define trunc_page(x)   ((vm_offset_t)(((vm_offset_t)(x)) & ~PAGE_MASK))
      |                                                           ^
vm/vm_map.c:5638:19: note: in expansion of macro ‘trunc_page’
 5638 |         address = trunc_page(address);
      |                   ^~~~~~~~~~
depbase=`echo vm/vm_object.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT vm/vm_object.o -MD -MP -MF $depbase.Tpo -c -o vm/vm_object.o vm/vm_object.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from vm/vm_object.c:36:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./kern/ipc_kobject.h:44,
                 from ./ipc/ipc_port.h:47,
                 from vm/vm_object.c:44:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/sys/types.h:29,
                 from ./kern/printf.h:27:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
In file included from vm/vm_object.c:45:
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
In file included from ./kern/mach.server.h:13,
                 from vm/vm_object.c:48:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
In file included from ./kern/thread.h:53,
                 from ./vm/pmap.h:45:
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
./kern/mach.server.h:33:15: warning: redundant redeclaration of ‘task_create’ [-Wredundant-decls]
   33 | kern_return_t task_create
      |               ^~~~~~~~~~~
./kern/task.h:140:25: note: previous declaration of ‘task_create’ with type ‘kern_return_t(struct task *, boolean_t,  struct task **)’ {aka ‘int(struct task *, int,  struct task **)’}
  140 | extern kern_return_t    task_create(
      |                         ^~~~~~~~~~~
./kern/mach.server.h:49:15: warning: redundant redeclaration of ‘task_terminate’ [-Wredundant-decls]
   49 | kern_return_t task_terminate
      |               ^~~~~~~~~~~~~~
./kern/task.h:148:25: note: previous declaration of ‘task_terminate’ with type ‘kern_return_t(struct task *)’ {aka ‘int(struct task *)’}
  148 | extern kern_return_t    task_terminate(
      |                         ^~~~~~~~~~~~~~
./kern/mach.server.h:97:15: warning: redundant redeclaration of ‘task_threads’ [-Wredundant-decls]
   97 | kern_return_t task_threads
      |               ^~~~~~~~~~~~
./kern/task.h:154:25: note: previous declaration of ‘task_threads’ with type ‘kern_return_t(struct task *, mach_port_t **, natural_t *)’ {aka ‘int(struct task *, long unsigned int **, unsigned int *)’}
  154 | extern kern_return_t    task_threads(
      |                         ^~~~~~~~~~~~
./kern/mach.server.h:113:15: warning: redundant redeclaration of ‘task_info’ [-Wredundant-decls]
  113 | kern_return_t task_info
      |               ^~~~~~~~~
./kern/task.h:158:25: note: previous declaration of ‘task_info’ with type ‘kern_return_t(struct task *, int,  integer_t *, natural_t *)’ {aka ‘int(struct task *, int,  int *, unsigned int *)’}
  158 | extern kern_return_t    task_info(
      |                         ^~~~~~~~~
./kern/mach.server.h:130:15: warning: redundant redeclaration of ‘thread_terminate’ [-Wredundant-decls]
  130 | kern_return_t thread_terminate
      |               ^~~~~~~~~~~~~~~~
./kern/thread.h:297:25: note: previous declaration of ‘thread_terminate’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  297 | extern kern_return_t    thread_terminate(
      |                         ^~~~~~~~~~~~~~~~
./kern/mach.server.h:144:15: warning: redundant redeclaration of ‘thread_get_state’ [-Wredundant-decls]
  144 | kern_return_t thread_get_state
      |               ^~~~~~~~~~~~~~~~
./kern/thread.h:333:25: note: previous declaration of ‘thread_get_state’ with type ‘kern_return_t(struct thread *, int,  natural_t *, natural_t *)’ {aka ‘int(struct thread *, int,  unsigned int *, unsigned int *)’}
  333 | extern kern_return_t    thread_get_state(
      |                         ^~~~~~~~~~~~~~~~
./kern/mach.server.h:161:15: warning: redundant redeclaration of ‘thread_set_state’ [-Wredundant-decls]
  161 | kern_return_t thread_set_state
      |               ^~~~~~~~~~~~~~~~
./kern/thread.h:338:25: note: previous declaration of ‘thread_set_state’ with type ‘kern_return_t(struct thread *, int,  natural_t *, natural_t)’ {aka ‘int(struct thread *, int,  unsigned int *, unsigned int)’}
  338 | extern kern_return_t    thread_set_state(
      |                         ^~~~~~~~~~~~~~~~
./kern/mach.server.h:178:15: warning: redundant redeclaration of ‘thread_info’ [-Wredundant-decls]
  178 | kern_return_t thread_info
      |               ^~~~~~~~~~~
./kern/thread.h:351:25: note: previous declaration of ‘thread_info’ with type ‘kern_return_t(struct thread *, int,  integer_t *, natural_t *)’ {aka ‘int(struct thread *, int,  int *, unsigned int *)’}
  351 | extern kern_return_t    thread_info(
      |                         ^~~~~~~~~~~
./kern/mach.server.h:453:15: warning: redundant redeclaration of ‘task_suspend’ [-Wredundant-decls]
  453 | kern_return_t task_suspend
      |               ^~~~~~~~~~~~
./kern/task.h:150:25: note: previous declaration of ‘task_suspend’ with type ‘kern_return_t(struct task *)’ {aka ‘int(struct task *)’}
  150 | extern kern_return_t    task_suspend(
      |                         ^~~~~~~~~~~~
./kern/mach.server.h:467:15: warning: redundant redeclaration of ‘task_resume’ [-Wredundant-decls]
  467 | kern_return_t task_resume
      |               ^~~~~~~~~~~
./kern/task.h:152:25: note: previous declaration of ‘task_resume’ with type ‘kern_return_t(struct task *)’ {aka ‘int(struct task *)’}
  152 | extern kern_return_t    task_resume(
      |                         ^~~~~~~~~~~
./kern/mach.server.h:481:15: warning: redundant redeclaration of ‘task_get_special_port’ [-Wredundant-decls]
  481 | kern_return_t task_get_special_port
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/task.h:163:25: note: previous declaration of ‘task_get_special_port’ with type ‘kern_return_t(struct task *, int,  struct ipc_port **)’ {aka ‘int(struct task *, int,  struct ipc_port **)’}
  163 | extern kern_return_t    task_get_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~
./kern/mach.server.h:497:15: warning: redundant redeclaration of ‘task_set_special_port’ [-Wredundant-decls]
  497 | kern_return_t task_set_special_port
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/task.h:167:25: note: previous declaration of ‘task_set_special_port’ with type ‘kern_return_t(struct task *, int,  struct ipc_port *)’ {aka ‘int(struct task *, int,  struct ipc_port *)’}
  167 | extern kern_return_t    task_set_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~
./kern/mach.server.h:513:15: warning: redundant redeclaration of ‘thread_create’ [-Wredundant-decls]
  513 | kern_return_t thread_create
      |               ^~~~~~~~~~~~~
./kern/thread.h:294:25: note: previous declaration of ‘thread_create’ with type ‘kern_return_t(struct task *, struct thread **)’ {aka ‘int(struct task *, struct thread **)’}
  294 | extern kern_return_t    thread_create(
      |                         ^~~~~~~~~~~~~
./kern/mach.server.h:528:15: warning: redundant redeclaration of ‘thread_suspend’ [-Wredundant-decls]
  528 | kern_return_t thread_suspend
      |               ^~~~~~~~~~~~~~
./kern/thread.h:306:25: note: previous declaration of ‘thread_suspend’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  306 | extern kern_return_t    thread_suspend(
      |                         ^~~~~~~~~~~~~~
./kern/mach.server.h:542:15: warning: redundant redeclaration of ‘thread_resume’ [-Wredundant-decls]
  542 | kern_return_t thread_resume
      |               ^~~~~~~~~~~~~
./kern/thread.h:308:25: note: previous declaration of ‘thread_resume’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  308 | extern kern_return_t    thread_resume(
      |                         ^~~~~~~~~~~~~
./kern/mach.server.h:556:15: warning: redundant redeclaration of ‘thread_abort’ [-Wredundant-decls]
  556 | kern_return_t thread_abort
      |               ^~~~~~~~~~~~
./kern/thread.h:310:25: note: previous declaration of ‘thread_abort’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  310 | extern kern_return_t    thread_abort(
      |                         ^~~~~~~~~~~~
./kern/mach.server.h:570:15: warning: redundant redeclaration of ‘thread_get_special_port’ [-Wredundant-decls]
  570 | kern_return_t thread_get_special_port
      |               ^~~~~~~~~~~~~~~~~~~~~~~
./kern/thread.h:343:25: note: previous declaration of ‘thread_get_special_port’ with type ‘kern_return_t(struct thread *, int,  struct ipc_port **)’ {aka ‘int(struct thread *, int,  struct ipc_port **)’}
  343 | extern kern_return_t    thread_get_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
./kern/mach.server.h:586:15: warning: redundant redeclaration of ‘thread_set_special_port’ [-Wredundant-decls]
  586 | kern_return_t thread_set_special_port
      |               ^~~~~~~~~~~~~~~~~~~~~~~
./kern/thread.h:347:25: note: previous declaration of ‘thread_set_special_port’ with type ‘kern_return_t(struct thread *, int,  struct ipc_port *)’ {aka ‘int(struct thread *, int,  struct ipc_port *)’}
  347 | extern kern_return_t    thread_set_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
vm/vm_object.c:65:6: warning: redundant redeclaration of ‘memory_object_release’ [-Wredundant-decls]
   65 | void memory_object_release(
      |      ^~~~~~~~~~~~~~~~~~~~~
In file included from ./vm/vm_map.h:52:
./vm/vm_object.h:270:6: note: previous declaration of ‘memory_object_release’ with type ‘void(struct ipc_port *, struct ipc_port *, struct ipc_port *)’
  270 | void memory_object_release(
      |      ^~~~~~~~~~~~~~~~~~~~~
vm/vm_object.c: In function ‘vm_object_bootstrap’:
vm/vm_object.c:313:47: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  313 |         vm_object_template.readahead_window = vm_page_readahead_min;
      |                                               ^~~~~~~~~~~~~~~~~~~~~
vm/vm_object.c: In function ‘vm_object_terminate’:
vm/vm_object.c:617:36: warning: conversion from ‘boolean_t’ {aka ‘int’} to ‘unsigned char:1’ may change value [-Wconversion]
  617 |                         p->dirty = pmap_is_modified(p->phys_addr);
      |                                    ^~~~~~~~~~~~~~~~
vm/vm_object.c: In function ‘vm_object_abort_activity’:
./vm/vm_object.h:317:30: warning: unsigned conversion from ‘int’ to ‘unsigned int’ changes value from ‘-3’ to ‘4294967293’ [-Wsign-conversion]
  317 |         (object)->all_wanted &= ~(1 << (event));                        \
      |                              ^~
vm/vm_object.c:785:9: note: in expansion of macro ‘vm_object_wakeup’
  785 |         vm_object_wakeup(object, VM_OBJECT_EVENT_PAGER_READY);
      |         ^~~~~~~~~~~~~~~~
vm/vm_object.c: In function ‘vm_object_copy_slowly’:
./include/mach/vm_param.h:87:59: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   87 | #define trunc_page(x)   ((vm_offset_t)(((vm_offset_t)(x)) & ~PAGE_MASK))
      |                                                           ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
vm/vm_object.c:1092:9: note: in expansion of macro ‘assert’
 1092 |         assert(size == trunc_page(size));       /* Will the loop terminate? */
      |         ^~~~~~
vm/vm_object.c:1092:24: note: in expansion of macro ‘trunc_page’
 1092 |         assert(size == trunc_page(size));       /* Will the loop terminate? */
      |                        ^~~~~~~~~~
vm/vm_object.c: In function ‘vm_object_copy_call’:
./vm/vm_object.h:317:30: warning: unsigned conversion from ‘int’ to ‘unsigned int’ changes value from ‘-5’ to ‘4294967291’ [-Wsign-conversion]
  317 |         (object)->all_wanted &= ~(1 << (event));                        \
      |                              ^~
./vm/vm_object.h:335:17: note: in expansion of macro ‘vm_object_wakeup’
  335 |                 vm_object_wakeup(object,                                \
      |                 ^~~~~~~~~~~~~~~~
vm/vm_object.c:1386:9: note: in expansion of macro ‘vm_object_paging_end’
 1386 |         vm_object_paging_end(src_object);
      |         ^~~~~~~~~~~~~~~~~~~~
vm/vm_object.c: In function ‘vm_object_enter’:
./vm/vm_object.h:317:30: warning: unsigned conversion from ‘int’ to ‘unsigned int’ changes value from ‘-2’ to ‘4294967294’ [-Wsign-conversion]
  317 |         (object)->all_wanted &= ~(1 << (event));                        \
      |                              ^~
vm/vm_object.c:2152:17: note: in expansion of macro ‘vm_object_wakeup’
 2152 |                 vm_object_wakeup(object, VM_OBJECT_EVENT_INITIALIZED);
      |                 ^~~~~~~~~~~~~~~~
vm/vm_object.c: In function ‘vm_object_pager_create’:
./vm/vm_object.h:317:30: warning: unsigned conversion from ‘int’ to ‘unsigned int’ changes value from ‘-5’ to ‘4294967291’ [-Wsign-conversion]
  317 |         (object)->all_wanted &= ~(1 << (event));                        \
      |                              ^~
./vm/vm_object.h:335:17: note: in expansion of macro ‘vm_object_wakeup’
  335 |                 vm_object_wakeup(object,                                \
      |                 ^~~~~~~~~~~~~~~~
vm/vm_object.c:2274:9: note: in expansion of macro ‘vm_object_paging_end’
 2274 |         vm_object_paging_end(object);
      |         ^~~~~~~~~~~~~~~~~~~~
In file included from ./machine/vm_param.h:29,
                 from vm/vm_object.c:43:
vm/vm_object.c: In function ‘vm_object_page_map’:
./include/mach/vm_param.h:77:25: warning: conversion from ‘long unsigned int’ to ‘int’ may change value [-Wconversion]
   77 | #define atop(x)         (((vm_size_t)(x)) >> PAGE_SHIFT)
      |                         ^
vm/vm_object.c:2944:21: note: in expansion of macro ‘atop’
 2944 |         num_pages = atop(size);
      |                     ^~~~
vm/vm_object.c: In function ‘vm_object_collapse’:
vm/vm_object.c:2496:36: warning: this statement may fall through [-Wimplicit-fallthrough=]
 2496 |                                 if ((backing_object->pager == IP_NULL) &&
      |                                    ^
vm/vm_object.c:2502:29: note: here
 2502 |                             default:
      |                             ^~~~~~~
depbase=`echo vm/vm_object_verify.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT vm/vm_object_verify.o -MD -MP -MF $depbase.Tpo -c -o vm/vm_object_verify.o vm/vm_object_verify.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from vm/vm_object_verify.c:11:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_object.h:49,
                 from vm/vm_object_verify.c:14:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53,
                 from ./vm/pmap.h:45:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from vm/vm_object_verify.c:15:
./vm/vm_object_verify.h: At top level:
./vm/vm_object_verify.h:36:18: warning: redundant redeclaration of ‘vm_object_verify_resident_count’ [-Wredundant-decls]
   36 | extern boolean_t vm_object_verify_resident_count(vm_object_t object);
      |                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
./vm/vm_object.h:283:11: note: previous declaration of ‘vm_object_verify_resident_count’ with type ‘boolean_t(struct vm_object *)’ {aka ‘int(struct vm_object *)’}
  283 | boolean_t vm_object_verify_resident_count(vm_object_t object);
      |           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
./vm/vm_object_verify.h:37:13: warning: redundant redeclaration of ‘vm_object_increment_resident_count’ [-Wredundant-decls]
   37 | extern void vm_object_increment_resident_count(vm_object_t object);
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
./vm/vm_object.h:284:6: note: previous declaration of ‘vm_object_increment_resident_count’ with type ‘void(struct vm_object *)’
  284 | void vm_object_increment_resident_count(vm_object_t object);
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
./vm/vm_object_verify.h:38:13: warning: redundant redeclaration of ‘vm_object_decrement_resident_count’ [-Wredundant-decls]
   38 | extern void vm_object_decrement_resident_count(vm_object_t object);
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
./vm/vm_object.h:285:6: note: previous declaration of ‘vm_object_decrement_resident_count’ with type ‘void(struct vm_object *)’
  285 | void vm_object_decrement_resident_count(vm_object_t object);
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
./vm/vm_object_verify.h:39:22: warning: redundant redeclaration of ‘vm_object_get_memory_stats’ [-Wredundant-decls]
   39 | extern kern_return_t vm_object_get_memory_stats(vm_object_t object, vm_object_memory_stats_t *stats);
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~~~
./vm/vm_object.h:286:15: note: previous declaration of ‘vm_object_get_memory_stats’ with type ‘kern_return_t(struct vm_object *, vm_object_memory_stats_t *)’ {aka ‘int(struct vm_object *, struct vm_object_memory_stats *)’}
  286 | kern_return_t vm_object_get_memory_stats(vm_object_t object,
      |               ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from ./vm/vm_page.h:45,
                 from vm/vm_object_verify.c:16:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
depbase=`echo vm/vm_page.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT vm/vm_page.o -MD -MP -MF $depbase.Tpo -c -o vm/vm_page.o vm/vm_page.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from vm/vm_page.c:42:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53,
                 from vm/vm_page.c:43:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./kern/thread.h:54:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53,
                 from ./ipc/ipc_kmsg.h:46,
                 from ./kern/ipc_kobject.h:44,
                 from ./ipc/ipc_port.h:47,
                 from vm/vm_page.c:46:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
vm/vm_page.c: In function ‘vm_page_init_pa’:
vm/vm_page.c:303:23: warning: conversion from ‘short unsigned int’ to ‘unsigned char:2’ may change value [-Wconversion]
  303 |     page->seg_index = seg_index;
      |                       ^~~~~~~~~
vm/vm_page.c: In function ‘vm_page_set_type’:
vm/vm_page.c:317:24: warning: conversion from ‘short unsigned int’ to ‘unsigned char:2’ may change value [-Wconversion]
  317 |         page[i].type = type;
      |                        ^~~~
vm/vm_page.c: In function ‘vm_page_remove_mappings’:
vm/vm_page.c:350:23: warning: conversion from ‘boolean_t’ {aka ‘int’} to ‘unsigned char:1’ may change value [-Wconversion]
  350 |         page->dirty = pmap_is_modified(page->phys_addr);
      |                       ^~~~~~~~~~~~~~~~
vm/vm_page.c: In function ‘vm_page_seg_alloc_from_buddy’:
vm/vm_page.c:421:24: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  421 |         buddy->order = i;
      |                        ^
vm/vm_page.c: In function ‘vm_page_seg_free_to_buddy’:
vm/vm_page.c:468:19: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  468 |     page->order = order;
      |                   ^~~~~
vm/vm_page.c: In function ‘vm_page_seg_index’:
vm/vm_page.c:589:13: warning: conversion from ‘long int’ to ‘unsigned int’ may change value [-Wconversion]
  589 |     index = seg - vm_page_segs;
      |             ^~~
vm/vm_page.c: In function ‘vm_page_seg_compute_pool_size’:
vm/vm_page.c:612:12: warning: conversion from ‘phys_addr_t’ {aka ‘long long unsigned int’} to ‘int’ may change value [-Wconversion]
  612 |     return size;
      |            ^~~~
vm/vm_page.c: In function ‘vm_page_seg_init’:
vm/vm_page.c:689:64: warning: conversion from ‘unsigned int’ to ‘short unsigned int’ may change value [-Wconversion]
  689 |         vm_page_init_pa(&pages[vm_page_atop(pa - seg->start)], i, pa);
      |                                                                ^
vm/vm_page.c: In function ‘vm_page_seg_balance’:
vm/vm_page.c:1207:38: warning: conversion from ‘unsigned int’ to ‘short unsigned int’ may change value [-Wconversion]
 1207 |         remote_seg = vm_page_seg_get(i);
      |                                      ^
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/sys/types.h:29,
                 from ./include/string.h:29,
                 from vm/vm_page.c:34:
vm/vm_page.c: In function ‘vm_page_bootalloc’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
vm/vm_page.c:1604:33: note: in expansion of macro ‘vm_page_round’
 1604 |             seg->avail_start += vm_page_round(size);
      |                                 ^~~~~~~~~~~~~
vm/vm_page.c: In function ‘vm_page_setup’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
vm/vm_page.c:1633:18: note: in expansion of macro ‘vm_page_round’
 1633 |     table_size = vm_page_round(nr_pages * sizeof(struct vm_page));
      |                  ^~~~~~~~~~~~~
vm/vm_page.c: In function ‘vm_page_check_usable’:
vm/vm_page.c:2106:31: warning: conversion from ‘unsigned int’ to ‘short unsigned int’ may change value [-Wconversion]
 2106 |         seg = vm_page_seg_get(i);
      |                               ^
vm/vm_page.c: In function ‘vm_page_may_balance’:
vm/vm_page.c:2131:31: warning: conversion from ‘unsigned int’ to ‘short unsigned int’ may change value [-Wconversion]
 2131 |         seg = vm_page_seg_get(i);
      |                               ^
vm/vm_page.c: In function ‘vm_page_balance_once’:
vm/vm_page.c:2157:56: warning: conversion from ‘unsigned int’ to ‘short unsigned int’ may change value [-Wconversion]
 2157 |         balanced = vm_page_seg_balance(vm_page_seg_get(i));
      |                                                        ^
vm/vm_page.c: In function ‘vm_page_evict_once’:
vm/vm_page.c:2195:53: warning: conversion from ‘unsigned int’ to ‘short unsigned int’ may change value [-Wconversion]
 2195 |         evicted = vm_page_seg_evict(vm_page_seg_get(i),
      |                                                     ^
vm/vm_page.c: In function ‘vm_page_refill_inactive’:
vm/vm_page.c:2295:53: warning: conversion from ‘unsigned int’ to ‘short unsigned int’ may change value [-Wconversion]
 2295 |         vm_page_seg_refill_inactive(vm_page_seg_get(i));
      |                                                     ^
depbase=`echo vm/vm_pageout.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT vm/vm_pageout.o -MD -MP -MF $depbase.Tpo -c -o vm/vm_pageout.o vm/vm_pageout.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./device/net_io.h:39,
                 from vm/vm_pageout.c:37:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from ./vm/pmap.h:45:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ./vm/vm_map.h:52:
vm/vm_pageout.c: In function ‘vm_pageout_page’:
./vm/vm_object.h:317:30: warning: unsigned conversion from ‘int’ to ‘unsigned int’ changes value from ‘-5’ to ‘4294967291’ [-Wsign-conversion]
  317 |         (object)->all_wanted &= ~(1 << (event));                        \
      |                              ^~
./vm/vm_object.h:335:17: note: in expansion of macro ‘vm_object_wakeup’
  335 |                 vm_object_wakeup(object,                                \
      |                 ^~~~~~~~~~~~~~~~
vm/vm_pageout.c:403:9: note: in expansion of macro ‘vm_object_paging_end’
  403 |         vm_object_paging_end(old_object);
      |         ^~~~~~~~~~~~~~~~~~~~
depbase=`echo vm/vm_resident.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT vm/vm_resident.o -MD -MP -MF $depbase.Tpo -c -o vm/vm_resident.o vm/vm_resident.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from vm/vm_resident.c:36:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from vm/vm_resident.c:44:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./kern/thread.h:54,
                 from vm/vm_resident.c:45:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53,
                 from vm/vm_resident.c:51:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ./machine/vm_param.h:29,
                 from vm/vm_resident.c:47:
vm/vm_resident.c: In function ‘vm_page_bootstrap’:
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
vm/vm_resident.c:232:31: note: in expansion of macro ‘round_page’
  232 |         virtual_space_start = round_page(virtual_space_start);
      |                               ^~~~~~~~~~
./include/mach/vm_param.h:87:59: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   87 | #define trunc_page(x)   ((vm_offset_t)(((vm_offset_t)(x)) & ~PAGE_MASK))
      |                                                           ^
vm/vm_resident.c:233:29: note: in expansion of macro ‘trunc_page’
  233 |         virtual_space_end = trunc_page(virtual_space_end);
      |                             ^~~~~~~~~~
vm/vm_resident.c: In function ‘pmap_steal_memory’:
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
vm/vm_resident.c:251:16: note: in expansion of macro ‘round_page’
  251 |         size = round_page(size);
      |                ^~~~~~~~~~
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
vm/vm_resident.c:266:39: note: in expansion of macro ‘round_page’
  266 |                 virtual_space_start = round_page(virtual_space_start);
      |                                       ^~~~~~~~~~
./include/mach/vm_param.h:87:59: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   87 | #define trunc_page(x)   ((vm_offset_t)(((vm_offset_t)(x)) & ~PAGE_MASK))
      |                                                           ^
vm/vm_resident.c:267:37: note: in expansion of macro ‘trunc_page’
  267 |                 virtual_space_end = trunc_page(virtual_space_end);
      |                                     ^~~~~~~~~~
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
vm/vm_resident.c:281:22: note: in expansion of macro ‘round_page’
  281 |         for (vaddr = round_page(addr);
      |                      ^~~~~~~~~~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/sys/types.h:29,
                 from ./kern/printf.h:27:
vm/vm_resident.c: In function ‘vm_page_readahead_trigger’:
./kern/macros.h:52:46: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   52 | #define MIN(a, b)           ((a) < (b) ? (a) : (b))
      |                                              ^
vm/vm_resident.c:427:52: note: in expansion of macro ‘MIN’
  427 |                         object->readahead_window = MIN(object->readahead_window * 2,
      |                                                    ^~~
vm/vm_resident.c:433:44: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  433 |                 object->readahead_window = vm_page_readahead_min;
      |                                            ^~~~~~~~~~~~~~~~~~~~~
./kern/macros.h:52:46: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   52 | #define MIN(a, b)           ((a) < (b) ? (a) : (b))
      |                                              ^
vm/vm_resident.c:443:23: note: in expansion of macro ‘MIN’
  443 |         window_size = MIN(object->readahead_window, vm_page_readahead_max);
      |                       ^~~
vm/vm_resident.c: In function ‘vm_page_grab_phys_addr’:
vm/vm_resident.c:917:24: warning: unsigned conversion from ‘int’ to ‘phys_addr_t’ {aka ‘long long unsigned int’} changes value from ‘-1’ to ‘18446744073709551615’ [-Wsign-conversion]
  917 |                 return -1;
      |                        ^
In file included from ./vm/vm_map.h:52:
vm/vm_resident.c: In function ‘vm_page_free’:
./vm/vm_object.h:317:30: warning: unsigned conversion from ‘int’ to ‘unsigned int’ changes value from ‘-9’ to ‘4294967287’ [-Wsign-conversion]
  317 |         (object)->all_wanted &= ~(1 << (event));                        \
      |                              ^~
./vm/vm_object.h:365:9: note: in expansion of macro ‘vm_object_wakeup’
  365 |         vm_object_wakeup((object),                                      \
      |         ^~~~~~~~~~~~~~~~
vm/vm_resident.c:1089:17: note: in expansion of macro ‘vm_object_absent_release’
 1089 |                 vm_object_absent_release(mem->object);
      |                 ^~~~~~~~~~~~~~~~~~~~~~~~
vm/vm_resident.c: In function ‘vm_page_info’:
vm/vm_resident.c:1158:25: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
 1158 |                 count = vm_page_bucket_count;
      |                         ^~~~~~~~~~~~~~~~~~~~
vm/vm_resident.c:1174:16: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
 1174 |         return vm_page_bucket_count;
      |                ^~~~~~~~~~~~~~~~~~~~
depbase=`echo vm/vm_user.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT vm/vm_user.o -MD -MP -MF $depbase.Tpo -c -o vm/vm_user.o vm/vm_user.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from vm/vm_user.c:35:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./kern/ipc_kobject.h:44,
                 from ./kern/gnumach.server.h:12,
                 from vm/vm_user.c:43:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ./kern/gnumach.server.h:13:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
In file included from ./kern/thread.h:53,
                 from ./vm/pmap.h:45:
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
In file included from ./ipc/ipc_space.h:52,
                 from ./kern/gnumach.server.h:21:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/mach/machine.h:36,
                 from ./include/mach/host_info.h:35,
                 from ./include/mach/mach_types.h:38:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./kern/gnumach.server.h: At top level:
./kern/gnumach.server.h:49:15: warning: redundant redeclaration of ‘thread_terminate_release’ [-Wredundant-decls]
   49 | kern_return_t thread_terminate_release
      |               ^~~~~~~~~~~~~~~~~~~~~~~~
./kern/thread.h:299:25: note: previous declaration of ‘thread_terminate_release’ with type ‘kern_return_t(struct thread *, struct task *, mach_port_name_t,  mach_port_name_t,  vm_offset_t,  vm_size_t)’ {aka ‘int(struct thread *, struct task *, unsigned int,  unsigned int,  long unsigned int,  long unsigned int)’}
  299 | extern kern_return_t    thread_terminate_release(
      |                         ^~~~~~~~~~~~~~~~~~~~~~~~
./kern/gnumach.server.h:68:15: warning: redundant redeclaration of ‘task_set_name’ [-Wredundant-decls]
   68 | kern_return_t task_set_name
      |               ^~~~~~~~~~~~~
./kern/task.h:178:25: note: previous declaration of ‘task_set_name’ with type ‘kern_return_t(struct task *, const char *)’ {aka ‘int(struct task *, const char *)’}
  178 | extern kern_return_t    task_set_name(
      |                         ^~~~~~~~~~~~~
./kern/gnumach.server.h:259:15: warning: redundant redeclaration of ‘thread_set_name’ [-Wredundant-decls]
  259 | kern_return_t thread_set_name
      |               ^~~~~~~~~~~~~~~
./kern/thread.h:362:22: note: previous declaration of ‘thread_set_name’ with type ‘kern_return_t(struct thread *, const char *)’ {aka ‘int(struct thread *, const char *)’}
  362 | extern kern_return_t thread_set_name(
      |                      ^~~~~~~~~~~~~~~
./kern/gnumach.server.h:274:15: warning: redundant redeclaration of ‘thread_get_name’ [-Wredundant-decls]
  274 | kern_return_t thread_get_name
      |               ^~~~~~~~~~~~~~~
./kern/thread.h:365:22: note: previous declaration of ‘thread_get_name’ with type ‘kern_return_t(struct thread *, char *)’ {aka ‘int(struct thread *, char *)’}
  365 | extern kern_return_t thread_get_name(
      |                      ^~~~~~~~~~~~~~~
In file included from vm/vm_user.c:45:
./kern/mach.server.h:33:15: warning: redundant redeclaration of ‘task_create’ [-Wredundant-decls]
   33 | kern_return_t task_create
      |               ^~~~~~~~~~~
./kern/task.h:140:25: note: previous declaration of ‘task_create’ with type ‘kern_return_t(struct task *, boolean_t,  struct task **)’ {aka ‘int(struct task *, int,  struct task **)’}
  140 | extern kern_return_t    task_create(
      |                         ^~~~~~~~~~~
./kern/mach.server.h:49:15: warning: redundant redeclaration of ‘task_terminate’ [-Wredundant-decls]
   49 | kern_return_t task_terminate
      |               ^~~~~~~~~~~~~~
./kern/task.h:148:25: note: previous declaration of ‘task_terminate’ with type ‘kern_return_t(struct task *)’ {aka ‘int(struct task *)’}
  148 | extern kern_return_t    task_terminate(
      |                         ^~~~~~~~~~~~~~
./kern/mach.server.h:97:15: warning: redundant redeclaration of ‘task_threads’ [-Wredundant-decls]
   97 | kern_return_t task_threads
      |               ^~~~~~~~~~~~
./kern/task.h:154:25: note: previous declaration of ‘task_threads’ with type ‘kern_return_t(struct task *, mach_port_t **, natural_t *)’ {aka ‘int(struct task *, long unsigned int **, unsigned int *)’}
  154 | extern kern_return_t    task_threads(
      |                         ^~~~~~~~~~~~
./kern/mach.server.h:113:15: warning: redundant redeclaration of ‘task_info’ [-Wredundant-decls]
  113 | kern_return_t task_info
      |               ^~~~~~~~~
./kern/task.h:158:25: note: previous declaration of ‘task_info’ with type ‘kern_return_t(struct task *, int,  integer_t *, natural_t *)’ {aka ‘int(struct task *, int,  int *, unsigned int *)’}
  158 | extern kern_return_t    task_info(
      |                         ^~~~~~~~~
./kern/mach.server.h:130:15: warning: redundant redeclaration of ‘thread_terminate’ [-Wredundant-decls]
  130 | kern_return_t thread_terminate
      |               ^~~~~~~~~~~~~~~~
./kern/thread.h:297:25: note: previous declaration of ‘thread_terminate’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  297 | extern kern_return_t    thread_terminate(
      |                         ^~~~~~~~~~~~~~~~
./kern/mach.server.h:144:15: warning: redundant redeclaration of ‘thread_get_state’ [-Wredundant-decls]
  144 | kern_return_t thread_get_state
      |               ^~~~~~~~~~~~~~~~
./kern/thread.h:333:25: note: previous declaration of ‘thread_get_state’ with type ‘kern_return_t(struct thread *, int,  natural_t *, natural_t *)’ {aka ‘int(struct thread *, int,  unsigned int *, unsigned int *)’}
  333 | extern kern_return_t    thread_get_state(
      |                         ^~~~~~~~~~~~~~~~
./kern/mach.server.h:161:15: warning: redundant redeclaration of ‘thread_set_state’ [-Wredundant-decls]
  161 | kern_return_t thread_set_state
      |               ^~~~~~~~~~~~~~~~
./kern/thread.h:338:25: note: previous declaration of ‘thread_set_state’ with type ‘kern_return_t(struct thread *, int,  natural_t *, natural_t)’ {aka ‘int(struct thread *, int,  unsigned int *, unsigned int)’}
  338 | extern kern_return_t    thread_set_state(
      |                         ^~~~~~~~~~~~~~~~
./kern/mach.server.h:178:15: warning: redundant redeclaration of ‘thread_info’ [-Wredundant-decls]
  178 | kern_return_t thread_info
      |               ^~~~~~~~~~~
./kern/thread.h:351:25: note: previous declaration of ‘thread_info’ with type ‘kern_return_t(struct thread *, int,  integer_t *, natural_t *)’ {aka ‘int(struct thread *, int,  int *, unsigned int *)’}
  351 | extern kern_return_t    thread_info(
      |                         ^~~~~~~~~~~
./kern/mach.server.h:453:15: warning: redundant redeclaration of ‘task_suspend’ [-Wredundant-decls]
  453 | kern_return_t task_suspend
      |               ^~~~~~~~~~~~
./kern/task.h:150:25: note: previous declaration of ‘task_suspend’ with type ‘kern_return_t(struct task *)’ {aka ‘int(struct task *)’}
  150 | extern kern_return_t    task_suspend(
      |                         ^~~~~~~~~~~~
./kern/mach.server.h:467:15: warning: redundant redeclaration of ‘task_resume’ [-Wredundant-decls]
  467 | kern_return_t task_resume
      |               ^~~~~~~~~~~
./kern/task.h:152:25: note: previous declaration of ‘task_resume’ with type ‘kern_return_t(struct task *)’ {aka ‘int(struct task *)’}
  152 | extern kern_return_t    task_resume(
      |                         ^~~~~~~~~~~
./kern/mach.server.h:481:15: warning: redundant redeclaration of ‘task_get_special_port’ [-Wredundant-decls]
  481 | kern_return_t task_get_special_port
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/task.h:163:25: note: previous declaration of ‘task_get_special_port’ with type ‘kern_return_t(struct task *, int,  struct ipc_port **)’ {aka ‘int(struct task *, int,  struct ipc_port **)’}
  163 | extern kern_return_t    task_get_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~
./kern/mach.server.h:497:15: warning: redundant redeclaration of ‘task_set_special_port’ [-Wredundant-decls]
  497 | kern_return_t task_set_special_port
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/task.h:167:25: note: previous declaration of ‘task_set_special_port’ with type ‘kern_return_t(struct task *, int,  struct ipc_port *)’ {aka ‘int(struct task *, int,  struct ipc_port *)’}
  167 | extern kern_return_t    task_set_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~
./kern/mach.server.h:513:15: warning: redundant redeclaration of ‘thread_create’ [-Wredundant-decls]
  513 | kern_return_t thread_create
      |               ^~~~~~~~~~~~~
./kern/thread.h:294:25: note: previous declaration of ‘thread_create’ with type ‘kern_return_t(struct task *, struct thread **)’ {aka ‘int(struct task *, struct thread **)’}
  294 | extern kern_return_t    thread_create(
      |                         ^~~~~~~~~~~~~
./kern/mach.server.h:528:15: warning: redundant redeclaration of ‘thread_suspend’ [-Wredundant-decls]
  528 | kern_return_t thread_suspend
      |               ^~~~~~~~~~~~~~
./kern/thread.h:306:25: note: previous declaration of ‘thread_suspend’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  306 | extern kern_return_t    thread_suspend(
      |                         ^~~~~~~~~~~~~~
./kern/mach.server.h:542:15: warning: redundant redeclaration of ‘thread_resume’ [-Wredundant-decls]
  542 | kern_return_t thread_resume
      |               ^~~~~~~~~~~~~
./kern/thread.h:308:25: note: previous declaration of ‘thread_resume’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  308 | extern kern_return_t    thread_resume(
      |                         ^~~~~~~~~~~~~
./kern/mach.server.h:556:15: warning: redundant redeclaration of ‘thread_abort’ [-Wredundant-decls]
  556 | kern_return_t thread_abort
      |               ^~~~~~~~~~~~
./kern/thread.h:310:25: note: previous declaration of ‘thread_abort’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  310 | extern kern_return_t    thread_abort(
      |                         ^~~~~~~~~~~~
./kern/mach.server.h:570:15: warning: redundant redeclaration of ‘thread_get_special_port’ [-Wredundant-decls]
  570 | kern_return_t thread_get_special_port
      |               ^~~~~~~~~~~~~~~~~~~~~~~
./kern/thread.h:343:25: note: previous declaration of ‘thread_get_special_port’ with type ‘kern_return_t(struct thread *, int,  struct ipc_port **)’ {aka ‘int(struct thread *, int,  struct ipc_port **)’}
  343 | extern kern_return_t    thread_get_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
./kern/mach.server.h:586:15: warning: redundant redeclaration of ‘thread_set_special_port’ [-Wredundant-decls]
  586 | kern_return_t thread_set_special_port
      |               ^~~~~~~~~~~~~~~~~~~~~~~
./kern/thread.h:347:25: note: previous declaration of ‘thread_set_special_port’ with type ‘kern_return_t(struct thread *, int,  struct ipc_port *)’ {aka ‘int(struct thread *, int,  struct ipc_port *)’}
  347 | extern kern_return_t    thread_set_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
In file included from vm/vm_user.c:46:
./kern/mach_host.server.h:49:15: warning: redundant redeclaration of ‘processor_start’ [-Wredundant-decls]
   49 | kern_return_t processor_start
      |               ^~~~~~~~~~~~~~~
In file included from ./kern/thread.h:48:
./kern/processor.h:296:22: note: previous declaration of ‘processor_start’ with type ‘kern_return_t(struct processor *)’ {aka ‘int(struct processor *)’}
  296 | extern kern_return_t processor_start(
      |                      ^~~~~~~~~~~~~~~
./kern/mach_host.server.h:63:15: warning: redundant redeclaration of ‘processor_exit’ [-Wredundant-decls]
   63 | kern_return_t processor_exit
      |               ^~~~~~~~~~~~~~
./kern/processor.h:299:22: note: previous declaration of ‘processor_exit’ with type ‘kern_return_t(struct processor *)’ {aka ‘int(struct processor *)’}
  299 | extern kern_return_t processor_exit(
      |                      ^~~~~~~~~~~~~~
./kern/mach_host.server.h:92:15: warning: redundant redeclaration of ‘processor_set_create’ [-Wredundant-decls]
   92 | kern_return_t processor_set_create
      |               ^~~~~~~~~~~~~~~~~~~~
./kern/processor.h:309:22: note: previous declaration of ‘processor_set_create’ with type ‘kern_return_t(struct host *, struct processor_set **, struct processor_set **)’ {aka ‘int(struct host *, struct processor_set **, struct processor_set **)’}
  309 | extern kern_return_t processor_set_create(
      |                      ^~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:108:15: warning: redundant redeclaration of ‘processor_set_destroy’ [-Wredundant-decls]
  108 | kern_return_t processor_set_destroy
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:314:22: note: previous declaration of ‘processor_set_destroy’ with type ‘kern_return_t(struct processor_set *)’ {aka ‘int(struct processor_set *)’}
  314 | extern kern_return_t processor_set_destroy(
      |                      ^~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:138:15: warning: redundant redeclaration of ‘processor_get_assignment’ [-Wredundant-decls]
  138 | kern_return_t processor_get_assignment
      |               ^~~~~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:285:22: note: previous declaration of ‘processor_get_assignment’ with type ‘kern_return_t(struct processor *, struct processor_set **)’ {aka ‘int(struct processor *, struct processor_set **)’}
  285 | extern kern_return_t processor_get_assignment(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:153:15: warning: redundant redeclaration of ‘thread_assign’ [-Wredundant-decls]
  153 | kern_return_t thread_assign
      |               ^~~~~~~~~~~~~
./kern/thread.h:356:25: note: previous declaration of ‘thread_assign’ with type ‘kern_return_t(struct thread *, struct processor_set *)’ {aka ‘int(struct thread *, struct processor_set *)’}
  356 | extern kern_return_t    thread_assign(
      |                         ^~~~~~~~~~~~~
./kern/mach_host.server.h:168:15: warning: redundant redeclaration of ‘thread_assign_default’ [-Wredundant-decls]
  168 | kern_return_t thread_assign_default
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/thread.h:359:25: note: previous declaration of ‘thread_assign_default’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  359 | extern kern_return_t    thread_assign_default(
      |                         ^~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:197:15: warning: redundant redeclaration of ‘task_assign’ [-Wredundant-decls]
  197 | kern_return_t task_assign
      |               ^~~~~~~~~~~
./kern/task.h:171:25: note: previous declaration of ‘task_assign’ with type ‘kern_return_t(struct task *, struct processor_set *, boolean_t)’ {aka ‘int(struct task *, struct processor_set *, int)’}
  171 | extern kern_return_t    task_assign(
      |                         ^~~~~~~~~~~
./kern/mach_host.server.h:213:15: warning: redundant redeclaration of ‘task_assign_default’ [-Wredundant-decls]
  213 | kern_return_t task_assign_default
      |               ^~~~~~~~~~~~~~~~~~~
./kern/task.h:175:25: note: previous declaration of ‘task_assign_default’ with type ‘kern_return_t(struct task *, boolean_t)’ {aka ‘int(struct task *, int)’}
  175 | extern kern_return_t    task_assign_default(
      |                         ^~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:258:15: warning: redundant redeclaration of ‘thread_priority’ [-Wredundant-decls]
  258 | kern_return_t thread_priority
      |               ^~~~~~~~~~~~~~~
./kern/thread.h:315:25: note: previous declaration of ‘thread_priority’ with type ‘kern_return_t(struct thread *, int,  boolean_t)’ {aka ‘int(struct thread *, int,  int)’}
  315 | extern kern_return_t    thread_priority(
      |                         ^~~~~~~~~~~~~~~
./kern/mach_host.server.h:274:15: warning: redundant redeclaration of ‘thread_max_priority’ [-Wredundant-decls]
  274 | kern_return_t thread_max_priority
      |               ^~~~~~~~~~~~~~~~~~~
./kern/thread.h:321:25: note: previous declaration of ‘thread_max_priority’ with type ‘kern_return_t(struct thread *, struct processor_set *, int)’ {aka ‘int(struct thread *, struct processor_set *, int)’}
  321 | extern kern_return_t    thread_max_priority(
      |                         ^~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:306:15: warning: redundant redeclaration of ‘processor_set_max_priority’ [-Wredundant-decls]
  306 | kern_return_t processor_set_max_priority
      |               ^~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:324:22: note: previous declaration of ‘processor_set_max_priority’ with type ‘kern_return_t(struct processor_set *, int,  boolean_t)’ {aka ‘int(struct processor_set *, int,  int)’}
  324 | extern kern_return_t processor_set_max_priority(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:322:15: warning: redundant redeclaration of ‘thread_policy’ [-Wredundant-decls]
  322 | kern_return_t thread_policy
      |               ^~~~~~~~~~~~~
./kern/thread.h:325:25: note: previous declaration of ‘thread_policy’ with type ‘kern_return_t(struct thread *, int,  int)’ {aka ‘int(struct thread *, int,  int)’}
  325 | extern kern_return_t    thread_policy(
      |                         ^~~~~~~~~~~~~
./kern/mach_host.server.h:338:15: warning: redundant redeclaration of ‘processor_set_policy_enable’ [-Wredundant-decls]
  338 | kern_return_t processor_set_policy_enable
      |               ^~~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:329:22: note: previous declaration of ‘processor_set_policy_enable’ with type ‘kern_return_t(struct processor_set *, int)’ {aka ‘int(struct processor_set *, int)’}
  329 | extern kern_return_t processor_set_policy_enable(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:353:15: warning: redundant redeclaration of ‘processor_set_policy_disable’ [-Wredundant-decls]
  353 | kern_return_t processor_set_policy_disable
      |               ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:333:22: note: previous declaration of ‘processor_set_policy_disable’ with type ‘kern_return_t(struct processor_set *, int,  boolean_t)’ {aka ‘int(struct processor_set *, int,  int)’}
  333 | extern kern_return_t processor_set_policy_disable(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:369:15: warning: redundant redeclaration of ‘processor_set_tasks’ [-Wredundant-decls]
  369 | kern_return_t processor_set_tasks
      |               ^~~~~~~~~~~~~~~~~~~
./kern/processor.h:338:22: note: previous declaration of ‘processor_set_tasks’ with type ‘kern_return_t(struct processor_set *, mach_port_t **, natural_t *)’ {aka ‘int(struct processor_set *, long unsigned int **, unsigned int *)’}
  338 | extern kern_return_t processor_set_tasks(
      |                      ^~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:385:15: warning: redundant redeclaration of ‘processor_set_threads’ [-Wredundant-decls]
  385 | kern_return_t processor_set_threads
      |               ^~~~~~~~~~~~~~~~~~~~~
./kern/processor.h:343:22: note: previous declaration of ‘processor_set_threads’ with type ‘kern_return_t(struct processor_set *, mach_port_t **, natural_t *)’ {aka ‘int(struct processor_set *, long unsigned int **, unsigned int *)’}
  343 | extern kern_return_t processor_set_threads(
      |                      ^~~~~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:559:15: warning: redundant redeclaration of ‘processor_info’ [-Wredundant-decls]
  559 | kern_return_t processor_info
      |               ^~~~~~~~~~~~~~
./kern/processor.h:289:22: note: previous declaration of ‘processor_info’ with type ‘kern_return_t(struct processor *, int,  struct host **, integer_t *, natural_t *)’ {aka ‘int(struct processor *, int,  struct host **, int *, unsigned int *)’}
  289 | extern kern_return_t processor_info(
      |                      ^~~~~~~~~~~~~~
./kern/mach_host.server.h:577:15: warning: redundant redeclaration of ‘processor_set_info’ [-Wredundant-decls]
  577 | kern_return_t processor_set_info
      |               ^~~~~~~~~~~~~~~~~~
./kern/processor.h:317:22: note: previous declaration of ‘processor_set_info’ with type ‘kern_return_t(struct processor_set *, int,  struct host **, integer_t *, natural_t *)’ {aka ‘int(struct processor_set *, int,  struct host **, int *, unsigned int *)’}
  317 | extern kern_return_t processor_set_info(
      |                      ^~~~~~~~~~~~~~~~~~
./kern/mach_host.server.h:595:15: warning: redundant redeclaration of ‘processor_control’ [-Wredundant-decls]
  595 | kern_return_t processor_control
      |               ^~~~~~~~~~~~~~~~~
./kern/processor.h:302:22: note: previous declaration of ‘processor_control’ with type ‘kern_return_t(struct processor *, integer_t *, natural_t)’ {aka ‘int(struct processor *, int *, unsigned int)’}
  302 | extern kern_return_t processor_control(
      |                      ^~~~~~~~~~~~~~~~~
In file included from vm/vm_user.c:39:
vm/vm_user.c: In function ‘vm_allocate’:
./include/mach/vm_param.h:87:59: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   87 | #define trunc_page(x)   ((vm_offset_t)(((vm_offset_t)(x)) & ~PAGE_MASK))
      |                                                           ^
vm/vm_user.c:88:25: note: in expansion of macro ‘trunc_page’
   88 |                 *addr = trunc_page(*addr);
      |                         ^~~~~~~~~~
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
vm/vm_user.c:89:16: note: in expansion of macro ‘round_page’
   89 |         size = round_page(size);
      |                ^~~~~~~~~~
vm/vm_user.c: In function ‘vm_deallocate’:
./include/mach/vm_param.h:87:59: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   87 | #define trunc_page(x)   ((vm_offset_t)(((vm_offset_t)(x)) & ~PAGE_MASK))
      |                                                           ^
vm/vm_user.c:122:35: note: in expansion of macro ‘trunc_page’
  122 |         return(vm_map_remove(map, trunc_page(start), round_page(start+size)));
      |                                   ^~~~~~~~~~
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
vm/vm_user.c:122:54: note: in expansion of macro ‘round_page’
  122 |         return(vm_map_remove(map, trunc_page(start), round_page(start+size)));
      |                                                      ^~~~~~~~~~
vm/vm_user.c: In function ‘vm_inherit’:
./include/mach/vm_param.h:87:59: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   87 | #define trunc_page(x)   ((vm_offset_t)(((vm_offset_t)(x)) & ~PAGE_MASK))
      |                                                           ^
vm/vm_user.c:153:31: note: in expansion of macro ‘trunc_page’
  153 |                               trunc_page(start),
      |                               ^~~~~~~~~~
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
vm/vm_user.c:154:31: note: in expansion of macro ‘round_page’
  154 |                               round_page(start+size),
      |                               ^~~~~~~~~~
vm/vm_user.c: In function ‘vm_protect’:
./include/mach/vm_param.h:87:59: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   87 | #define trunc_page(x)   ((vm_offset_t)(((vm_offset_t)(x)) & ~PAGE_MASK))
      |                                                           ^
vm/vm_user.c:180:31: note: in expansion of macro ‘trunc_page’
  180 |                               trunc_page(start),
      |                               ^~~~~~~~~~
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
vm/vm_user.c:181:31: note: in expansion of macro ‘round_page’
  181 |                               round_page(start+size),
      |                               ^~~~~~~~~~
vm/vm_user.c: In function ‘vm_statistics’:
vm/vm_user.c:196:28: warning: conversion from ‘long unsigned int’ to ‘integer_t’ {aka ‘int’} may change value [-Wconversion]
  196 |         stat->free_count = vm_page_mem_free();
      |                            ^~~~~~~~~~~~~~~~
vm/vm_user.c: In function ‘vm_read’:
vm/vm_user.c:268:30: warning: conversion from ‘vm_size_t’ {aka ‘long unsigned int’} to ‘mach_msg_type_number_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  268 |                 *data_size = size;
      |                              ^~~~
vm/vm_user.c: In function ‘vm_map’:
./include/mach/vm_param.h:87:59: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   87 | #define trunc_page(x)   ((vm_offset_t)(((vm_offset_t)(x)) & ~PAGE_MASK))
      |                                                           ^
vm/vm_user.c:355:20: note: in expansion of macro ‘trunc_page’
  355 |         *address = trunc_page(*address);
      |                    ^~~~~~~~~~
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
vm/vm_user.c:356:16: note: in expansion of macro ‘round_page’
  356 |         size = round_page(size);
      |                ^~~~~~~~~~
vm/vm_user.c: In function ‘vm_wire’:
./include/mach/vm_param.h:87:59: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   87 | #define trunc_page(x)   ((vm_offset_t)(((vm_offset_t)(x)) & ~PAGE_MASK))
      |                                                           ^
vm/vm_user.c:480:37: note: in expansion of macro ‘trunc_page’
  480 |         return vm_map_pageable(map, trunc_page(start), round_page(start+size),
      |                                     ^~~~~~~~~~
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
vm/vm_user.c:480:56: note: in expansion of macro ‘round_page’
  480 |         return vm_map_pageable(map, trunc_page(start), round_page(start+size),
      |                                                        ^~~~~~~~~~
vm/vm_user.c: In function ‘vm_object_sync’:
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
vm/vm_user.c:538:16: note: in expansion of macro ‘round_page’
  538 |         size = round_page(offset + size) - trunc_page(offset);
      |                ^~~~~~~~~~
./include/mach/vm_param.h:87:59: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   87 | #define trunc_page(x)   ((vm_offset_t)(((vm_offset_t)(x)) & ~PAGE_MASK))
      |                                                           ^
vm/vm_user.c:538:44: note: in expansion of macro ‘trunc_page’
  538 |         size = round_page(offset + size) - trunc_page(offset);
      |                                            ^~~~~~~~~~
./include/mach/vm_param.h:87:59: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   87 | #define trunc_page(x)   ((vm_offset_t)(((vm_offset_t)(x)) & ~PAGE_MASK))
      |                                                           ^
vm/vm_user.c:539:18: note: in expansion of macro ‘trunc_page’
  539 |         offset = trunc_page(offset);
      |                  ^~~~~~~~~~
vm/vm_user.c: In function ‘vm_allocate_contiguous’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘vm_size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
vm/vm_user.c:641:16: note: in expansion of macro ‘vm_page_round’
  641 |         size = vm_page_round(size);
      |                ^~~~~~~~~~~~~
./vm/vm_page.h:329:33: warning: conversion from ‘vm_size_t’ {aka ‘long unsigned int’} to ‘unsigned int’ may change value [-Wconversion]
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                 ^
vm/vm_user.c:658:18: note: in expansion of macro ‘vm_page_atop’
  658 |         npages = vm_page_atop(alloc_size);
      |                  ^~~~~~~~~~~~
./vm/vm_page.h:329:33: warning: conversion from ‘vm_size_t’ {aka ‘long unsigned int’} to ‘unsigned int’ may change value [-Wconversion]
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                 ^
vm/vm_user.c:684:18: note: in expansion of macro ‘vm_page_atop’
  684 |         for (i = vm_page_atop(size); i < npages; i++) {
      |                  ^~~~~~~~~~~~
vm/vm_user.c: In function ‘vm_pages_phys’:
./include/mach/vm_param.h:77:25: warning: conversion from ‘long unsigned int’ to ‘mach_msg_type_number_t’ {aka ‘unsigned int’} may change value [-Wconversion]
   77 | #define atop(x)         (((vm_size_t)(x)) >> PAGE_SHIFT)
      |                         ^
vm/vm_user.c:744:40: note: in expansion of macro ‘atop’
  744 |         mach_msg_type_number_t count = atop(size), cur;
      |                                        ^~~~
depbase=`echo device/blkio.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT device/blkio.o -MD -MP -MF $depbase.Tpo -c -o device/blkio.o device/blkio.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./device/io_req.h:38,
                 from ./device/buf.h:39,
                 from device/blkio.c:35:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./device/io_req.h:41:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from ./vm/pmap.h:45:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
rm -f device/device_reply.user.defs.c
cp -p device/device_reply.cli device/device_reply.user.defs.c
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa -E  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT device/lib_dep_tr_for_defs_a-device_reply.user.defs.o -MD -MP -MF device/.deps/lib_dep_tr_for_defs_a-device_reply.user.defs.Tpo -c -o device/lib_dep_tr_for_defs_a-device_reply.user.defs.o `test -f 'device/device_reply.user.defs.c' || echo './'`device/device_reply.user.defs.c
mv -f device/.deps/lib_dep_tr_for_defs_a-device_reply.user.defs.Tpo device/.deps/lib_dep_tr_for_defs_a-device_reply.user.defs.Po
/home/runner/work/cognu-mach/cognu-mach/scripts/mig-wrapper.sh -n -cc cat - /dev/null  	\
  -user device/device_reply.user.c -header device/device_reply.user.h			\
  -list device/device_reply.user.msgids					\
  < device/lib_dep_tr_for_defs_a-device_reply.user.defs.o
Fixed 64-bit type size assertions in device/device_reply.user.c
depbase=`echo device/chario.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT device/chario.o -MD -MP -MF $depbase.Tpo -c -o device/chario.o device/chario.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./kern/ipc_kobject.h:44,
                 from ./ipc/ipc_port.h:47,
                 from device/chario.c:39:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from ./vm/pmap.h:45:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
device/chario.c: In function ‘char_write’:
device/chario.c:254:17: warning: conversion from ‘long int’ to ‘int’ may change value [-Wconversion]
  254 |         count = ior->io_count;
      |                 ^~~
device/chario.c:323:58: warning: conversion to ‘vm_size_t’ {aka ‘long unsigned int’} from ‘long int’ may change the sign of the result [-Wsign-conversion]
  323 |             (void) vm_deallocate(device_io_map, addr, ior->io_count);
      |                                                       ~~~^~~~~~~~~~
device/chario.c: In function ‘tty_set_status’:
device/chario.c:685:32: warning: conversion from ‘int’ to ‘unsigned char’ may change value [-Wconversion]
  685 |                 tp->t_ispeed = tsp->tt_ispeed;
      |                                ^~~
device/chario.c:686:32: warning: conversion from ‘int’ to ‘unsigned char’ may change value [-Wconversion]
  686 |                 tp->t_ospeed = tsp->tt_ospeed;
      |                                ^~~
device/chario.c:687:32: warning: conversion from ‘int’ to ‘char’ may change value [-Wconversion]
  687 |                 tp->t_breakc = tsp->tt_breakc;
      |                                ^~~
device/chario.c: In function ‘ttyinput’:
device/chario.c:924:15: warning: conversion to ‘int’ from ‘unsigned int’ may change the sign of the result [-Wsign-conversion]
  924 |   (void) putc(c, &tp->t_inq);
      |               ^
depbase=`echo device/cons.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT device/cons.o -MD -MP -MF $depbase.Tpo -c -o device/cons.o device/cons.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./device/io_req.h:38,
                 from device/cons.c:31:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./device/io_req.h:41:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from ./vm/pmap.h:45:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
depbase=`echo device/dev_lookup.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT device/dev_lookup.o -MD -MP -MF $depbase.Tpo -c -o device/dev_lookup.o device/dev_lookup.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from device/dev_lookup.c:35:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46,
                 from ./kern/ipc_kobject.h:44,
                 from ./ipc/ipc_port.h:47,
                 from device/dev_lookup.c:42:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from ./vm/pmap.h:45:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
device/dev_lookup.c: In function ‘dev_port_enter’:
device/dev_lookup.c:251:46: warning: nested extern declaration of ‘mach_device_emulation_ops’ [-Wnested-externs]
  251 |           extern struct device_emulation_ops mach_device_emulation_ops;
      |                                              ^~~~~~~~~~~~~~~~~~~~~~~~~
depbase=`echo device/dev_name.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT device/dev_name.o -MD -MP -MF $depbase.Tpo -c -o device/dev_name.o device/dev_name.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from device/dev_name.c:31:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
device/dev_name.c: In function ‘nomap’:
device/dev_name.c:94:16: warning: unsigned conversion from ‘int’ to ‘vm_offset_t’ {aka ‘long unsigned int’} changes value from ‘-1’ to ‘18446744073709551615’ [-Wsign-conversion]
   94 |         return -1;
      |                ^
device/dev_name.c: In function ‘dev_name_lookup’:
device/dev_name.c:152:15: warning: conversion from ‘long int’ to ‘int’ may change value [-Wconversion]
  152 |         len = cp - name;
      |               ^~
rm -f device/memory_object_reply.user.defs.c
cp -p device/memory_object_reply.cli device/memory_object_reply.user.defs.c
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa -E  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT device/lib_dep_tr_for_defs_a-memory_object_reply.user.defs.o -MD -MP -MF device/.deps/lib_dep_tr_for_defs_a-memory_object_reply.user.defs.Tpo -c -o device/lib_dep_tr_for_defs_a-memory_object_reply.user.defs.o `test -f 'device/memory_object_reply.user.defs.c' || echo './'`device/memory_object_reply.user.defs.c
mv -f device/.deps/lib_dep_tr_for_defs_a-memory_object_reply.user.defs.Tpo device/.deps/lib_dep_tr_for_defs_a-memory_object_reply.user.defs.Po
/home/runner/work/cognu-mach/cognu-mach/scripts/mig-wrapper.sh -n -cc cat - /dev/null  	\
  -user device/memory_object_reply.user.c -header device/memory_object_reply.user.h			\
  -list device/memory_object_reply.user.msgids					\
  < device/lib_dep_tr_for_defs_a-memory_object_reply.user.defs.o
Fixed 64-bit type size assertions in device/memory_object_reply.user.c
depbase=`echo device/dev_pager.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT device/dev_pager.o -MD -MP -MF $depbase.Tpo -c -o device/dev_pager.o device/dev_pager.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from device/dev_pager.c:39:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./kern/ipc_kobject.h:44,
                 from ./ipc/ipc_port.h:47,
                 from device/dev_pager.c:41:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/sys/types.h:29,
                 from ./include/string.h:29,
                 from device/dev_pager.c:33:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
In file included from device/dev_pager.c:42:
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
In file included from ./device/device_pager.server.h:13,
                 from device/dev_pager.c:53:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
In file included from ./kern/thread.h:53,
                 from ./vm/pmap.h:45:
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
In file included from ./machine/vm_param.h:29,
                 from ./vm/vm_page.h:39:
device/dev_pager.c: In function ‘device_pager_setup’:
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
device/dev_pager.c:394:19: note: in expansion of macro ‘round_page’
  394 |         d->size = round_page(size);
      |                   ^~~~~~~~~~
device/dev_pager.c: In function ‘device_map_page’:
device/dev_pager.c:524:36: warning: conversion from ‘int’ to ‘dev_t’ {aka ‘short unsigned int’} may change value [-Wconversion]
  524 |                         (ds->device->dev_number,
      |                          ~~~~~~~~~~^~~~~~~~~~~~
depbase=`echo device/device_init.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT device/device_init.o -MD -MP -MF $depbase.Tpo -c -o device/device_init.o device/device_init.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./kern/ipc_kobject.h:44,
                 from ./ipc/ipc_port.h:47,
                 from device/device_init.c:32:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from ./vm/pmap.h:45:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/mach/port.h:39,
                 from ./ipc/ipc_port.h:44:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
In file included from device/device_init.c:33:
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
depbase=`echo device/ds_routines.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT device/ds_routines.o -MD -MP -MF $depbase.Tpo -c -o device/ds_routines.o device/ds_routines.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from device/ds_routines.c:56:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./kern/ipc_kobject.h:44,
                 from ./ipc/ipc_port.h:47,
                 from device/ds_routines.c:68:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/sys/types.h:29,
                 from ./kern/printf.h:27:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
In file included from device/ds_routines.c:69:
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
In file included from ./device/device.server.h:13,
                 from device/ds_routines.c:87:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
In file included from ./kern/thread.h:53,
                 from ./vm/pmap.h:45:
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
device/ds_routines.c: In function ‘ds_device_intr_register’:
device/ds_routines.c:366:49: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  366 |   err = install_user_intr_handler (&irqtab, id, flags, e);
      |                                                 ^~~~~
device/ds_routines.c: In function ‘device_open’:
device/ds_routines.c:607:51: warning: conversion from ‘int’ to ‘dev_t’ {aka ‘short unsigned int’} may change value [-Wconversion]
  607 |         result = (*device->dev_ops->d_open)(device->dev_number, (int)mode, ior);
      |                                             ~~~~~~^~~~~~~~~~~~
device/ds_routines.c: In function ‘device_close’:
device/ds_routines.c:725:43: warning: conversion from ‘int’ to ‘dev_t’ {aka ‘short unsigned int’} may change value [-Wconversion]
  725 |         (*device->dev_ops->d_close)(device->dev_number, 0);
      |                                     ~~~~~~^~~~~~~~~~~~
device/ds_routines.c: In function ‘device_write’:
device/ds_routines.c:804:60: warning: conversion from ‘int’ to ‘dev_t’ {aka ‘short unsigned int’} may change value [-Wconversion]
  804 |                 result = (*device->dev_ops->d_write)(device->dev_number, ior);
      |                                                      ~~~~~~^~~~~~~~~~~~
device/ds_routines.c:821:26: warning: conversion from ‘long int’ to ‘int’ may change value [-Wconversion]
  821 |         *bytes_written = ior->io_total - ior->io_residual;
      |                          ^~~
device/ds_routines.c: In function ‘device_write_inband’:
device/ds_routines.c:882:52: warning: conversion from ‘int’ to ‘dev_t’ {aka ‘short unsigned int’} may change value [-Wconversion]
  882 |         result = (*device->dev_ops->d_write)(device->dev_number, ior);
      |                                              ~~~~~~^~~~~~~~~~~~
device/ds_routines.c:893:26: warning: conversion from ‘long int’ to ‘int’ may change value [-Wconversion]
  893 |         *bytes_written = ior->io_total - ior->io_residual;
      |                          ^~~
device/ds_routines.c: In function ‘device_write_get’:
device/ds_routines.c:941:54: warning: conversion to ‘size_t’ {aka ‘long unsigned int’} from ‘long int’ may change the sign of the result [-Wsign-conversion]
  941 |             memcpy((void*)new_addr, ior->io_data, ior->io_count);
      |                                                   ~~~^~~~~~~~~~
device/ds_routines.c:955:55: warning: conversion from ‘int’ to ‘dev_t’ {aka ‘short unsigned int’} may change value [-Wconversion]
  955 |                                         ior->io_device->dev_number,
      |                                         ~~~~~~~~~~~~~~^~~~~~~~~~~~
device/ds_routines.c:971:39: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
  971 |                         (vm_offset_t*)&ior->io_data, &new_addr,
device/ds_routines.c:985:52: warning: conversion to ‘long unsigned int’ from ‘long int’ may change the sign of the result [-Wsign-conversion]
  985 |                 ior->io_count = ior->io_alloc_size -
      |                                                    ^
device/ds_routines.c:985:33: warning: conversion to ‘long int’ from ‘long unsigned int’ may change the sign of the result [-Wsign-conversion]
  985 |                 ior->io_count = ior->io_alloc_size -
      |                                 ^~~
In file included from device/ds_routines.c:63:
device/ds_routines.c: In function ‘device_write_dealloc’:
./include/mach/vm_param.h:87:59: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   87 | #define trunc_page(x)   ((vm_offset_t)(((vm_offset_t)(x)) & ~PAGE_MASK))
      |                                                           ^
device/ds_routines.c:1034:26: note: in expansion of macro ‘trunc_page’
 1034 |                          trunc_page(ior->io_data),
      |                          ^~~~~~~~~~
device/ds_routines.c:1043:44: warning: conversion to ‘long unsigned int’ from ‘long int’ may change the sign of the result [-Wsign-conversion]
 1043 |                 size_to_do = io_copy->size - ior->io_count;
      |                                            ^
device/ds_routines.c:1065:55: warning: conversion from ‘int’ to ‘dev_t’ {aka ‘short unsigned int’} may change value [-Wconversion]
 1065 |                                         ior->io_device->dev_number,
      |                                         ~~~~~~~~~~~~~~^~~~~~~~~~~~
device/ds_routines.c:1072:40: warning: conversion to ‘long unsigned int’ from ‘long int’ may change the sign of the result [-Wsign-conversion]
 1072 |                         ior->io_recnum += ior->io_count/bsize;
      |                                        ^~
device/ds_routines.c:1073:41: warning: conversion to ‘long int’ from ‘vm_size_t’ {aka ‘long unsigned int’} may change the sign of the result [-Wsign-conversion]
 1073 |                         ior->io_count = new_copy->size;
      |                                         ^~~~~~~~
device/ds_routines.c:1081:42: warning: conversion to ‘long unsigned int’ from ‘long int’ may change the sign of the result [-Wsign-conversion]
 1081 |                         ior->io_residual += size_to_do;
      |                                          ^~
device/ds_routines.c:1081:45: warning: conversion to ‘long int’ from ‘long unsigned int’ may change the sign of the result [-Wsign-conversion]
 1081 |                         ior->io_residual += size_to_do;
      |                                             ^~~~~~~~~~
device/ds_routines.c: In function ‘ds_write_done’:
device/ds_routines.c:1117:60: warning: conversion from ‘int’ to ‘dev_t’ {aka ‘short unsigned int’} may change value [-Wconversion]
 1117 |                 result = (*device->dev_ops->d_write)(device->dev_number, ior);
      |                                                      ~~~~~~^~~~~~~~~~~~
device/ds_routines.c: In function ‘device_read’:
device/ds_routines.c:1202:51: warning: conversion from ‘int’ to ‘dev_t’ {aka ‘short unsigned int’} may change value [-Wconversion]
 1202 |         result = (*device->dev_ops->d_read)(device->dev_number, ior);
      |                                             ~~~~~~^~~~~~~~~~~~
device/ds_routines.c: In function ‘device_read_inband’:
device/ds_routines.c:1264:30: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1264 |                 bytes_wanted : sizeof(io_buf_ptr_inband_t));
      |                              ^
device/ds_routines.c:1280:51: warning: conversion from ‘int’ to ‘dev_t’ {aka ‘short unsigned int’} may change value [-Wconversion]
 1280 |         result = (*device->dev_ops->d_read)(device->dev_number, ior);
      |                                             ~~~~~~^~~~~~~~~~~~
device/ds_routines.c: In function ‘device_read_alloc’:
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
device/ds_routines.c:1318:20: note: in expansion of macro ‘round_page’
 1318 |             size = round_page(size);
      |                    ^~~~~~~~~~
device/ds_routines.c: In function ‘ds_read_done’:
device/ds_routines.c:1339:25: warning: conversion to ‘vm_size_t’ {aka ‘long unsigned int’} from ‘long int’ may change the sign of the result [-Wsign-conversion]
 1339 |             size_read = ior->io_count - ior->io_residual;
      |                         ^~~
./include/mach/vm_param.h:87:59: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   87 | #define trunc_page(x)   ((vm_offset_t)(((vm_offset_t)(x)) & ~PAGE_MASK))
      |                                                           ^
device/ds_routines.c:1345:49: note: in expansion of macro ‘trunc_page’
 1345 |                                                 trunc_page(start_data);
      |                                                 ^~~~~~~~~~
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
device/ds_routines.c:1347:51: note: in expansion of macro ‘round_page’
 1347 |                 start_data + ior->io_alloc_size : round_page(end_data);
      |                                                   ^~~~~~~~~~
device/ds_routines.c:1368:43: warning: conversion from ‘int’ to ‘char’ may change value [-Wconversion]
 1368 |                 *(volatile char *)touch = c;
      |                                           ^
device/ds_routines.c:1381:47: warning: conversion from ‘vm_size_t’ {aka ‘long unsigned int’} to ‘mach_msg_type_number_t’ {aka ‘unsigned int’} may change value [-Wconversion]
 1381 |                                               size_read);
      |                                               ^~~~~~~~~
device/ds_routines.c:1397:40: warning: conversion from ‘vm_size_t’ {aka ‘long unsigned int’} to ‘mach_msg_type_number_t’ {aka ‘unsigned int’} may change value [-Wconversion]
 1397 |                                        size_read);
      |                                        ^~~~~~~~~
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
device/ds_routines.c:1410:42: note: in expansion of macro ‘round_page’
 1410 |                 end_alloc = start_sent + round_page(ior->io_alloc_size);
      |                                          ^~~~~~~~~~
device/ds_routines.c: In function ‘device_set_status’:
device/ds_routines.c:1436:53: warning: conversion from ‘int’ to ‘dev_t’ {aka ‘short unsigned int’} may change value [-Wconversion]
 1436 |         return ((*device->dev_ops->d_setstat)(device->dev_number,
      |                                               ~~~~~~^~~~~~~~~~~~
device/ds_routines.c: In function ‘mach_device_get_status’:
device/ds_routines.c:1455:53: warning: conversion from ‘int’ to ‘dev_t’ {aka ‘short unsigned int’} may change value [-Wconversion]
 1455 |         return ((*device->dev_ops->d_getstat)(device->dev_number,
      |                                               ~~~~~~^~~~~~~~~~~~
device/ds_routines.c: In function ‘device_set_filter’:
device/ds_routines.c:1480:54: warning: conversion from ‘int’ to ‘dev_t’ {aka ‘short unsigned int’} may change value [-Wconversion]
 1480 |         return ((*device->dev_ops->d_async_in)(device->dev_number,
      |                                                ~~~~~~^~~~~~~~~~~~
device/ds_routines.c: In function ‘device_write_trap’:
device/ds_routines.c:1773:52: warning: conversion from ‘int’ to ‘dev_t’ {aka ‘short unsigned int’} may change value [-Wconversion]
 1773 |         result = (*device->dev_ops->d_write)(device->dev_number, ior);
      |                                              ~~~~~~^~~~~~~~~~~~
device/ds_routines.c: In function ‘device_writev_trap’:
device/ds_routines.c:1836:35: warning: conversion to ‘long int’ from ‘vm_size_t’ {aka ‘long unsigned int’} may change the sign of the result [-Wsign-conversion]
 1836 |         ior->io_count           = data_count;
      |                                   ^~~~~~~~~~
device/ds_routines.c:1837:35: warning: conversion to ‘long int’ from ‘vm_size_t’ {aka ‘long unsigned int’} may change the sign of the result [-Wsign-conversion]
 1837 |         ior->io_total           = data_count;
      |                                   ^~~~~~~~~~
device/ds_routines.c:1868:52: warning: conversion from ‘int’ to ‘dev_t’ {aka ‘short unsigned int’} may change value [-Wconversion]
 1868 |         result = (*device->dev_ops->d_write)(device->dev_number, ior);
      |                                              ~~~~~~^~~~~~~~~~~~
depbase=`echo device/intr.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT device/intr.o -MD -MP -MF $depbase.Tpo -c -o device/intr.o device/intr.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./kern/ipc_kobject.h:44,
                 from ./ipc/ipc_port.h:47,
                 from ./device/intr.h:23,
                 from device/intr.c:16:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from ./vm/pmap.h:45:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from device/intr.c:15:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
In file included from device/intr.c:23:
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
device/intr.c: In function ‘deliver_intr’:
device/intr.c:359:38: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
  359 |   n = (device_intr_notification_t *) &kmsg->ikm_header;
      |                                      ^~~~~~~~~~~~~~~~~
depbase=`echo device/net_io.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT device/net_io.o -MD -MP -MF $depbase.Tpo -c -o device/net_io.o device/net_io.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./device/net_io.h:39,
                 from device/net_io.c:46:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from ./vm/pmap.h:45:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from device/net_io.c:54:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
device/net_io.c: In function ‘ethernet_priority’:
./device/net_io.h:63:41: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
   63 | #define net_kmsg(kmsg)  ((net_rcv_msg_t)&(kmsg)->ikm_header)
      |                                         ^~~~~~~~~~~~~~~~~~~
device/net_io.c:375:35: note: in expansion of macro ‘net_kmsg’
  375 |                 (unsigned char *) net_kmsg(kmsg)->header;
      |                                   ^~~~~~~~
device/net_io.c: In function ‘net_deliver’:
./device/net_io.h:63:41: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
   63 | #define net_kmsg(kmsg)  ((net_rcv_msg_t)&(kmsg)->ikm_header)
      |                                         ^~~~~~~~~~~~~~~~~~~
device/net_io.c:462:21: note: in expansion of macro ‘net_kmsg’
  462 |             count = net_kmsg(kmsg)->net_rcv_msg_packet_count;
      |                     ^~~~~~~~
./device/net_io.h:63:25: warning: conversion to ‘int’ from ‘mach_msg_type_number_t’ {aka ‘unsigned int’} may change the sign of the result [-Wsign-conversion]
   63 | #define net_kmsg(kmsg)  ((net_rcv_msg_t)&(kmsg)->ikm_header)
      |                         ^
device/net_io.c:462:21: note: in expansion of macro ‘net_kmsg’
  462 |             count = net_kmsg(kmsg)->net_rcv_msg_packet_count;
      |                     ^~~~~~~~
./ipc/ipc_kmsg.h:184:28: warning: unsigned conversion from ‘int’ to ‘vm_size_t’ {aka ‘long unsigned int’} changes value from ‘-1’ to ‘18446744073709551615’ [-Wsign-conversion]
  184 |         (kmsg)->ikm_size = (size);                                      \
      |                            ^
device/net_io.c:464:13: note: in expansion of macro ‘ikm_init_special’
  464 |             ikm_init_special(kmsg, IKM_SIZE_NETWORK);
      |             ^~~~~~~~~~~~~~~~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/sys/types.h:29,
                 from device/net_io.c:41:
./device/net_io.h:63:41: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
   63 | #define net_kmsg(kmsg)  ((net_rcv_msg_t)&(kmsg)->ikm_header)
      |                                         ^~~~~~~~~~~~~~~~~~~
./kern/macros.h:60:34: note: in definition of macro ‘P2ROUND’
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                  ^
device/net_io.c:471:50: note: in expansion of macro ‘net_kmsg’
  471 |                                         - sizeof net_kmsg(kmsg)->sent
      |                                                  ^~~~~~~~
device/net_io.c:472:55: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  472 |                                         - NET_RCV_MAX + count,
      |                                                       ^
./kern/macros.h:60:34: note: in definition of macro ‘P2ROUND’
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                  ^
./device/net_io.h:63:41: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
   63 | #define net_kmsg(kmsg)  ((net_rcv_msg_t)&(kmsg)->ikm_header)
      |                                         ^~~~~~~~~~~~~~~~~~~
device/net_io.c:478:13: note: in expansion of macro ‘net_kmsg’
  478 |             net_kmsg(kmsg)->header_type = header_type;
      |             ^~~~~~~~
./device/net_io.h:63:41: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
   63 | #define net_kmsg(kmsg)  ((net_rcv_msg_t)&(kmsg)->ikm_header)
      |                                         ^~~~~~~~~~~~~~~~~~~
device/net_io.c:479:13: note: in expansion of macro ‘net_kmsg’
  479 |             net_kmsg(kmsg)->packet_type = packet_type;
      |             ^~~~~~~~
./device/net_io.h:63:41: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
   63 | #define net_kmsg(kmsg)  ((net_rcv_msg_t)&(kmsg)->ikm_header)
      |                                         ^~~~~~~~~~~~~~~~~~~
device/net_io.c:480:13: note: in expansion of macro ‘net_kmsg’
  480 |             net_kmsg(kmsg)->net_rcv_msg_packet_count = count;
      |             ^~~~~~~~
device/net_io.c:480:56: warning: conversion to ‘mach_msg_type_number_t’ {aka ‘unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  480 |             net_kmsg(kmsg)->net_rcv_msg_packet_count = count;
      |                                                        ^~~~~
In file included from ./kern/thread.h:44:
device/net_io.c: In function ‘net_ast’:
./kern/ast.h:104:30: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-9’ to ‘18446744073709551607’ [-Wsign-conversion]
  104 |         if ((need_ast[mycpu] &= ~(reasons)) == AST_ZILCH)               \
      |                              ^~
device/net_io.c:550:9: note: in expansion of macro ‘ast_off’
  550 |         ast_off(cpu_number(), AST_NETWORK);
      |         ^~~~~~~
device/net_io.c: In function ‘net_packet’:
./device/net_io.h:63:41: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
   63 | #define net_kmsg(kmsg)  ((net_rcv_msg_t)&(kmsg)->ikm_header)
      |                                         ^~~~~~~~~~~~~~~~~~~
device/net_io.c:661:9: note: in expansion of macro ‘net_kmsg’
  661 |         net_kmsg(kmsg)->net_rcv_msg_packet_count = count;
      |         ^~~~~~~~
device/net_io.c: In function ‘net_filter’:
./device/net_io.h:63:41: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
   63 | #define net_kmsg(kmsg)  ((net_rcv_msg_t)&(kmsg)->ikm_header)
      |                                         ^~~~~~~~~~~~~~~~~~~
device/net_io.c:710:21: note: in expansion of macro ‘net_kmsg’
  710 |         int count = net_kmsg(kmsg)->net_rcv_msg_packet_count;
      |                     ^~~~~~~~
./device/net_io.h:63:25: warning: conversion to ‘int’ from ‘mach_msg_type_number_t’ {aka ‘unsigned int’} may change the sign of the result [-Wsign-conversion]
   63 | #define net_kmsg(kmsg)  ((net_rcv_msg_t)&(kmsg)->ikm_header)
      |                         ^
device/net_io.c:710:21: note: in expansion of macro ‘net_kmsg’
  710 |         int count = net_kmsg(kmsg)->net_rcv_msg_packet_count;
      |                     ^~~~~~~~
./device/net_io.h:63:41: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
   63 | #define net_kmsg(kmsg)  ((net_rcv_msg_t)&(kmsg)->ikm_header)
      |                                         ^~~~~~~~~~~~~~~~~~~
device/net_io.c:714:13: note: in expansion of macro ‘net_kmsg’
  714 |         if (net_kmsg(kmsg)->sent)
      |             ^~~~~~~~
In file included from ./device/dev_hdr.h:62,
                 from ./device/device_types_kernel.h:39,
                 from ./include/device/device_types.h:43,
                 from ./include/device/net_status.h:36,
                 from device/net_io.c:44:
./device/net_io.h:63:41: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
   63 | #define net_kmsg(kmsg)  ((net_rcv_msg_t)&(kmsg)->ikm_header)
      |                                         ^~~~~~~~~~~~~~~~~~~
./kern/queue.h:95:41: note: in definition of macro ‘queue_assert’
   95 | #define queue_assert(q) (void) ((void) (q)->next, (q)->prev)
      |                                         ^
device/net_io.c:351:45: note: in expansion of macro ‘queue_next’
  351 |                 (nextfp) = (net_rcv_port_t) queue_next(chain);
      |                                             ^~~~~~~~~~
device/net_io.c:728:9: note: in expansion of macro ‘FILTER_ITERATE’
  728 |         FILTER_ITERATE(if_port_list, infp, nextfp,
      |         ^~~~~~~~~~~~~~
device/net_io.c:729:24: note: in expansion of macro ‘net_kmsg’
  729 |                        net_kmsg(kmsg)->sent ? &infp->output : &infp->input)
      |                        ^~~~~~~~
./device/net_io.h:63:41: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
   63 | #define net_kmsg(kmsg)  ((net_rcv_msg_t)&(kmsg)->ikm_header)
      |                                         ^~~~~~~~~~~~~~~~~~~
./kern/queue.h:95:52: note: in definition of macro ‘queue_assert’
   95 | #define queue_assert(q) (void) ((void) (q)->next, (q)->prev)
      |                                                    ^
device/net_io.c:351:45: note: in expansion of macro ‘queue_next’
  351 |                 (nextfp) = (net_rcv_port_t) queue_next(chain);
      |                                             ^~~~~~~~~~
device/net_io.c:728:9: note: in expansion of macro ‘FILTER_ITERATE’
  728 |         FILTER_ITERATE(if_port_list, infp, nextfp,
      |         ^~~~~~~~~~~~~~
device/net_io.c:729:24: note: in expansion of macro ‘net_kmsg’
  729 |                        net_kmsg(kmsg)->sent ? &infp->output : &infp->input)
      |                        ^~~~~~~~
./device/net_io.h:63:41: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
   63 | #define net_kmsg(kmsg)  ((net_rcv_msg_t)&(kmsg)->ikm_header)
      |                                         ^~~~~~~~~~~~~~~~~~~
./kern/queue.h:125:45: note: in definition of macro ‘queue_next’
  125 | #define queue_next(qc)  (queue_assert(qc), (qc)->next)
      |                                             ^~
device/net_io.c:728:9: note: in expansion of macro ‘FILTER_ITERATE’
  728 |         FILTER_ITERATE(if_port_list, infp, nextfp,
      |         ^~~~~~~~~~~~~~
device/net_io.c:729:24: note: in expansion of macro ‘net_kmsg’
  729 |                        net_kmsg(kmsg)->sent ? &infp->output : &infp->input)
      |                        ^~~~~~~~
./device/net_io.h:63:41: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
   63 | #define net_kmsg(kmsg)  ((net_rcv_msg_t)&(kmsg)->ikm_header)
      |                                         ^~~~~~~~~~~~~~~~~~~
device/net_io.c:733:49: note: in expansion of macro ‘net_kmsg’
  733 |                 ret_count = bpf_do_filter(infp, net_kmsg(kmsg)->packet
      |                                                 ^~~~~~~~
device/net_io.c:735:49: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  735 |                                           count - sizeof(struct packet_header),
      |                                                 ^
./device/net_io.h:63:41: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
   63 | #define net_kmsg(kmsg)  ((net_rcv_msg_t)&(kmsg)->ikm_header)
      |                                         ^~~~~~~~~~~~~~~~~~~
device/net_io.c:736:43: note: in expansion of macro ‘net_kmsg’
  736 |                                           net_kmsg(kmsg)->header,
      |                                           ^~~~~~~~
device/net_io.c:735:49: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  735 |                                           count - sizeof(struct packet_header),
      |                                           ~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
device/net_io.c:737:46: warning: conversion to ‘unsigned int’ from ‘short int’ may change the sign of the result [-Wsign-conversion]
  737 |                                           ifp->if_header_size, &hash_headp,
      |                                           ~~~^~~~~~~~~~~~~~~~
device/net_io.c:733:29: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  733 |                 ret_count = bpf_do_filter(infp, net_kmsg(kmsg)->packet
      |                             ^~~~~~~~~~~~~
./device/net_io.h:63:41: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
   63 | #define net_kmsg(kmsg)  ((net_rcv_msg_t)&(kmsg)->ikm_header)
      |                                         ^~~~~~~~~~~~~~~~~~~
device/net_io.c:746:49: note: in expansion of macro ‘net_kmsg’
  746 |                 ret_count = net_do_filter(infp, net_kmsg(kmsg)->packet, count,
      |                                                 ^~~~~~~~
./device/net_io.h:63:41: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
   63 | #define net_kmsg(kmsg)  ((net_rcv_msg_t)&(kmsg)->ikm_header)
      |                                         ^~~~~~~~~~~~~~~~~~~
device/net_io.c:747:43: note: in expansion of macro ‘net_kmsg’
  747 |                                           net_kmsg(kmsg)->header);
      |                                           ^~~~~~~~
device/net_io.c:746:73: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  746 |                 ret_count = net_do_filter(infp, net_kmsg(kmsg)->packet, count,
      |                                                                         ^~~~~
device/net_io.c:746:29: warning: conversion to ‘unsigned int’ from ‘boolean_t’ {aka ‘int’} may change the sign of the result [-Wsign-conversion]
  746 |                 ret_count = net_do_filter(infp, net_kmsg(kmsg)->packet, count,
      |                             ^~~~~~~~~~~~~
device/net_io.c:749:33: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  749 |                     ret_count = count;
      |                                 ^~~~~
./device/net_io.h:63:41: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
   63 | #define net_kmsg(kmsg)  ((net_rcv_msg_t)&(kmsg)->ikm_header)
      |                                         ^~~~~~~~~~~~~~~~~~~
device/net_io.c:807:25: note: in expansion of macro ‘net_kmsg’
  807 |                         net_kmsg(new_kmsg)->packet,
      |                         ^~~~~~~~
./device/net_io.h:63:41: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
   63 | #define net_kmsg(kmsg)  ((net_rcv_msg_t)&(kmsg)->ikm_header)
      |                                         ^~~~~~~~~~~~~~~~~~~
device/net_io.c:808:25: note: in expansion of macro ‘net_kmsg’
  808 |                         net_kmsg(kmsg)->packet,
      |                         ^~~~~~~~
./device/net_io.h:63:41: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
   63 | #define net_kmsg(kmsg)  ((net_rcv_msg_t)&(kmsg)->ikm_header)
      |                                         ^~~~~~~~~~~~~~~~~~~
device/net_io.c:811:25: note: in expansion of macro ‘net_kmsg’
  811 |                         net_kmsg(new_kmsg)->header,
      |                         ^~~~~~~~
./device/net_io.h:63:41: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
   63 | #define net_kmsg(kmsg)  ((net_rcv_msg_t)&(kmsg)->ikm_header)
      |                                         ^~~~~~~~~~~~~~~~~~~
device/net_io.c:812:25: note: in expansion of macro ‘net_kmsg’
  812 |                         net_kmsg(kmsg)->header,
      |                         ^~~~~~~~
./device/net_io.h:63:41: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
   63 | #define net_kmsg(kmsg)  ((net_rcv_msg_t)&(kmsg)->ikm_header)
      |                                         ^~~~~~~~~~~~~~~~~~~
device/net_io.c:815:17: note: in expansion of macro ‘net_kmsg’
  815 |                 net_kmsg(new_kmsg)->net_rcv_msg_packet_count = ret_count;
      |                 ^~~~~~~~
device/net_io.c: In function ‘net_do_filter’:
device/net_io.c:907:27: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  907 |                     arg = *sp++;
      |                           ^
device/net_io.c:916:27: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  916 |                     arg = *sp++;
      |                           ^
device/net_io.c:922:27: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  922 |                     arg = *sp++;
      |                           ^
device/net_io.c:929:31: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  929 |                         arg = sp[arg - NETF_PUSHSTK];
      |                               ^~
device/net_io.c:945:29: warning: conversion to ‘int’ from ‘unsigned int’ may change the sign of the result [-Wsign-conversion]
  945 |                     *--sp = arg;
      |                             ^~~
device/net_io.c:948:25: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  948 |                     *sp &= arg;
      |                         ^~
device/net_io.c:948:28: warning: conversion to ‘int’ from ‘unsigned int’ may change the sign of the result [-Wsign-conversion]
  948 |                     *sp &= arg;
      |                            ^~~
device/net_io.c:951:25: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  951 |                     *sp |= arg;
      |                         ^~
device/net_io.c:951:28: warning: conversion to ‘int’ from ‘unsigned int’ may change the sign of the result [-Wsign-conversion]
  951 |                     *sp |= arg;
      |                            ^~~
device/net_io.c:954:25: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  954 |                     *sp ^= arg;
      |                         ^~
device/net_io.c:954:28: warning: conversion to ‘int’ from ‘unsigned int’ may change the sign of the result [-Wsign-conversion]
  954 |                     *sp ^= arg;
      |                            ^~~
device/net_io.c:997:25: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  997 |                     *sp += arg;
      |                         ^~
device/net_io.c:997:28: warning: conversion to ‘int’ from ‘unsigned int’ may change the sign of the result [-Wsign-conversion]
  997 |                     *sp += arg;
      |                            ^~~
device/net_io.c:1000:25: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1000 |                     *sp -= arg;
      |                         ^~
device/net_io.c:1000:28: warning: conversion to ‘int’ from ‘unsigned int’ may change the sign of the result [-Wsign-conversion]
 1000 |                     *sp -= arg;
      |                            ^~~
device/net_io.c: In function ‘net_set_filter’:
./include/device/net_status.h:112:23: warning: conversion from ‘long unsigned int’ to ‘int’ may change value [-Wconversion]
  112 | #define CSPF_BYTES(n) ((n) * sizeof (filter_t))
      |                       ^
device/net_io.c:1139:20: note: in expansion of macro ‘CSPF_BYTES’
 1139 |     filter_bytes = CSPF_BYTES(filter_count);
      |                    ^~~~~~~~~~
device/net_io.c: In function ‘check_filter_list’:
device/net_io.c:1195:43: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
 1195 |                     && bpf_eq((bpf_insn_t)infp->filter,
      |                                           ^~~~
device/net_io.c: In function ‘net_set_filter’:
device/net_io.c:1305:42: warning: conversion to ‘size_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
 1305 |         memcpy (my_infp->filter, filter, filter_bytes);
      |                                          ^~~~~~~~~~~~
device/net_io.c:1339:34: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1339 |             hash_entp->keys[i] = match[i+1].k;
      |                                  ^~~~~
device/net_io.c: In function ‘net_getstat’:
device/net_io.c:1405:51: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1405 |                 addr_int_count = (addr_byte_count + (sizeof(int)-1))
      |                                                   ^
device/net_io.c:1405:34: warning: conversion from ‘long unsigned int’ to ‘int’ may change value [-Wconversion]
 1405 |                 addr_int_count = (addr_byte_count + (sizeof(int)-1))
      |                                  ^
device/net_io.c:1416:49: warning: conversion to ‘size_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
 1416 |                 memcpy(status, ifp->if_address, addr_byte_count);
      |                                                 ^~~~~~~~~~~~~~~
device/net_io.c:1417:54: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1417 |                 if (addr_byte_count < addr_int_count * sizeof(int))
      |                                                      ^
device/net_io.c:1419:43: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1419 |                           (addr_int_count * sizeof(int)
      |                                           ^
device/net_io.c:1420:39: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1420 |                                       - addr_byte_count));
      |                                       ^
device/net_io.c:1426:39: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1426 |                     status[i] = htonl(word);
      |                                       ^~~~
device/net_io.c:1426:33: warning: conversion to ‘int’ from ‘unsigned int’ may change the sign of the result [-Wsign-conversion]
 1426 |                     status[i] = htonl(word);
      |                                 ^~~~~
device/net_io.c:1428:26: warning: conversion to ‘mach_msg_type_number_t’ {aka ‘unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
 1428 |                 *count = addr_int_count;
      |                          ^~~~~~~~~~~~~~
In file included from ./machine/vm_param.h:29,
                 from ./vm/vm_page.h:39:
device/net_io.c: In function ‘net_io_init’:
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
device/net_io.c:1505:25: note: in expansion of macro ‘round_page’
 1505 |         net_kmsg_size = round_page(size);
      |                         ^~~~~~~~~~
device/net_io.c: In function ‘bpf_do_filter’:
device/net_io.c:1613:28: warning: dereferencing type-punned pointer might break strict-aliasing rules [-Wstrict-aliasing]
 1613 |         pc = ((bpf_insn_t) infp->filter) + 1;
      |                            ^~~~
device/net_io.c:1637:55: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1637 |                                                 pc->k : wirelen;
      |                                                       ^
device/net_io.c:1637:55: warning: conversion to ‘int’ from ‘unsigned int’ may change the sign of the result [-Wsign-conversion]
 1636 |                         return ((u_int)pc->k <= wirelen) ?
      |                                ~~~~~~~~~~~~~~~~~~~~~~~~~~~
 1637 |                                                 pc->k : wirelen;
      |                                                 ~~~~~~^~~~~~~~~
device/net_io.c:1645:51: warning: conversion to ‘int’ from ‘unsigned int’ may change the sign of the result [-Wsign-conversion]
 1644 |                         return ((u_int)A <= wirelen) ?
      |                                ~~~~~~~~~~~~~~~~~~~~~~~
 1645 |                                                 A : wirelen;
      |                                                 ~~^~~~~~~~~
device/net_io.c:1651:63: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1651 |                                                         pc->k : wirelen;
      |                                                               ^
device/net_io.c:1651:63: warning: conversion to ‘int’ from ‘unsigned int’ may change the sign of the result [-Wsign-conversion]
 1650 |                                 return ((u_int)pc->k <= wirelen) ?
      |                                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~
 1651 |                                                         pc->k : wirelen;
      |                                                         ~~~~~~^~~~~~~~~
device/net_io.c:1662:32: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1662 |                              k -= hlen;
      |                                ^~
device/net_io.c:1662:35: warning: conversion to ‘int’ from ‘unsigned int’ may change the sign of the result [-Wsign-conversion]
 1662 |                              k -= hlen;
      |                                   ^~~~
device/net_io.c:1672:40: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1672 |                              A = ntohl(*(int *)(data + k));
      |                                        ^~~~~~~~~~~~~~~~~~
device/net_io.c:1682:32: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1682 |                              k -= hlen;
      |                                ^~
device/net_io.c:1682:35: warning: conversion to ‘int’ from ‘unsigned int’ may change the sign of the result [-Wsign-conversion]
 1682 |                              k -= hlen;
      |                                   ^~~~
device/net_io.c:1698:32: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1698 |                              k -= hlen;
      |                                ^~
device/net_io.c:1698:35: warning: conversion to ‘int’ from ‘unsigned int’ may change the sign of the result [-Wsign-conversion]
 1698 |                              k -= hlen;
      |                                   ^~~~
device/net_io.c:1702:29: warning: conversion to ‘unsigned int’ from ‘char’ may change the sign of the result [-Wsign-conversion]
 1702 |                         A = data[k];
      |                             ^~~~
device/net_io.c:1714:31: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1714 |                         k = X + pc->k;
      |                               ^
device/net_io.c:1714:29: warning: conversion to ‘int’ from ‘unsigned int’ may change the sign of the result [-Wsign-conversion]
 1714 |                         k = X + pc->k;
      |                             ^
device/net_io.c:1718:31: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1718 |                         k = X + pc->k;
      |                               ^
device/net_io.c:1718:29: warning: conversion to ‘int’ from ‘unsigned int’ may change the sign of the result [-Wsign-conversion]
 1718 |                         k = X + pc->k;
      |                             ^
device/net_io.c:1722:31: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1722 |                         k = X + pc->k;
      |                               ^
device/net_io.c:1722:29: warning: conversion to ‘int’ from ‘unsigned int’ may change the sign of the result [-Wsign-conversion]
 1722 |                         k = X + pc->k;
      |                             ^
device/net_io.c:1731:32: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1731 |                              k -= hlen;
      |                                ^~
device/net_io.c:1731:35: warning: conversion to ‘int’ from ‘unsigned int’ may change the sign of the result [-Wsign-conversion]
 1731 |                              k -= hlen;
      |                                   ^~~~
device/net_io.c:1739:29: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1739 |                         A = pc->k;
      |                             ^~
device/net_io.c:1743:29: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1743 |                         X = pc->k;
      |                             ^~
device/net_io.c:1779:34: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1779 |                         pc += (A & pc->k) ? pc->jt : pc->jf;
      |                                  ^
device/net_io.c:1833:27: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1833 |                         A += pc->k;
      |                           ^~
device/net_io.c:1837:27: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1837 |                         A -= pc->k;
      |                           ^~
device/net_io.c:1841:27: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1841 |                         A *= pc->k;
      |                           ^~
device/net_io.c:1845:27: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1845 |                         A /= pc->k;
      |                           ^~
device/net_io.c:1849:27: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1849 |                         A &= pc->k;
      |                           ^~
device/net_io.c:1853:27: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1853 |                         A |= pc->k;
      |                           ^~
In file included from ./include/device/net_status.h:167:
device/net_io.c: In function ‘bpf_validate’:
./include/device/bpf.h:241:31: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  241 | #define BPF_BYTES2LEN(n) ((n) / sizeof (struct bpf_insn))
      |                               ^
device/net_io.c:1902:15: note: in expansion of macro ‘BPF_BYTES2LEN’
 1902 |         len = BPF_BYTES2LEN(bytes);
      |               ^~~~~~~~~~~~~
device/net_io.c: In function ‘bpf_eq’:
./include/device/bpf.h:241:31: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  241 | #define BPF_BYTES2LEN(n) ((n) / sizeof (struct bpf_insn))
      |                               ^
device/net_io.c:1973:17: note: in expansion of macro ‘BPF_BYTES2LEN’
 1973 |         count = BPF_BYTES2LEN(bytes);
      |                 ^~~~~~~~~~~~~
device/net_io.c: In function ‘net_add_q_info’:
device/net_io.c:2096:22: warning: conversion to ‘mach_port_msgcount_t’ {aka ‘unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
 2096 |         net_kmsg_max += qlimit + 1;
      |                      ^~
device/net_io.c:2096:25: warning: conversion to ‘int’ from ‘mach_port_msgcount_t’ {aka ‘unsigned int’} may change the sign of the result [-Wsign-conversion]
 2096 |         net_kmsg_max += qlimit + 1;
      |                         ^~~~~~
depbase=`echo device/subrs.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT device/subrs.o -MD -MP -MF $depbase.Tpo -c -o device/subrs.o device/subrs.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from device/subrs.c:31:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./vm/vm_kern.h:38,
                 from device/subrs.c:32:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53,
                 from ./vm/pmap.h:45:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
depbase=`echo device/kmsg.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT device/kmsg.o -MD -MP -MF $depbase.Tpo -c -o device/kmsg.o device/kmsg.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./device/ds_routines.h:36,
                 from device/kmsg.c:27:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from ./vm/pmap.h:45:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
device/kmsg.c: In function ‘kmsgread’:
device/kmsg.c:98:36: warning: conversion to ‘vm_size_t’ {aka ‘long unsigned int’} from ‘long int’ may change the sign of the result [-Wsign-conversion]
   98 |   err = device_read_alloc (ior, ior->io_count);
      |                                 ~~~^~~~~~~~~~
device/kmsg.c:122:9: warning: conversion from ‘long int’ to ‘int’ may change value [-Wconversion]
  122 |   amt = ior->io_count;
      |         ^~~
device/kmsg.c:128:61: warning: conversion to ‘size_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  128 |       memcpy (ior->io_data, kmsg_buffer + kmsg_read_offset, amt);
      |                                                             ^~~
device/kmsg.c:135:61: warning: conversion to ‘size_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  135 |       memcpy (ior->io_data, kmsg_buffer + kmsg_read_offset, cnt);
      |                                                             ^~~
device/kmsg.c:136:52: warning: conversion to ‘size_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  136 |       memcpy (ior->io_data + cnt, kmsg_buffer, amt - cnt);
      |                                                ~~~~^~~~~
device/kmsg.c: In function ‘kmsg_read_done’:
device/kmsg.c:168:9: warning: conversion from ‘long int’ to ‘int’ may change value [-Wconversion]
  168 |   amt = ior->io_count;
      |         ^~~
device/kmsg.c:174:61: warning: conversion to ‘size_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  174 |       memcpy (ior->io_data, kmsg_buffer + kmsg_read_offset, amt);
      |                                                             ^~~
device/kmsg.c:181:61: warning: conversion to ‘size_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  181 |       memcpy (ior->io_data, kmsg_buffer + kmsg_read_offset, cnt);
      |                                                             ^~~
device/kmsg.c:182:52: warning: conversion to ‘size_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  182 |       memcpy (ior->io_data + cnt, kmsg_buffer, amt - cnt);
      |                                                ~~~~^~~~~
device/kmsg.c: In function ‘kmsg_putchar’:
device/kmsg.c:245:38: warning: conversion from ‘int’ to ‘char’ may change value [-Wconversion]
  245 |   kmsg_buffer[kmsg_write_offset++] = c;
      |                                      ^
depbase=`echo i386/i386/ast_check.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386/ast_check.o -MD -MP -MF $depbase.Tpo -c -o i386/i386/ast_check.o i386/i386/ast_check.c &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo i386/i386/db_disasm.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386/db_disasm.o -MD -MP -MF $depbase.Tpo -c -o i386/i386/db_disasm.o i386/i386/db_disasm.c &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo i386/i386/db_interface.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386/db_interface.o -MD -MP -MF $depbase.Tpo -c -o i386/i386/db_interface.o i386/i386/db_interface.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from i386/i386/db_interface.c:32:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from ./vm/pmap.h:45:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53,
                 from i386/i386/db_interface.c:48:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
i386/i386/db_interface.c: In function ‘db_set_debug_state’:
i386/i386/db_interface.c:123:34: warning: comparison is always false due to limited range of data type [-Wtype-limits]
  123 |                 if (state->dr[i] < VM_MIN_USER_ADDRESS
      |                                  ^
depbase=`echo i386/i386/db_trace.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386/db_trace.o -MD -MP -MF $depbase.Tpo -c -o i386/i386/db_trace.o i386/i386/db_trace.c &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo i386/i386/debug_i386.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386/debug_i386.o -MD -MP -MF $depbase.Tpo -c -o i386/i386/debug_i386.o i386/i386/debug_i386.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from i386/i386/debug_i386.c:24:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from i386/i386/gdt.h:36,
                 from i386/i386/thread.h:43,
                 from i386/i386/debug_i386.c:26:
i386/i386/seg.h: In function ‘fill_descriptor’:
i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
i386/i386/seg.h: In function ‘fill_descriptor64’:
i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
i386/i386/seg.h: In function ‘fill_gate’:
i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
i386/i386/debug_i386.c: In function ‘dump_ss’:
i386/i386/debug_i386.c:61:41: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
   61 |                 st->trapno, trap_name(st->trapno),
      |                                       ~~^~~~~~~~
depbase=`echo i386/i386/fpu.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386/fpu.o -MD -MP -MF $depbase.Tpo -c -o i386/i386/fpu.o i386/i386/fpu.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from i386/i386/fpu.c:47:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53,
                 from i386/i386/fpu.c:48:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./kern/thread.h:54:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53,
                 from ./ipc/ipc_kmsg.h:46,
                 from ./kern/ipc_kobject.h:44,
                 from ./i386/i386/mach_i386.server.h:12,
                 from ./i386/i386/fpu.h:38,
                 from i386/i386/fpu.c:52:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ./i386/i386/mach_i386.server.h:13:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
In file included from ./ipc/ipc_space.h:52,
                 from ./i386/i386/mach_i386.server.h:21:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/sys/types.h:29,
                 from ./include/string.h:29,
                 from i386/i386/fpu.c:39:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./i386/i386/fpu.h: In function ‘xsetbv’:
./i386/i386/fpu.h:90:15: warning: conversion from ‘uint64_t’ {aka ‘long unsigned int’} to ‘uint32_t’ {aka ‘unsigned int’} may change value [-Wconversion]
   90 |         eax = value;
      |               ^~~~~
./i386/i386/fpu.h:91:15: warning: conversion from ‘uint64_t’ {aka ‘long unsigned int’} to ‘uint32_t’ {aka ‘unsigned int’} may change value [-Wconversion]
   91 |         edx = value >> 32;
      |               ^~~~~
./i386/i386/fpu.h: At top level:
./i386/i386/fpu.h:237:22: warning: redundant redeclaration of ‘i386_get_xstate_size’ [-Wredundant-decls]
  237 | extern kern_return_t i386_get_xstate_size(host_t host, vm_size_t *size);
      |                      ^~~~~~~~~~~~~~~~~~~~
./i386/i386/mach_i386.server.h:136:15: note: previous declaration of ‘i386_get_xstate_size’ with type ‘kern_return_t(struct host *, vm_size_t *)’ {aka ‘int(struct host *, long unsigned int *)’}
  136 | kern_return_t i386_get_xstate_size
      |               ^~~~~~~~~~~~~~~~~~~~
In file included from ./i386/i386/fpu.h:36:
i386/i386/fpu.c: In function ‘init_fpu’:
./i386/i386/proc_reg.h:128:29: warning: declaration of ‘_temp__’ shadows a previous local [-Wshadow]
  128 |      register unsigned long _temp__; \
      |                             ^~~~~~~
./i386/i386/proc_reg.h:135:43: note: in definition of macro ‘set_cr0’
  135 |         register unsigned long _temp__ = (value); \
      |                                           ^~~~~
i386/i386/fpu.c:130:18: note: in expansion of macro ‘get_cr0’
  130 |         set_cr0((get_cr0() & ~(CR0_EM|CR0_TS)) | native);       /* allow use of FPU */
      |                  ^~~~~~~
./i386/i386/proc_reg.h:135:32: note: shadowed declaration is here
  135 |         register unsigned long _temp__ = (value); \
      |                                ^~~~~~~
i386/i386/fpu.c:130:9: note: in expansion of macro ‘set_cr0’
  130 |         set_cr0((get_cr0() & ~(CR0_EM|CR0_TS)) | native);       /* allow use of FPU */
      |         ^~~~~~~
i386/i386/fpu.c:130:28: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-13’ to ‘18446744073709551603’ [-Wsign-conversion]
  130 |         set_cr0((get_cr0() & ~(CR0_EM|CR0_TS)) | native);       /* allow use of FPU */
      |                            ^
./i386/i386/proc_reg.h:135:43: note: in definition of macro ‘set_cr0’
  135 |         register unsigned long _temp__ = (value); \
      |                                           ^~~~~
./i386/i386/proc_reg.h:204:32: warning: declaration of ‘_temp__’ shadows a previous local [-Wshadow]
  204 |         register unsigned long _temp__; \
      |                                ^~~~~~~
./i386/i386/proc_reg.h:211:43: note: in definition of macro ‘set_cr4’
  211 |         register unsigned long _temp__ = (value); \
      |                                           ^~~~~
i386/i386/fpu.c:174:29: note: in expansion of macro ‘get_cr4’
  174 |                     set_cr4(get_cr4() | CR4_OSFXSR | CR4_OSXSAVE);
      |                             ^~~~~~~
./i386/i386/proc_reg.h:211:32: note: shadowed declaration is here
  211 |         register unsigned long _temp__ = (value); \
      |                                ^~~~~~~
i386/i386/fpu.c:174:21: note: in expansion of macro ‘set_cr4’
  174 |                     set_cr4(get_cr4() | CR4_OSFXSR | CR4_OSXSAVE);
      |                     ^~~~~~~
./i386/i386/proc_reg.h:204:32: warning: declaration of ‘_temp__’ shadows a previous local [-Wshadow]
  204 |         register unsigned long _temp__; \
      |                                ^~~~~~~
./i386/i386/proc_reg.h:211:43: note: in definition of macro ‘set_cr4’
  211 |         register unsigned long _temp__ = (value); \
      |                                           ^~~~~
i386/i386/fpu.c:218:29: note: in expansion of macro ‘get_cr4’
  218 |                     set_cr4(get_cr4() | CR4_OSFXSR);
      |                             ^~~~~~~
./i386/i386/proc_reg.h:211:32: note: shadowed declaration is here
  211 |         register unsigned long _temp__ = (value); \
      |                                ^~~~~~~
i386/i386/fpu.c:218:21: note: in expansion of macro ‘set_cr4’
  218 |                     set_cr4(get_cr4() | CR4_OSFXSR);
      |                     ^~~~~~~
./i386/i386/proc_reg.h:128:29: warning: declaration of ‘_temp__’ shadows a previous local [-Wshadow]
  128 |      register unsigned long _temp__; \
      |                             ^~~~~~~
./i386/i386/proc_reg.h:135:43: note: in definition of macro ‘set_cr0’
  135 |         register unsigned long _temp__ = (value); \
      |                                           ^~~~~
i386/i386/fpu.c:242:21: note: in expansion of macro ‘get_cr0’
  242 |             set_cr0(get_cr0() | CR0_TS | CR0_MP);
      |                     ^~~~~~~
./i386/i386/proc_reg.h:135:32: note: shadowed declaration is here
  135 |         register unsigned long _temp__ = (value); \
      |                                ^~~~~~~
i386/i386/fpu.c:242:13: note: in expansion of macro ‘set_cr0’
  242 |             set_cr0(get_cr0() | CR0_TS | CR0_MP);
      |             ^~~~~~~
i386/i386/fpu.c: In function ‘fpu_module_init’:
./i386/i386/proc_reg.h:128:29: warning: declaration of ‘_temp__’ shadows a previous local [-Wshadow]
  128 |      register unsigned long _temp__; \
      |                             ^~~~~~~
./i386/i386/proc_reg.h:135:43: note: in definition of macro ‘set_cr0’
  135 |         register unsigned long _temp__ = (value); \
      |                                           ^~~~~
./i386/i386/proc_reg.h:223:17: note: in expansion of macro ‘get_cr0’
  223 |         set_cr0(get_cr0() | CR0_TS)
      |                 ^~~~~~~
i386/i386/fpu.c:282:9: note: in expansion of macro ‘set_ts’
  282 |         set_ts();
      |         ^~~~~~
./i386/i386/proc_reg.h:135:32: note: shadowed declaration is here
  135 |         register unsigned long _temp__ = (value); \
      |                                ^~~~~~~
./i386/i386/proc_reg.h:223:9: note: in expansion of macro ‘set_cr0’
  223 |         set_cr0(get_cr0() | CR0_TS)
      |         ^~~~~~~
i386/i386/fpu.c:282:9: note: in expansion of macro ‘set_ts’
  282 |         set_ts();
      |         ^~~~~~
i386/i386/fpu.c: In function ‘fp_free’:
./i386/i386/proc_reg.h:128:29: warning: declaration of ‘_temp__’ shadows a previous local [-Wshadow]
  128 |      register unsigned long _temp__; \
      |                             ^~~~~~~
./i386/i386/proc_reg.h:135:43: note: in definition of macro ‘set_cr0’
  135 |         register unsigned long _temp__ = (value); \
      |                                           ^~~~~
./i386/i386/proc_reg.h:223:17: note: in expansion of macro ‘get_cr0’
  223 |         set_cr0(get_cr0() | CR0_TS)
      |                 ^~~~~~~
i386/i386/fpu.c:95:9: note: in expansion of macro ‘set_ts’
   95 |         set_ts(); \
      |         ^~~~~~
i386/i386/fpu.c:303:13: note: in expansion of macro ‘clear_fpu’
  303 |             clear_fpu();
      |             ^~~~~~~~~
./i386/i386/proc_reg.h:135:32: note: shadowed declaration is here
  135 |         register unsigned long _temp__ = (value); \
      |                                ^~~~~~~
./i386/i386/proc_reg.h:223:9: note: in expansion of macro ‘set_cr0’
  223 |         set_cr0(get_cr0() | CR0_TS)
      |         ^~~~~~~
i386/i386/fpu.c:95:9: note: in expansion of macro ‘set_ts’
   95 |         set_ts(); \
      |         ^~~~~~
i386/i386/fpu.c:303:13: note: in expansion of macro ‘clear_fpu’
  303 |             clear_fpu();
      |             ^~~~~~~~~
i386/i386/fpu.c: In function ‘twd_i387_to_fxsr’:
i386/i386/fpu.c:322:16: warning: conversion from ‘unsigned int’ to ‘short unsigned int’ may change value [-Wconversion]
  322 |         return tmp;
      |                ^~~
i386/i386/fpu.c: In function ‘twd_fxsr_to_i387’:
i386/i386/fpu.c:343:53: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  343 |                         st = FPREG_ADDR (fxsave, (i - tos) & 7);
      |                                                     ^
i386/i386/fpu.c:339:63: note: in definition of macro ‘FPREG_ADDR’
  339 | #define FPREG_ADDR(f, n)        ((void *)&(f)->fp_reg_word + (n) * 16);
      |                                                               ^
i386/i386/fpu.c:339:60: warning: pointer of type ‘void *’ used in arithmetic [-Wpointer-arith]
  339 | #define FPREG_ADDR(f, n)        ((void *)&(f)->fp_reg_word + (n) * 16);
      |                                                            ^
i386/i386/fpu.c:343:30: note: in expansion of macro ‘FPREG_ADDR’
  343 |                         st = FPREG_ADDR (fxsave, (i - tos) & 7);
      |                              ^~~~~~~~~~
i386/i386/fpu.c: In function ‘fpu_set_state’:
./i386/i386/proc_reg.h:128:29: warning: declaration of ‘_temp__’ shadows a previous local [-Wshadow]
  128 |      register unsigned long _temp__; \
      |                             ^~~~~~~
./i386/i386/proc_reg.h:135:43: note: in definition of macro ‘set_cr0’
  135 |         register unsigned long _temp__ = (value); \
      |                                           ^~~~~
./i386/i386/proc_reg.h:223:17: note: in expansion of macro ‘get_cr0’
  223 |         set_cr0(get_cr0() | CR0_TS)
      |                 ^~~~~~~
i386/i386/fpu.c:95:9: note: in expansion of macro ‘set_ts’
   95 |         set_ts(); \
      |         ^~~~~~
i386/i386/fpu.c:407:13: note: in expansion of macro ‘clear_fpu’
  407 |             clear_fpu();                /* no state in FPU */
      |             ^~~~~~~~~
./i386/i386/proc_reg.h:135:32: note: shadowed declaration is here
  135 |         register unsigned long _temp__ = (value); \
      |                                ^~~~~~~
./i386/i386/proc_reg.h:223:9: note: in expansion of macro ‘set_cr0’
  223 |         set_cr0(get_cr0() | CR0_TS)
      |         ^~~~~~~
i386/i386/fpu.c:95:9: note: in expansion of macro ‘set_ts’
   95 |         set_ts(); \
      |         ^~~~~~
i386/i386/fpu.c:407:13: note: in expansion of macro ‘clear_fpu’
  407 |             clear_fpu();                /* no state in FPU */
      |             ^~~~~~~~~
i386/i386/fpu.c:495:51: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  495 |                 ifps->xfp_save_state.fp_mxcsr   = user_fp_state->fp_mxcsr & mxcsr_feature_mask;
      |                                                   ^~~~~~~~~~~~~
i386/i386/fpu.c:496:54: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  496 |                 ifps->xfp_save_state.fp_mxcsr_mask = user_fp_state->fp_mxcsr_mask & mxcsr_feature_mask;;
      |                                                      ^~~~~~~~~~~~~
i386/i386/fpu.c: In function ‘fpu_get_state’:
./i386/i386/proc_reg.h:128:29: warning: declaration of ‘_temp__’ shadows a previous local [-Wshadow]
  128 |      register unsigned long _temp__; \
      |                             ^~~~~~~
./i386/i386/proc_reg.h:135:43: note: in definition of macro ‘set_cr0’
  135 |         register unsigned long _temp__ = (value); \
      |                                           ^~~~~
./i386/i386/proc_reg.h:223:17: note: in expansion of macro ‘get_cr0’
  223 |         set_cr0(get_cr0() | CR0_TS)
      |                 ^~~~~~~
i386/i386/fpu.c:95:9: note: in expansion of macro ‘set_ts’
   95 |         set_ts(); \
      |         ^~~~~~
i386/i386/fpu.c:563:13: note: in expansion of macro ‘clear_fpu’
  563 |             clear_fpu();
      |             ^~~~~~~~~
./i386/i386/proc_reg.h:135:32: note: shadowed declaration is here
  135 |         register unsigned long _temp__ = (value); \
      |                                ^~~~~~~
./i386/i386/proc_reg.h:223:9: note: in expansion of macro ‘set_cr0’
  223 |         set_cr0(get_cr0() | CR0_TS)
      |         ^~~~~~~
i386/i386/fpu.c:95:9: note: in expansion of macro ‘set_ts’
   95 |         set_ts(); \
      |         ^~~~~~
i386/i386/fpu.c:563:13: note: in expansion of macro ‘clear_fpu’
  563 |             clear_fpu();
      |             ^~~~~~~~~
i386/i386/fpu.c:588:45: warning: conversion from ‘long unsigned int’ to ‘short unsigned int’ may change value [-Wconversion]
  588 |                 user_fp_state->fp_tag     = twd_fxsr_to_i387(&ifps->xfp_save_state);
      |                                             ^~~~~~~~~~~~~~~~
i386/i386/fpu.c: In function ‘fpextovrflt’:
./i386/i386/proc_reg.h:128:29: warning: declaration of ‘_temp__’ shadows a previous local [-Wshadow]
  128 |      register unsigned long _temp__; \
      |                             ^~~~~~~
./i386/i386/proc_reg.h:135:43: note: in definition of macro ‘set_cr0’
  135 |         register unsigned long _temp__ = (value); \
      |                                           ^~~~~
./i386/i386/proc_reg.h:223:17: note: in expansion of macro ‘get_cr0’
  223 |         set_cr0(get_cr0() | CR0_TS)
      |                 ^~~~~~~
i386/i386/fpu.c:95:9: note: in expansion of macro ‘set_ts’
   95 |         set_ts(); \
      |         ^~~~~~
i386/i386/fpu.c:766:9: note: in expansion of macro ‘clear_fpu’
  766 |         clear_fpu();
      |         ^~~~~~~~~
./i386/i386/proc_reg.h:135:32: note: shadowed declaration is here
  135 |         register unsigned long _temp__ = (value); \
      |                                ^~~~~~~
./i386/i386/proc_reg.h:223:9: note: in expansion of macro ‘set_cr0’
  223 |         set_cr0(get_cr0() | CR0_TS)
      |         ^~~~~~~
i386/i386/fpu.c:95:9: note: in expansion of macro ‘set_ts’
   95 |         set_ts(); \
      |         ^~~~~~
i386/i386/fpu.c:766:9: note: in expansion of macro ‘clear_fpu’
  766 |         clear_fpu();
      |         ^~~~~~~~~
i386/i386/fpu.c: In function ‘fphandleerr’:
./i386/i386/proc_reg.h:128:29: warning: declaration of ‘_temp__’ shadows a previous local [-Wshadow]
  128 |      register unsigned long _temp__; \
      |                             ^~~~~~~
./i386/i386/proc_reg.h:135:43: note: in definition of macro ‘set_cr0’
  135 |         register unsigned long _temp__ = (value); \
      |                                           ^~~~~
./i386/i386/proc_reg.h:223:17: note: in expansion of macro ‘get_cr0’
  223 |         set_cr0(get_cr0() | CR0_TS)
      |                 ^~~~~~~
i386/i386/fpu.c:95:9: note: in expansion of macro ‘set_ts’
   95 |         set_ts(); \
      |         ^~~~~~
i386/i386/fpu.c:791:17: note: in expansion of macro ‘clear_fpu’
  791 |                 clear_fpu();
      |                 ^~~~~~~~~
./i386/i386/proc_reg.h:135:32: note: shadowed declaration is here
  135 |         register unsigned long _temp__ = (value); \
      |                                ^~~~~~~
./i386/i386/proc_reg.h:223:9: note: in expansion of macro ‘set_cr0’
  223 |         set_cr0(get_cr0() | CR0_TS)
      |         ^~~~~~~
i386/i386/fpu.c:95:9: note: in expansion of macro ‘set_ts’
   95 |         set_ts(); \
      |         ^~~~~~
i386/i386/fpu.c:791:17: note: in expansion of macro ‘clear_fpu’
  791 |                 clear_fpu();
      |                 ^~~~~~~~~
./i386/i386/proc_reg.h:128:29: warning: declaration of ‘_temp__’ shadows a previous local [-Wshadow]
  128 |      register unsigned long _temp__; \
      |                             ^~~~~~~
./i386/i386/proc_reg.h:135:43: note: in definition of macro ‘set_cr0’
  135 |         register unsigned long _temp__ = (value); \
      |                                           ^~~~~
./i386/i386/proc_reg.h:223:17: note: in expansion of macro ‘get_cr0’
  223 |         set_cr0(get_cr0() | CR0_TS)
      |                 ^~~~~~~
i386/i386/fpu.c:95:9: note: in expansion of macro ‘set_ts’
   95 |         set_ts(); \
      |         ^~~~~~
i386/i386/fpu.c:805:13: note: in expansion of macro ‘clear_fpu’
  805 |             clear_fpu();
      |             ^~~~~~~~~
./i386/i386/proc_reg.h:135:32: note: shadowed declaration is here
  135 |         register unsigned long _temp__ = (value); \
      |                                ^~~~~~~
./i386/i386/proc_reg.h:223:9: note: in expansion of macro ‘set_cr0’
  223 |         set_cr0(get_cr0() | CR0_TS)
      |         ^~~~~~~
i386/i386/fpu.c:95:9: note: in expansion of macro ‘set_ts’
   95 |         set_ts(); \
      |         ^~~~~~
i386/i386/fpu.c:805:13: note: in expansion of macro ‘clear_fpu’
  805 |             clear_fpu();
      |             ^~~~~~~~~
./i386/i386/proc_reg.h:128:29: warning: declaration of ‘_temp__’ shadows a previous local [-Wshadow]
  128 |      register unsigned long _temp__; \
      |                             ^~~~~~~
./i386/i386/proc_reg.h:135:43: note: in definition of macro ‘set_cr0’
  135 |         register unsigned long _temp__ = (value); \
      |                                           ^~~~~
./i386/i386/proc_reg.h:223:17: note: in expansion of macro ‘get_cr0’
  223 |         set_cr0(get_cr0() | CR0_TS)
      |                 ^~~~~~~
i386/i386/fpu.c:95:9: note: in expansion of macro ‘set_ts’
   95 |         set_ts(); \
      |         ^~~~~~
i386/i386/fpu.c:817:9: note: in expansion of macro ‘clear_fpu’
  817 |         clear_fpu();
      |         ^~~~~~~~~
./i386/i386/proc_reg.h:135:32: note: shadowed declaration is here
  135 |         register unsigned long _temp__ = (value); \
      |                                ^~~~~~~
./i386/i386/proc_reg.h:223:9: note: in expansion of macro ‘set_cr0’
  223 |         set_cr0(get_cr0() | CR0_TS)
      |         ^~~~~~~
i386/i386/fpu.c:95:9: note: in expansion of macro ‘set_ts’
   95 |         set_ts(); \
      |         ^~~~~~
i386/i386/fpu.c:817:9: note: in expansion of macro ‘clear_fpu’
  817 |         clear_fpu();
      |         ^~~~~~~~~
i386/i386/fpu.c: In function ‘fp_load’:
./i386/i386/proc_reg.h:128:29: warning: declaration of ‘_temp__’ shadows a previous local [-Wshadow]
  128 |      register unsigned long _temp__; \
      |                             ^~~~~~~
./i386/i386/proc_reg.h:135:43: note: in definition of macro ‘set_cr0’
  135 |         register unsigned long _temp__ = (value); \
      |                                           ^~~~~
./i386/i386/proc_reg.h:223:17: note: in expansion of macro ‘get_cr0’
  223 |         set_cr0(get_cr0() | CR0_TS)
      |                 ^~~~~~~
i386/i386/fpu.c:95:9: note: in expansion of macro ‘set_ts’
   95 |         set_ts(); \
      |         ^~~~~~
i386/i386/fpu.c:952:17: note: in expansion of macro ‘clear_fpu’
  952 |                 clear_fpu();
      |                 ^~~~~~~~~
./i386/i386/proc_reg.h:135:32: note: shadowed declaration is here
  135 |         register unsigned long _temp__ = (value); \
      |                                ^~~~~~~
./i386/i386/proc_reg.h:223:9: note: in expansion of macro ‘set_cr0’
  223 |         set_cr0(get_cr0() | CR0_TS)
      |         ^~~~~~~
i386/i386/fpu.c:95:9: note: in expansion of macro ‘set_ts’
   95 |         set_ts(); \
      |         ^~~~~~
i386/i386/fpu.c:952:17: note: in expansion of macro ‘clear_fpu’
  952 |                 clear_fpu();
      |                 ^~~~~~~~~
depbase=`echo i386/i386/gdt.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386/gdt.o -MD -MP -MF $depbase.Tpo -c -o i386/i386/gdt.o i386/i386/gdt.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from i386/i386/gdt.c:37:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from ./machine/percpu.h:71,
                 from i386/i386/gdt.c:39:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
depbase=`echo i386/i386/idt.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386/idt.o -MD -MP -MF $depbase.Tpo -c -o i386/i386/idt.o i386/i386/idt.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from i386/i386/idt.c:25:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./i386/i386at/idt.h:46,
                 from i386/i386/idt.c:26:
i386/i386/idt.c: In function ‘idt_fill’:
i386/i386/idt.c:56:82: warning: conversion from ‘short unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
   56 |                 fill_idt_gate(myidt, iie->vector, iie->entrypoint, KERNEL_CS, iie->type,
      |                                                                               ~~~^~~~~~
./i386/i386/idt-gen.h:45:52: note: in definition of macro ‘fill_idt_gate’
   45 |         fill_gate(&_idt[int_num], entry, selector, access, dword_count)
      |                                                    ^~~~~~
i386/i386/idt.c:58:34: warning: conversion from ‘short unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
   58 |                               iie->ist
      |                               ~~~^~~~~
./i386/i386/idt-gen.h:45:60: note: in definition of macro ‘fill_idt_gate’
   45 |         fill_gate(&_idt[int_num], entry, selector, access, dword_count)
      |                                                            ^~~~~~~~~~~
depbase=`echo i386/i386/io_perm.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386/io_perm.o -MD -MP -MF $depbase.Tpo -c -o i386/i386/io_perm.o i386/i386/io_perm.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./kern/ipc_kobject.h:44,
                 from ./ipc/ipc_port.h:47,
                 from i386/i386/io_perm.c:54:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from ./vm/pmap.h:45:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/sys/types.h:29,
                 from ./include/string.h:29,
                 from i386/i386/io_perm.c:49:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
In file included from i386/i386/io_perm.c:55:
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
In file included from ./i386/i386/mach_i386.server.h:13,
                 from i386/i386/io_perm.c:67:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
In file included from ./kern/thread.h:53:
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
i386/i386/io_perm.c: In function ‘io_bitmap_set’:
i386/i386/io_perm.c:163:24: warning: conversion from ‘int’ to ‘unsigned char’ may change value [-Wconversion]
  163 |     iopb[from >> 3] &= ~(1 << (from & 0x7));
      |                        ^
i386/i386/io_perm.c: In function ‘i386_io_perm_modify’:
i386/i386/io_perm.c:261:15: warning: conversion from ‘int’ to ‘io_port_t’ {aka ‘short unsigned int’} may change value [-Wconversion]
  261 |   iopb_size = target_task->machine.iopb_size;
      |               ^~~~~~~~~~~
i386/i386/io_perm.c:279:23: warning: conversion from ‘int’ to ‘io_port_t’ {aka ‘short unsigned int’} may change value [-Wconversion]
  279 |           iopb_size = target_task->machine.iopb_size;
      |                       ^~~~~~~~~~~
i386/i386/io_perm.c:317:49: warning: conversion from ‘int’ to ‘io_port_t’ {aka ‘short unsigned int’} may change value [-Wconversion]
  317 |     update_ktss_iopb (iopb, target_task->machine.iopb_size);
      |                             ~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~
depbase=`echo i386/i386/ktss.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386/ktss.o -MD -MP -MF $depbase.Tpo -c -o i386/i386/ktss.o i386/i386/ktss.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from i386/i386/ktss.c:35:
i386/i386/seg.h: In function ‘fill_descriptor’:
i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
i386/i386/seg.h: In function ‘fill_descriptor64’:
i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
i386/i386/seg.h: In function ‘fill_gate’:
i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
depbase=`echo i386/i386/kttd_interface.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386/kttd_interface.o -MD -MP -MF $depbase.Tpo -c -o i386/i386/kttd_interface.o i386/i386/kttd_interface.c &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo i386/i386/ldt.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386/ldt.o -MD -MP -MF $depbase.Tpo -c -o i386/i386/ldt.o i386/i386/ldt.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from i386/i386/ldt.c:34:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
depbase=`echo i386/i386/loose_ends.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386/loose_ends.o -MD -MP -MF $depbase.Tpo -c -o i386/i386/loose_ends.o i386/i386/loose_ends.c &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo i386/i386/machine_task.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386/machine_task.o -MD -MP -MF $depbase.Tpo -c -o i386/i386/machine_task.o i386/i386/machine_task.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from i386/i386/machine_task.c:24:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from i386/i386/machine_task.c:25:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
depbase=`echo i386/i386/mp_desc.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386/mp_desc.o -MD -MP -MF $depbase.Tpo -c -o i386/i386/mp_desc.o i386/i386/mp_desc.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from i386/i386/mp_desc.c:30:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53,
                 from ./kern/startup.h:22,
                 from i386/i386/mp_desc.c:32:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./kern/thread.h:54:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53,
                 from ./vm/vm_kern.h:38,
                 from i386/i386/mp_desc.c:36:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ./i386/i386/mach_i386.server.h:13,
                 from ./i386/i386/fpu.h:38,
                 from i386/i386/mp_desc.c:42:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
In file included from ./ipc/ipc_space.h:52,
                 from ./i386/i386/mach_i386.server.h:21:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from i386/i386/mp_desc.c:27:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./i386/i386/fpu.h: In function ‘xsetbv’:
./i386/i386/fpu.h:90:15: warning: conversion from ‘uint64_t’ {aka ‘long unsigned int’} to ‘uint32_t’ {aka ‘unsigned int’} may change value [-Wconversion]
   90 |         eax = value;
      |               ^~~~~
./i386/i386/fpu.h:91:15: warning: conversion from ‘uint64_t’ {aka ‘long unsigned int’} to ‘uint32_t’ {aka ‘unsigned int’} may change value [-Wconversion]
   91 |         edx = value >> 32;
      |               ^~~~~
./i386/i386/fpu.h: At top level:
./i386/i386/fpu.h:237:22: warning: redundant redeclaration of ‘i386_get_xstate_size’ [-Wredundant-decls]
  237 | extern kern_return_t i386_get_xstate_size(host_t host, vm_size_t *size);
      |                      ^~~~~~~~~~~~~~~~~~~~
./i386/i386/mach_i386.server.h:136:15: note: previous declaration of ‘i386_get_xstate_size’ with type ‘kern_return_t(struct host *, vm_size_t *)’ {aka ‘int(struct host *, long unsigned int *)’}
  136 | kern_return_t i386_get_xstate_size
      |               ^~~~~~~~~~~~~~~~~~~~
depbase=`echo i386/i386/pcb.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386/pcb.o -MD -MP -MF $depbase.Tpo -c -o i386/i386/pcb.o i386/i386/pcb.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from i386/i386/pcb.c:39:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./kern/thread.h:54:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53,
                 from ./vm/vm_kern.h:38,
                 from i386/i386/pcb.c:42:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ./i386/i386/mach_i386.server.h:13,
                 from ./i386/i386/fpu.h:38,
                 from i386/i386/pcb.c:50:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
In file included from ./ipc/ipc_space.h:52,
                 from ./i386/i386/mach_i386.server.h:21:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/sys/types.h:29,
                 from ./include/string.h:29,
                 from i386/i386/pcb.c:28:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./i386/i386/fpu.h: In function ‘xsetbv’:
./i386/i386/fpu.h:90:15: warning: conversion from ‘uint64_t’ {aka ‘long unsigned int’} to ‘uint32_t’ {aka ‘unsigned int’} may change value [-Wconversion]
   90 |         eax = value;
      |               ^~~~~
./i386/i386/fpu.h:91:15: warning: conversion from ‘uint64_t’ {aka ‘long unsigned int’} to ‘uint32_t’ {aka ‘unsigned int’} may change value [-Wconversion]
   91 |         edx = value >> 32;
      |               ^~~~~
./i386/i386/fpu.h: At top level:
./i386/i386/fpu.h:237:22: warning: redundant redeclaration of ‘i386_get_xstate_size’ [-Wredundant-decls]
  237 | extern kern_return_t i386_get_xstate_size(host_t host, vm_size_t *size);
      |                      ^~~~~~~~~~~~~~~~~~~~
./i386/i386/mach_i386.server.h:136:15: note: previous declaration of ‘i386_get_xstate_size’ with type ‘kern_return_t(struct host *, vm_size_t *)’ {aka ‘int(struct host *, long unsigned int *)’}
  136 | kern_return_t i386_get_xstate_size
      |               ^~~~~~~~~~~~~~~~~~~~
i386/i386/pcb.c: In function ‘switch_ktss’:
i386/i386/pcb.c:150:25: warning: conversion to ‘vm_offset_t’ {aka ‘long unsigned int’} from ‘long int’ may change the sign of the result [-Wsign-conversion]
  150 |         pcb_stack_top = (pcb->iss.efl & EFL_VM)
      |                         ^
In file included from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51:
i386/i386/pcb.c: In function ‘stack_handoff’:
./i386/i386/proc_reg.h:128:29: warning: declaration of ‘_temp__’ shadows a previous local [-Wshadow]
  128 |      register unsigned long _temp__; \
      |                             ^~~~~~~
./i386/i386/proc_reg.h:135:43: note: in definition of macro ‘set_cr0’
  135 |         register unsigned long _temp__ = (value); \
      |                                           ^~~~~
./i386/i386/proc_reg.h:223:17: note: in expansion of macro ‘get_cr0’
  223 |         set_cr0(get_cr0() | CR0_TS)
      |                 ^~~~~~~
./i386/i386/fpu.h:216:13: note: in expansion of macro ‘set_ts’
  216 |             set_ts(); \
      |             ^~~~~~
i386/i386/pcb.c:278:9: note: in expansion of macro ‘fpu_save_context’
  278 |         fpu_save_context(old);
      |         ^~~~~~~~~~~~~~~~
./i386/i386/proc_reg.h:135:32: note: shadowed declaration is here
  135 |         register unsigned long _temp__ = (value); \
      |                                ^~~~~~~
./i386/i386/proc_reg.h:223:9: note: in expansion of macro ‘set_cr0’
  223 |         set_cr0(get_cr0() | CR0_TS)
      |         ^~~~~~~
./i386/i386/fpu.h:216:13: note: in expansion of macro ‘set_ts’
  216 |             set_ts(); \
      |             ^~~~~~
i386/i386/pcb.c:278:9: note: in expansion of macro ‘fpu_save_context’
  278 |         fpu_save_context(old);
      |         ^~~~~~~~~~~~~~~~
i386/i386/pcb.c:302:54: warning: conversion from ‘int’ to ‘io_port_t’ {aka ‘short unsigned int’} may change value [-Wconversion]
  302 |                                     new_task->machine.iopb_size);
      |                                     ~~~~~~~~~~~~~~~~~^~~~~~~~~~
i386/i386/pcb.c: In function ‘switch_context’:
./i386/i386/proc_reg.h:128:29: warning: declaration of ‘_temp__’ shadows a previous local [-Wshadow]
  128 |      register unsigned long _temp__; \
      |                             ^~~~~~~
./i386/i386/proc_reg.h:135:43: note: in definition of macro ‘set_cr0’
  135 |         register unsigned long _temp__ = (value); \
      |                                           ^~~~~
./i386/i386/proc_reg.h:223:17: note: in expansion of macro ‘get_cr0’
  223 |         set_cr0(get_cr0() | CR0_TS)
      |                 ^~~~~~~
./i386/i386/fpu.h:216:13: note: in expansion of macro ‘set_ts’
  216 |             set_ts(); \
      |             ^~~~~~
i386/i386/pcb.c:351:9: note: in expansion of macro ‘fpu_save_context’
  351 |         fpu_save_context(old);
      |         ^~~~~~~~~~~~~~~~
./i386/i386/proc_reg.h:135:32: note: shadowed declaration is here
  135 |         register unsigned long _temp__ = (value); \
      |                                ^~~~~~~
./i386/i386/proc_reg.h:223:9: note: in expansion of macro ‘set_cr0’
  223 |         set_cr0(get_cr0() | CR0_TS)
      |         ^~~~~~~
./i386/i386/fpu.h:216:13: note: in expansion of macro ‘set_ts’
  216 |             set_ts(); \
      |             ^~~~~~
i386/i386/pcb.c:351:9: note: in expansion of macro ‘fpu_save_context’
  351 |         fpu_save_context(old);
      |         ^~~~~~~~~~~~~~~~
i386/i386/pcb.c:376:54: warning: conversion from ‘int’ to ‘io_port_t’ {aka ‘short unsigned int’} may change value [-Wconversion]
  376 |                                     new_task->machine.iopb_size);
      |                                     ~~~~~~~~~~~~~~~~~^~~~~~~~~~
i386/i386/pcb.c: In function ‘thread_setstatus’:
i386/i386/pcb.c:541:48: warning: unsigned conversion from ‘int’ to ‘unsigned int’ changes value from ‘-94209’ to ‘4294873087’ [-Wsign-conversion]
  541 |                 saved_state->efl = (state->efl & ~EFL_USER_CLEAR)
      |                                                ^
i386/i386/pcb.c:677:35: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  677 |                         int_count * sizeof(struct v86_interrupt_table)
      |                                   ^
i386/i386/pcb.c:682:51: warning: conversion from ‘int’ to ‘short unsigned int’ may change value [-Wconversion]
  682 |                 thread->pcb->ims.v86s.int_count = int_count;
      |                                                   ^~~~~~~~~
i386/i386/pcb.c: In function ‘thread_getstatus’:
i386/i386/pcb.c:793:30: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  793 |                 state->edi = saved_state->edi;
      |                              ^~~~~~~~~~~
i386/i386/pcb.c:794:30: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  794 |                 state->esi = saved_state->esi;
      |                              ^~~~~~~~~~~
i386/i386/pcb.c:795:30: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  795 |                 state->ebp = saved_state->ebp;
      |                              ^~~~~~~~~~~
i386/i386/pcb.c:796:30: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  796 |                 state->ebx = saved_state->ebx;
      |                              ^~~~~~~~~~~
i386/i386/pcb.c:797:30: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  797 |                 state->edx = saved_state->edx;
      |                              ^~~~~~~~~~~
i386/i386/pcb.c:798:30: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  798 |                 state->ecx = saved_state->ecx;
      |                              ^~~~~~~~~~~
i386/i386/pcb.c:799:30: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  799 |                 state->eax = saved_state->eax;
      |                              ^~~~~~~~~~~
i386/i386/pcb.c:800:30: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  800 |                 state->eip = saved_state->eip;
      |                              ^~~~~~~~~~~
i386/i386/pcb.c:801:31: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  801 |                 state->uesp = saved_state->uesp;
      |                               ^~~~~~~~~~~
i386/i386/pcb.c:802:30: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  802 |                 state->efl = saved_state->efl;
      |                              ^~~~~~~~~~~
i386/i386/pcb.c:806:29: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  806 |                 state->cs = saved_state->cs;
      |                             ^~~~~~~~~~~
i386/i386/pcb.c:807:29: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  807 |                 state->ss = saved_state->ss;
      |                             ^~~~~~~~~~~
i386/i386/pcb.c:825:46: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-513’ to ‘18446744073709551103’ [-Wsign-conversion]
  825 |                             saved_state->efl &= ~EFL_IF;
      |                                              ^~
i386/i386/pcb.c:862:26: warning: conversion from ‘vm_size_t’ {aka ‘long unsigned int’} to ‘unsigned int’ may change value [-Wconversion]
  862 |                 *count = xfp_size;
      |                          ^~~~~~~~
i386/i386/pcb.c:898:36: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned int’ may change value [-Wconversion]
  898 |                 state->int_table = thread->pcb->ims.v86s.int_table;
      |                                    ^~~~~~
i386/i386/pcb.c: In function ‘thread_set_syscall_return’:
i386/i386/pcb.c:948:32: warning: conversion to ‘long unsigned int’ from ‘kern_return_t’ {aka ‘int’} may change the sign of the result [-Wsign-conversion]
  948 |         thread->pcb->iss.eax = retval;
      |                                ^~~~~~
i386/i386/pcb.c: In function ‘set_user_regs’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘vm_size_t’ {aka ‘long unsigned int’} changes value from ‘-4’ to ‘18446744073709551612’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
i386/i386/pcb.c:978:20: note: in expansion of macro ‘P2ROUND’
  978 |         arg_size = P2ROUND(arg_size, USER_STACK_ALIGN);
      |                    ^~~~~~~
depbase=`echo i386/i386/phys.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386/phys.o -MD -MP -MF $depbase.Tpo -c -o i386/i386/phys.o i386/i386/phys.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/task.h:39,
                 from i386/i386/phys.c:31:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./kern/thread.h:54,
                 from i386/i386/phys.c:32:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53,
                 from i386/i386/phys.c:33:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/sys/types.h:29,
                 from ./include/string.h:29,
                 from i386/i386/phys.c:27:
i386/i386/phys.c: In function ‘copy_to_phys’:
i386/i386/phys.c:126:37: warning: conversion to ‘phys_addr_t’ {aka ‘long long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  126 |         assert(pa_to_pte(dst_addr_p + count-1) == pa_to_pte(dst_addr_p));
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
i386/i386/phys.c:126:9: note: in expansion of macro ‘assert’
  126 |         assert(pa_to_pte(dst_addr_p + count-1) == pa_to_pte(dst_addr_p));
      |         ^~~~~~
i386/i386/phys.c:126:16: note: in expansion of macro ‘pa_to_pte’
  126 |         assert(pa_to_pte(dst_addr_p + count-1) == pa_to_pte(dst_addr_p));
      |                ^~~~~~~~~
i386/i386/phys.c:136:56: warning: conversion to ‘size_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  136 |         memcpy((void *)dst_addr_v, (void *)src_addr_v, count);
      |                                                        ^~~~~
i386/i386/phys.c: In function ‘copy_from_phys’:
i386/i386/phys.c:158:37: warning: conversion to ‘phys_addr_t’ {aka ‘long long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  158 |         assert(pa_to_pte(src_addr_p + count-1) == pa_to_pte(src_addr_p));
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
i386/i386/phys.c:158:9: note: in expansion of macro ‘assert’
  158 |         assert(pa_to_pte(src_addr_p + count-1) == pa_to_pte(src_addr_p));
      |         ^~~~~~
i386/i386/phys.c:158:16: note: in expansion of macro ‘pa_to_pte’
  158 |         assert(pa_to_pte(src_addr_p + count-1) == pa_to_pte(src_addr_p));
      |                ^~~~~~~~~
i386/i386/phys.c:168:56: warning: conversion to ‘size_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  168 |         memcpy((void *)dst_addr_v, (void *)src_addr_v, count);
      |                                                        ^~~~~
depbase=`echo i386/i386/smp.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386/smp.o -MD -MP -MF $depbase.Tpo -c -o i386/i386/smp.o i386/i386/smp.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./i386/i386/idt-gen.h:29,
                 from ./i386/i386at/idt.h:46,
                 from i386/i386/smp.c:27:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./kern/printf.h:30,
                 from i386/i386/smp.c:30:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
i386/i386/smp.c: In function ‘smp_send_ipi_init’:
i386/i386/smp.c:92:11: warning: conversion to ‘int’ from ‘uint32_t’ {aka ‘unsigned int’} may change the sign of the result [-Wsign-conversion]
   92 |     err = lapic->error_status.r;
      |           ^~~~~
i386/i386/smp.c:98:72: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   98 |     apic_send_ipi(ALL_EXCLUDING_SELF, INIT, PHYSICAL, ASSERT, EDGE, 0, bsp_apic_id);
      |                                                                        ^~~~~~~~~~~
i386/i386/smp.c:110:75: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  110 |     apic_send_ipi(ALL_EXCLUDING_SELF, INIT, PHYSICAL, DE_ASSERT, EDGE, 0, bsp_apic_id);
      |                                                                           ^~~~~~~~~~~
i386/i386/smp.c:115:11: warning: conversion to ‘int’ from ‘uint32_t’ {aka ‘unsigned int’} may change the sign of the result [-Wsign-conversion]
  115 |     err = lapic->error_status.r;
      |           ^~~~~
i386/i386/smp.c: In function ‘smp_send_ipi_startup_twice’:
i386/i386/smp.c:130:15: warning: conversion to ‘int’ from ‘uint32_t’ {aka ‘unsigned int’} may change the sign of the result [-Wsign-conversion]
  130 |         err = lapic->error_status.r;
      |               ^~~~~
i386/i386/smp.c:139:79: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  139 |         apic_send_ipi(ALL_EXCLUDING_SELF, STARTUP, PHYSICAL, DE_ASSERT, EDGE, vector, bsp_apic_id);
      |                                                                               ^~~~~~
i386/i386/smp.c:139:87: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  139 |         apic_send_ipi(ALL_EXCLUDING_SELF, STARTUP, PHYSICAL, DE_ASSERT, EDGE, vector, bsp_apic_id);
      |                                                                                       ^~~~~~~~~~~
i386/i386/smp.c:145:20: warning: conversion to ‘int’ from ‘uint32_t’ {aka ‘unsigned int’} may change the sign of the result [-Wsign-conversion]
  145 |         send_err = lapic->error_status.r;
      |                    ^~~~~
i386/i386/smp.c: In function ‘smp_startup_cpus’:
i386/i386/smp.c:192:23: warning: conversion to ‘int’ from ‘unsigned int’ may change the sign of the result [-Wsign-conversion]
  192 |     smp_send_ipi_init(bsp_apic_id);
      |                       ^~~~~~~~~~~
i386/i386/smp.c:193:38: warning: conversion to ‘int’ from ‘unsigned int’ may change the sign of the result [-Wsign-conversion]
  193 |     err = smp_send_ipi_startup_twice(bsp_apic_id, start_eip >> STARTUP_VECTOR_SHIFT);
      |                                      ^~~~~~~~~~~
i386/i386/smp.c:193:61: warning: conversion from ‘phys_addr_t’ {aka ‘long long unsigned int’} to ‘int’ may change value [-Wconversion]
  193 |     err = smp_send_ipi_startup_twice(bsp_apic_id, start_eip >> STARTUP_VECTOR_SHIFT);
depbase=`echo i386/i386/strings.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386/strings.o -MD -MP -MF $depbase.Tpo -c -o i386/i386/strings.o i386/i386/strings.c &&\
mv -f $depbase.Tpo $depbase.Po
i386/i386/strings.c: In function ‘memmove’:
i386/i386/strings.c:54:14: warning: pointer of type ‘void *’ used in arithmetic [-Wpointer-arith]
   54 |         dest += n - 1;
      |              ^~
i386/i386/strings.c:54:9: warning: pointer of type ‘void *’ used in arithmetic [-Wpointer-arith]
   54 |         dest += n - 1;
      |         ^~~~
i386/i386/strings.c:55:13: warning: pointer of type ‘void *’ used in arithmetic [-Wpointer-arith]
   55 |         src += n - 1;
      |             ^~
i386/i386/strings.c:55:9: warning: pointer of type ‘void *’ used in arithmetic [-Wpointer-arith]
   55 |         src += n - 1;
      |         ^~~
depbase=`echo i386/i386/trap.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386/trap.o -MD -MP -MF $depbase.Tpo -c -o i386/i386/trap.o i386/i386/trap.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/thread.h:43,
                 from ./i386/i386/trap.h:33,
                 from i386/i386/trap.c:34:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from ./i386/i386/trap.h:34:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53,
                 from ./i386/i386/fpu.h:37,
                 from i386/i386/trap.c:35:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53,
                 from ./ipc/ipc_kmsg.h:46,
                 from ./kern/ipc_kobject.h:44,
                 from ./i386/i386/mach_i386.server.h:12,
                 from ./i386/i386/fpu.h:38:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ./i386/i386/mach_i386.server.h:13:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
In file included from ./ipc/ipc_space.h:52,
                 from ./i386/i386/mach_i386.server.h:21:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/sys/types.h:29,
                 from i386/i386/trap.c:30:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./i386/i386/fpu.h: In function ‘xsetbv’:
./i386/i386/fpu.h:90:15: warning: conversion from ‘uint64_t’ {aka ‘long unsigned int’} to ‘uint32_t’ {aka ‘unsigned int’} may change value [-Wconversion]
   90 |         eax = value;
      |               ^~~~~
./i386/i386/fpu.h:91:15: warning: conversion from ‘uint64_t’ {aka ‘long unsigned int’} to ‘uint32_t’ {aka ‘unsigned int’} may change value [-Wconversion]
   91 |         edx = value >> 32;
      |               ^~~~~
./i386/i386/fpu.h: At top level:
./i386/i386/fpu.h:237:22: warning: redundant redeclaration of ‘i386_get_xstate_size’ [-Wredundant-decls]
  237 | extern kern_return_t i386_get_xstate_size(host_t host, vm_size_t *size);
      |                      ^~~~~~~~~~~~~~~~~~~~
./i386/i386/mach_i386.server.h:136:15: note: previous declaration of ‘i386_get_xstate_size’ with type ‘kern_return_t(struct host *, vm_size_t *)’ {aka ‘int(struct host *, long unsigned int *)’}
  136 | kern_return_t i386_get_xstate_size
      |               ^~~~~~~~~~~~~~~~~~~~
i386/i386/trap.c: In function ‘user_page_fault_continue’:
i386/i386/trap.c:124:48: warning: conversion to ‘long int’ from ‘long unsigned int’ may change the sign of the result [-Wsign-conversion]
  124 |         i386_exception(EXC_BAD_ACCESS, kr, regs->cr2);
      |                                            ~~~~^~~~~
i386/i386/trap.c: At top level:
i386/i386/trap.c:130:9: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  130 |         "Divide error",
      |         ^~~~~~~~~~~~~~
i386/i386/trap.c:131:9: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  131 |         "Debug trap",
      |         ^~~~~~~~~~~~
i386/i386/trap.c:132:9: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  132 |         "NMI",
      |         ^~~~~
i386/i386/trap.c:133:9: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  133 |         "Breakpoint",
      |         ^~~~~~~~~~~~
i386/i386/trap.c:134:9: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  134 |         "Overflow",
      |         ^~~~~~~~~~
i386/i386/trap.c:135:9: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  135 |         "Bounds check",
      |         ^~~~~~~~~~~~~~
i386/i386/trap.c:136:9: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  136 |         "Invalid opcode",
      |         ^~~~~~~~~~~~~~~~
i386/i386/trap.c:137:9: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  137 |         "No coprocessor",
      |         ^~~~~~~~~~~~~~~~
i386/i386/trap.c:138:9: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  138 |         "Double fault",
      |         ^~~~~~~~~~~~~~
i386/i386/trap.c:139:9: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  139 |         "Coprocessor overrun",
      |         ^~~~~~~~~~~~~~~~~~~~~
i386/i386/trap.c:140:9: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  140 |         "Invalid TSS",
      |         ^~~~~~~~~~~~~
i386/i386/trap.c:141:9: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  141 |         "Segment not present",
      |         ^~~~~~~~~~~~~~~~~~~~~
i386/i386/trap.c:142:9: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  142 |         "Stack bounds",
      |         ^~~~~~~~~~~~~~
i386/i386/trap.c:143:9: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  143 |         "General protection",
      |         ^~~~~~~~~~~~~~~~~~~~
i386/i386/trap.c:144:9: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  144 |         "Page fault",
      |         ^~~~~~~~~~~~
i386/i386/trap.c:145:9: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  145 |         "(reserved)",
      |         ^~~~~~~~~~~~
i386/i386/trap.c:146:9: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  146 |         "Coprocessor error"
      |         ^~~~~~~~~~~~~~~~~~~
i386/i386/trap.c: In function ‘trap_name’:
i386/i386/trap.c:152:58: warning: return discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  152 |         return trapnum < TRAP_TYPES ? trap_type[trapnum] : "(unknown)";
      |                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~
i386/i386/trap.c: In function ‘kernel_trap’:
i386/i386/trap.c:168:21: warning: nested extern declaration of ‘_start’ [-Wnested-externs]
  168 |         extern char _start[], etext[];
      |                     ^~~~~~
i386/i386/trap.c:168:31: warning: nested extern declaration of ‘etext’ [-Wnested-externs]
  168 |         extern char _start[], etext[];
      |                               ^~~~~
In file included from ./machine/vm_param.h:29,
                 from ./vm/vm_page.h:39:
./include/mach/vm_param.h:87:59: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   87 | #define trunc_page(x)   ((vm_offset_t)(((vm_offset_t)(x)) & ~PAGE_MASK))
      |                                                           ^
i386/i386/trap.c:218:29: note: in expansion of macro ‘trunc_page’
  218 |                         if (trunc_page(subcode) == 0
      |                             ^~~~~~~~~~
./include/mach/vm_param.h:87:59: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   87 | #define trunc_page(x)   ((vm_offset_t)(((vm_offset_t)(x)) & ~PAGE_MASK))
      |                                                           ^
i386/i386/trap.c:243:35: note: in expansion of macro ‘trunc_page’
  243 |                                   trunc_page((vm_offset_t)subcode),
      |                                   ^~~~~~~~~~
i386/i386/trap.c:320:25: warning: the address of ‘recover_table’ will always evaluate as ‘true’ [-Waddress]
  320 |                     if (recover_table && recover_table_end &&
      |                         ^~~~~~~~~~~~~
i386/i386/trap.c:320:39: warning: the address of ‘recover_table_end’ will always evaluate as ‘true’ [-Waddress]
  320 |                     if (recover_table && recover_table_end &&
      |                                       ^~
i386/i386/trap.c: In function ‘user_trap’:
i386/i386/trap.c:518:49: warning: conversion from ‘long unsigned int’ to ‘int’ may change value [-Wconversion]
  518 |                         opcode = inst_fetch(regs->eip, regs->cs);
      |                                             ~~~~^~~~~
i386/i386/trap.c:518:60: warning: conversion from ‘long unsigned int’ to ‘int’ may change value [-Wconversion]
  518 |                         opcode = inst_fetch(regs->eip, regs->cs);
      |                                                        ~~~~^~~~
i386/i386/trap.c:518:34: warning: conversion from ‘int’ to ‘unsigned char’ may change value [-Wconversion]
  518 |                         opcode = inst_fetch(regs->eip, regs->cs);
      |                                  ^~~~~~~~~~
i386/i386/trap.c:519:54: warning: conversion from ‘long unsigned int’ to ‘int’ may change value [-Wconversion]
  519 |                         intno  = inst_fetch(regs->eip+1, regs->cs);
      |                                             ~~~~~~~~~^~
i386/i386/trap.c:519:62: warning: conversion from ‘long unsigned int’ to ‘int’ may change value [-Wconversion]
  519 |                         intno  = inst_fetch(regs->eip+1, regs->cs);
      |                                                          ~~~~^~~~
i386/i386/trap.c:519:34: warning: conversion from ‘int’ to ‘unsigned char’ may change value [-Wconversion]
  519 |                         intno  = inst_fetch(regs->eip+1, regs->cs);
      |                                  ^~~~~~~~~~
i386/i386/trap.c:530:49: warning: conversion from ‘long unsigned int’ to ‘int’ may change value [-Wconversion]
  530 |                         opcode = inst_fetch(regs->eip, regs->cs);
      |                                             ~~~~^~~~~
i386/i386/trap.c:530:60: warning: conversion from ‘long unsigned int’ to ‘int’ may change value [-Wconversion]
  530 |                         opcode = inst_fetch(regs->eip, regs->cs);
      |                                                        ~~~~^~~~
i386/i386/trap.c:530:34: warning: conversion from ‘int’ to ‘unsigned char’ may change value [-Wconversion]
  530 |                         opcode = inst_fetch(regs->eip, regs->cs);
      |                                  ^~~~~~~~~~
i386/i386/trap.c:532:63: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  532 |                                 addr[i] = inst_fetch(regs->eip+i+1, regs->cs);
      |                                                               ^
i386/i386/trap.c:532:65: warning: conversion from ‘long unsigned int’ to ‘int’ may change value [-Wconversion]
  532 |                                 addr[i] = inst_fetch(regs->eip+i+1, regs->cs);
      |                                                      ~~~~~~~~~~~^~
i386/i386/trap.c:532:73: warning: conversion from ‘long unsigned int’ to ‘int’ may change value [-Wconversion]
  532 |                                 addr[i] = inst_fetch(regs->eip+i+1, regs->cs);
      |                                                                     ~~~~^~~~
i386/i386/trap.c:532:43: warning: conversion from ‘int’ to ‘unsigned char’ may change value [-Wconversion]
  532 |                                 addr[i] = inst_fetch(regs->eip+i+1, regs->cs);
      |                                           ^~~~~~~~~~
i386/i386/trap.c:535:62: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  535 |                                 seg[i] = inst_fetch(regs->eip+i+5, regs->cs);
      |                                                              ^
i386/i386/trap.c:535:64: warning: conversion from ‘long unsigned int’ to ‘int’ may change value [-Wconversion]
  535 |                                 seg[i] = inst_fetch(regs->eip+i+5, regs->cs);
      |                                                     ~~~~~~~~~~~^~
i386/i386/trap.c:535:72: warning: conversion from ‘long unsigned int’ to ‘int’ may change value [-Wconversion]
  535 |                                 seg[i] = inst_fetch(regs->eip+i+5, regs->cs);
      |                                                                    ~~~~^~~~
i386/i386/trap.c:535:42: warning: conversion from ‘int’ to ‘unsigned char’ may change value [-Wconversion]
  535 |                                 seg[i] = inst_fetch(regs->eip+i+5, regs->cs);
      |                                          ^~~~~~~~~~
i386/i386/trap.c:555:72: warning: conversion to ‘long int’ from ‘long unsigned int’ may change the sign of the result [-Wsign-conversion]
  555 |                         i386_exception(EXC_BAD_ACCESS, EXC_I386_PGFLT, subcode);
      |                                                                        ^~~~~~~
./include/mach/vm_param.h:87:59: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   87 | #define trunc_page(x)   ((vm_offset_t)(((vm_offset_t)(x)) & ~PAGE_MASK))
      |                                                           ^
i386/i386/trap.c:557:33: note: in expansion of macro ‘trunc_page’
  557 |                                 trunc_page((vm_offset_t)subcode),
      |                                 ^~~~~~~~~~
i386/i386/trap.c:615:29: warning: conversion from ‘long unsigned int’ to ‘int’ may change value [-Wconversion]
  615 |         i386_exception(exc, code, subcode);
      |                             ^~~~
i386/i386/trap.c:615:35: warning: conversion to ‘long int’ from ‘long unsigned int’ may change the sign of the result [-Wsign-conversion]
  615 |         i386_exception(exc, code, subcode);
      |                                   ^~~~~~~
i386/i386/trap.c: In function ‘interrupted_pc’:
i386/i386/trap.c:694:19: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  694 |         return iss->eip;
      |                ~~~^~~~~
depbase=`echo i386/i386/user_ldt.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386/user_ldt.o -MD -MP -MF $depbase.Tpo -c -o i386/i386/user_ldt.o i386/i386/user_ldt.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from i386/i386/user_ldt.c:34:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./kern/thread.h:54:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53,
                 from ./vm/vm_kern.h:38,
                 from i386/i386/user_ldt.c:36:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ./i386/i386/mach_i386.server.h:13,
                 from i386/i386/user_ldt.c:43:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
In file included from ./ipc/ipc_space.h:52,
                 from ./i386/i386/mach_i386.server.h:21:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/sys/types.h:29,
                 from ./include/string.h:29,
                 from i386/i386/user_ldt.c:31:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
i386/i386/user_ldt.c: In function ‘i386_set_ldt’:
./machine/seg.h:145:25: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  145 | #define sel_idx(sel)    ((sel)>>3)
      |                         ^
i386/i386/user_ldt.c:67:38: note: in expansion of macro ‘sel_idx’
   67 |         unsigned        first_desc = sel_idx(first_selector);
      |                                      ^~~~~~~
i386/i386/user_ldt.c:172:45: warning: conversion from ‘vm_size_t’ {aka ‘long unsigned int’} to ‘short unsigned int’ may change value [-Wconversion]
  172 |                 new_ldt->desc.limit_low   = ldt_size_needed - 1;
      |                                             ^~~~~~~~~~~~~~~
i386/i386/user_ldt.c:176:45: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  176 |                 new_ldt->desc.base_high   = ldt_base >> 24;
      |                                             ^~~~~~~~
i386/i386/user_ldt.c: In function ‘i386_get_ldt’:
i386/i386/user_ldt.c:300:25: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  300 |             ldt_count = (user_ldt->desc.limit_low + 1) /
      |                         ^
i386/i386/user_ldt.c:302:23: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  302 |             ldt_count -= first_desc;
      |                       ^~
i386/i386/user_ldt.c:304:29: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  304 |                 ldt_count = selector_count;
      |                             ^~~~~~~~~~~~~~
In file included from ./machine/vm_param.h:29,
                 from ./vm/vm_page.h:39:
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
i386/i386/user_ldt.c:314:27: note: in expansion of macro ‘round_page’
  314 |             size_needed = round_page(ldt_size);
      |                           ^~~~~~~~~~
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
i386/i386/user_ldt.c:349:25: note: in expansion of macro ‘round_page’
  349 |             size_used = round_page(ldt_size);
      |                         ^~~~~~~~~~
i386/i386/user_ldt.c: In function ‘i386_set_gdt’:
i386/i386/user_ldt.c:394:72: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
  394 |         const struct real_descriptor *desc = (struct real_descriptor *)&descriptor;
      |                                                                        ^~~~~~~~~~~
depbase=`echo i386/intel/pmap.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/intel/pmap.o -MD -MP -MF $depbase.Tpo -c -o i386/intel/pmap.o i386/intel/pmap.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from i386/intel/pmap.c:75:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53,
                 from i386/intel/pmap.c:76:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./kern/thread.h:54:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53,
                 from i386/intel/pmap.c:82:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
i386/intel/pmap.c: In function ‘pmap_bootstrap_pae’:
i386/intel/pmap.c:667:27: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  667 |                 pdp_index += lin2pdpnum(VM_MIN_KERNEL_ADDRESS);
      |                           ^~
i386/intel/pmap.c:671:47: warning: pointer of type ‘void *’ used in arithmetic [-Wpointer-arith]
  671 |                                               + i * INTEL_PGBYTES))
      |                                               ^
i386/intel/pmap.c:111:61: note: in definition of macro ‘WRITE_PTE’
  111 | #define WRITE_PTE(pte_p, pte_entry)             *(pte_p) = (pte_entry);
      |                                                             ^~~~~~~~~
i386/intel/pmap.c:670:27: note: in expansion of macro ‘pa_to_pte’
  670 |                           pa_to_pte(_kvtophys((void *) kernel_page_dir
      |                           ^~~~~~~~~
i386/intel/pmap.c:670:37: note: in expansion of macro ‘_kvtophys’
  670 |                           pa_to_pte(_kvtophys((void *) kernel_page_dir
      |                                     ^~~~~~~~~
i386/intel/pmap.c: In function ‘pmap_bootstrap’:
i386/intel/pmap.c:866:53: warning: nested extern declaration of ‘_start’ [-Wnested-externs]
  866 |                                         extern char _start[], etext[];
      |                                                     ^~~~~~
i386/intel/pmap.c:866:63: warning: nested extern declaration of ‘etext’ [-Wnested-externs]
  866 |                                         extern char _start[], etext[];
      |                                                               ^~~~~
In file included from ./machine/vm_param.h:29,
                 from ./vm/vm_page.h:39:
i386/intel/pmap.c: In function ‘pmap_init’:
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
i386/intel/pmap.c:1134:13: note: in expansion of macro ‘round_page’
 1134 |         s = round_page(s);
      |             ^~~~~~~~~~
i386/intel/pmap.c: In function ‘pmap_create’:
i386/intel/pmap.c:1390:49: warning: pointer of type ‘void *’ used in arithmetic [-Wpointer-arith]
 1390 |                        (void *) kernel_page_dir + i * INTEL_PGBYTES,
      |                                                 ^
i386/intel/pmap.c:1429:35: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 1429 |                         pdp_index += lin2pdpnum(VM_MIN_KERNEL_ADDRESS);
      |                                   ^~
i386/intel/pmap.c: In function ‘pmap_remove_range’:
i386/intel/pmap.c:1627:69: warning: conversion to ‘long unsigned int’ from ‘long int’ may change the sign of the result [-Wsign-conversion]
 1627 |         if (pmap == kernel_pmap && (va < kernel_virtual_start || va + (epte-spte)*PAGE_SIZE > kernel_virtual_end))
      |                                                                     ^
In file included from i386/intel/pmap.c:74:
i386/intel/pmap.c:1628:125: warning: conversion to ‘long unsigned int’ from ‘long int’ may change the sign of the result [-Wsign-conversion]
 1628 |                 panic("pmap_remove_range(%lx-%lx) falls in physical memory area!\n", (unsigned long) va, (unsigned long) va + (epte-spte)*PAGE_SIZE);
      |                                                                                                                             ^
./kern/debug.h:67:55: note: in definition of macro ‘panic’
   67 |         Panic (__FILE__, __LINE__, __FUNCTION__, s, ##__VA_ARGS__)
      |                                                       ^~~~~~~~~~~
i386/intel/pmap.c:1691:47: warning: conversion to ‘pt_entry_t’ {aka ‘long long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
 1691 |                     pmap_phys_attributes[pai] |=
      |                                               ^~
i386/intel/pmap.c:1762:36: warning: conversion to ‘long unsigned int’ from ‘integer_t’ {aka ‘int’} may change the sign of the result [-Wsign-conversion]
 1762 |         pmap->stats.resident_count -= num_removed;
      |                                    ^~
i386/intel/pmap.c:1762:39: warning: conversion from ‘long unsigned int’ to ‘integer_t’ {aka ‘int’} may change value [-Wconversion]
 1762 |         pmap->stats.resident_count -= num_removed;
      |                                       ^~~~~~~~~~~
i386/intel/pmap.c:1763:33: warning: conversion to ‘long unsigned int’ from ‘integer_t’ {aka ‘int’} may change the sign of the result [-Wsign-conversion]
 1763 |         pmap->stats.wired_count -= num_unwired;
      |                                 ^~
i386/intel/pmap.c:1763:36: warning: conversion from ‘long unsigned int’ to ‘integer_t’ {aka ‘int’} may change value [-Wconversion]
 1763 |         pmap->stats.wired_count -= num_unwired;
      |                                    ^~~~~~~~~~~
i386/intel/pmap.c: In function ‘pmap_page_protect’:
i386/intel/pmap.c:1903:55: warning: conversion to ‘pt_entry_t’ {aka ‘long long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
 1903 |                             pmap_phys_attributes[pai] |=
      |                                                       ^~
i386/intel/pmap.c:1944:30: warning: unsigned conversion from ‘int’ to ‘pt_entry_t’ {aka ‘long long unsigned int’} changes value from ‘-3’ to ‘18446744073709551613’ [-Wsign-conversion]
 1944 |                         *pte &= ~INTEL_PTE_WRITE;
      |                              ^~
i386/intel/pmap.c: In function ‘pmap_protect’:
i386/intel/pmap.c:2053:31: warning: unsigned conversion from ‘int’ to ‘pt_entry_t’ {aka ‘long long unsigned int’} changes value from ‘-3’ to ‘18446744073709551613’ [-Wsign-conversion]
 2053 |                         *spte &= ~INTEL_PTE_WRITE;
      |                               ^~
i386/intel/pmap.c: In function ‘pmap_change_wiring’:
i386/intel/pmap.c:2470:22: warning: unsigned conversion from ‘int’ to ‘pt_entry_t’ {aka ‘long long unsigned int’} changes value from ‘-513’ to ‘18446744073709551103’ [-Wsign-conversion]
 2470 |                 *pte &= ~INTEL_PTE_WIRED;
      |                      ^~
i386/intel/pmap.c: In function ‘phys_attribute_clear’:
i386/intel/pmap.c:2936:30: warning: conversion to ‘pt_entry_t’ {aka ‘long long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
 2936 |                         *pte &= ~bits;
      |                              ^~
i386/intel/pmap.c:2945:38: warning: conversion from ‘int’ to ‘char’ may change value [-Wconversion]
 2945 |         pmap_phys_attributes[pai] &= ~bits;
      |                                      ^
i386/intel/pmap.c: In function ‘phys_attribute_test’:
i386/intel/pmap.c:3025:34: warning: conversion to ‘pt_entry_t’ {aka ‘long long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
 3025 |                         if (*pte & bits) {
      |                                  ^
In file included from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from i386/intel/pmap.c:81:
i386/intel/pmap.c: In function ‘pmap_set_page_dir’:
./i386/i386/proc_reg.h:204:32: warning: declaration of ‘_temp__’ shadows a previous local [-Wshadow]
  204 |         register unsigned long _temp__; \
      |                                ^~~~~~~
./i386/i386/proc_reg.h:211:43: note: in definition of macro ‘set_cr4’
  211 |         register unsigned long _temp__ = (value); \
      |                                           ^~~~~
i386/intel/pmap.c:3362:17: note: in expansion of macro ‘get_cr4’
 3362 |         set_cr4(get_cr4() | CR4_PAE);
      |                 ^~~~~~~
./i386/i386/proc_reg.h:211:32: note: shadowed declaration is here
  211 |         register unsigned long _temp__ = (value); \
      |                                ^~~~~~~
i386/intel/pmap.c:3362:9: note: in expansion of macro ‘set_cr4’
 3362 |         set_cr4(get_cr4() | CR4_PAE);
      |         ^~~~~~~
depbase=`echo i386/intel/read_fault.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/intel/read_fault.o -MD -MP -MF $depbase.Tpo -c -o i386/intel/read_fault.o i386/intel/read_fault.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./vm/vm_fault.h:37,
                 from i386/intel/read_fault.c:27:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from ./vm/pmap.h:45:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
depbase=`echo i386/i386at/acpi_parse_apic.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386at/acpi_parse_apic.o -MD -MP -MF $depbase.Tpo -c -o i386/i386at/acpi_parse_apic.o i386/i386at/acpi_parse_apic.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from i386/i386at/acpi_parse_apic.c:28:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./vm/vm_kern.h:38,
                 from i386/i386at/acpi_parse_apic.c:33:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53,
                 from ./vm/pmap.h:45:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
i386/i386at/acpi_parse_apic.c: In function ‘acpi_search_rsdp’:
i386/i386at/acpi_parse_apic.c:178:20: warning: pointer of type ‘void *’ used in arithmetic [-Wpointer-arith]
  178 |     for (end = addr+length; addr < end; addr += ACPI_RSDP_ALIGN) {
      |                    ^
i386/i386at/acpi_parse_apic.c:178:46: warning: pointer of type ‘void *’ used in arithmetic [-Wpointer-arith]
  178 |     for (end = addr+length; addr < end; addr += ACPI_RSDP_ALIGN) {
      |                                              ^~
i386/i386at/acpi_parse_apic.c: In function ‘acpi_get_rsdt’:
i386/i386at/acpi_parse_apic.c:249:20: warning: conversion from ‘long unsigned int’ to ‘int’ may change value [-Wconversion]
  249 |     *acpi_rsdt_n = (rsdt->header.length - sizeof(rsdt->header))
      |                    ^
i386/i386at/acpi_parse_apic.c: In function ‘acpi_get_xsdt’:
i386/i386at/acpi_parse_apic.c:283:20: warning: conversion from ‘long unsigned int’ to ‘int’ may change value [-Wconversion]
  283 |     *acpi_xsdt_n = (xsdt->header.length - sizeof(xsdt->header))
      |                    ^
i386/i386at/acpi_parse_apic.c: In function ‘acpi_get_apic’:
i386/i386at/acpi_parse_apic.c:322:51: warning: format ‘%llx’ expects argument of type ‘long long unsigned int’, but argument 2 has type ‘uint64_t’ {aka ‘long unsigned int’} [-Wformat=]
  322 |             printf("HPET at physical address 0x%llx\n", map_addr);
      |                                                ~~~^     ~~~~~~~~
      |                                                   |     |
      |                                                   |     uint64_t {aka long unsigned int}
      |                                                   long long unsigned int
      |                                                %lx
i386/i386at/acpi_parse_apic.c: In function ‘acpi_get_apic2’:
i386/i386at/acpi_parse_apic.c:362:51: warning: format ‘%llx’ expects argument of type ‘long long unsigned int’, but argument 2 has type ‘uint64_t’ {aka ‘long unsigned int’} [-Wformat=]
  362 |             printf("HPET at physical address 0x%llx\n", map_addr);
      |                                                ~~~^     ~~~~~~~~
      |                                                   |     |
      |                                                   |     uint64_t {aka long unsigned int}
      |                                                   long long unsigned int
      |                                                %lx
i386/i386at/acpi_parse_apic.c: In function ‘acpi_apic_parse_table’:
i386/i386at/acpi_parse_apic.c:456:36: warning: format ‘%x’ expects argument of type ‘unsigned int’, but argument 3 has type ‘vm_offset_t’ {aka ‘long unsigned int’} [-Wformat=]
  456 |     printf("APIC entry=0x%p end=0x%x\n", apic_entry, end);
      |                                   ~^                 ~~~
      |                                    |                 |
      |                                    unsigned int      vm_offset_t {aka long unsigned int}
      |                                   %lx
i386/i386at/acpi_parse_apic.c:467:40: warning: format ‘%x’ expects argument of type ‘unsigned int’, but argument 3 has type ‘vm_offset_t’ {aka ‘long unsigned int’} [-Wformat=]
  467 |         printf("APIC entry=0x%p end=0x%x\n", apic_entry, end);
      |                                       ~^                 ~~~
      |                                        |                 |
      |                                        unsigned int      vm_offset_t {aka long unsigned int}
      |                                       %lx
depbase=`echo i386/i386at/autoconf.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386at/autoconf.o -MD -MP -MF $depbase.Tpo -c -o i386/i386at/autoconf.o i386/i386at/autoconf.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from i386/i386at/autoconf.c:27:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./device/io_req.h:38,
                 from ./device/tty.h:43,
                 from ./i386/i386at/com.h:31,
                 from i386/i386at/autoconf.c:47:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./device/io_req.h:41:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
i386/i386at/autoconf.c: At top level:
i386/i386at/autoconf.c:70:16: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
   70 |   {&comdriver, "com", 0, comintr, 0x3f8, 8, 0x3f8,
      |                ^~~~~
i386/i386at/autoconf.c:72:16: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
   72 |   {&comdriver, "com", 1, comintr, 0x2f8, 8, 0x2f8,
      |                ^~~~~
i386/i386at/autoconf.c:74:16: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
   74 |   {&comdriver, "com", 2, comintr, 0x3e8, 8, 0x3e8,
      |                ^~~~~
i386/i386at/autoconf.c: In function ‘take_dev_irq’:
i386/i386at/autoconf.c:148:20: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  148 |         unmask_irq(pic);
      |                    ^~~
depbase=`echo i386/i386at/biosmem.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386at/biosmem.o -MD -MP -MF $depbase.Tpo -c -o i386/i386at/biosmem.o i386/i386at/biosmem.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from i386/i386at/biosmem.c:25:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_object.h:49,
                 from ./vm/vm_page.h:40,
                 from i386/i386at/biosmem.c:30:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53,
                 from ./vm/pmap.h:45:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./vm/vm_page.h:45:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/sys/types.h:29,
                 from ./include/string.h:29,
                 from i386/i386at/biosmem.c:18:
i386/i386at/biosmem.c: In function ‘biosmem_map_adjust_alignment’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘uint64_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
i386/i386at/biosmem.c:270:24: note: in expansion of macro ‘vm_page_round’
  270 |         e->base_addr = vm_page_round (e->base_addr);
      |                        ^~~~~~~~~~~~~
./kern/macros.h:59:34: warning: unsigned conversion from ‘int’ to ‘uint64_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   59 | #define P2ALIGN(x, a)       ((x) & -(a))
      |                                  ^
./vm/vm_page.h:331:33: note: in expansion of macro ‘P2ALIGN’
  331 | #define vm_page_trunc(addr)     P2ALIGN(addr, PAGE_SIZE)
      |                                 ^~~~~~~
i386/i386at/biosmem.c:271:21: note: in expansion of macro ‘vm_page_trunc’
  271 |         e->length = vm_page_trunc (end) - e->base_addr;
      |                     ^~~~~~~~~~~~~
i386/i386at/biosmem.c: In function ‘biosmem_map_build’:
i386/i386at/biosmem.c:294:37: warning: pointer of type ‘void *’ used in arithmetic [-Wpointer-arith]
  294 |         mb_entry = (void *)mb_entry + sizeof(mb_entry->size) + mb_entry->size;
      |                                     ^
i386/i386at/biosmem.c:294:62: warning: pointer of type ‘void *’ used in arithmetic [-Wpointer-arith]
  294 |         mb_entry = (void *)mb_entry + sizeof(mb_entry->size) + mb_entry->size;
      |                                                              ^
i386/i386at/biosmem.c:300:24: warning: conversion from ‘long int’ to ‘unsigned int’ may change value [-Wconversion]
  300 |     biosmem_map_size = entry - start;
      |                        ^~~~~
i386/i386at/biosmem.c: In function ‘biosmem_map_find_avail’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘uint64_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
i386/i386at/biosmem.c:503:17: note: in expansion of macro ‘vm_page_round’
  503 |         start = vm_page_round(entry->base_addr);
      |                 ^~~~~~~~~~~~~
./kern/macros.h:59:34: warning: unsigned conversion from ‘int’ to ‘uint64_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   59 | #define P2ALIGN(x, a)       ((x) & -(a))
      |                                  ^
./vm/vm_page.h:331:33: note: in expansion of macro ‘P2ALIGN’
  331 | #define vm_page_trunc(addr)     P2ALIGN(addr, PAGE_SIZE)
      |                                 ^~~~~~~
i386/i386at/biosmem.c:508:15: note: in expansion of macro ‘vm_page_trunc’
  508 |         end = vm_page_trunc(entry->base_addr + entry->length);
      |               ^~~~~~~~~~~~~
i386/i386at/biosmem.c: In function ‘biosmem_find_avail_clip’:
./kern/macros.h:59:34: warning: unsigned conversion from ‘int’ to ‘phys_addr_t’ {aka ‘long long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   59 | #define P2ALIGN(x, a)       ((x) & -(a))
      |                                  ^
./vm/vm_page.h:331:33: note: in expansion of macro ‘P2ALIGN’
  331 | #define vm_page_trunc(addr)     P2ALIGN(addr, PAGE_SIZE)
      |                                 ^~~~~~~
i386/i386at/biosmem.c:558:18: note: in expansion of macro ‘vm_page_trunc’
  558 |     data_start = vm_page_trunc(data_start);
      |                  ^~~~~~~~~~~~~
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘phys_addr_t’ {aka ‘long long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
i386/i386at/biosmem.c:559:16: note: in expansion of macro ‘vm_page_round’
  559 |     data_end = vm_page_round(data_end);
      |                ^~~~~~~~~~~~~
i386/i386at/biosmem.c: In function ‘biosmem_find_avail’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘phys_addr_t’ {aka ‘long long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
i386/i386at/biosmem.c:602:13: note: in expansion of macro ‘vm_page_round’
  602 |     start = vm_page_round(start);
      |             ^~~~~~~~~~~~~
./kern/macros.h:59:34: warning: unsigned conversion from ‘int’ to ‘phys_addr_t’ {aka ‘long long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   59 | #define P2ALIGN(x, a)       ((x) & -(a))
      |                                  ^
./vm/vm_page.h:331:33: note: in expansion of macro ‘P2ALIGN’
  331 | #define vm_page_trunc(addr)     P2ALIGN(addr, PAGE_SIZE)
      |                                 ^~~~~~~
i386/i386at/biosmem.c:603:11: note: in expansion of macro ‘vm_page_trunc’
  603 |     end = vm_page_trunc(end);
      |           ^~~~~~~~~~~~~
i386/i386at/biosmem.c: In function ‘biosmem_setup_allocator’:
./kern/macros.h:59:34: warning: unsigned conversion from ‘int’ to ‘uint32_t’ {aka ‘unsigned int’} changes value from ‘-4096’ to ‘4294963200’ [-Wsign-conversion]
   59 | #define P2ALIGN(x, a)       ((x) & -(a))
      |                                  ^
./vm/vm_page.h:331:33: note: in expansion of macro ‘P2ALIGN’
  331 | #define vm_page_trunc(addr)     P2ALIGN(addr, PAGE_SIZE)
      |                                 ^~~~~~~
i386/i386at/biosmem.c:638:11: note: in expansion of macro ‘vm_page_trunc’
  638 |     end = vm_page_trunc((mbi->mem_upper + 1024) << 10);
      |           ^~~~~~~~~~~~~
i386/i386at/biosmem.c: In function ‘biosmem_load_segment’:
i386/i386at/biosmem.c:907:17: warning: conversion from ‘long int’ to ‘unsigned int’ may change value [-Wconversion]
  907 |     seg_index = seg - biosmem_segments;
      |                 ^~~
i386/i386at/biosmem.c: In function ‘biosmem_free_usable’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘uint64_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
i386/i386at/biosmem.c:1032:17: note: in expansion of macro ‘vm_page_round’
 1032 |         start = vm_page_round(entry->base_addr);
      |                 ^~~~~~~~~~~~~
./kern/macros.h:59:34: warning: unsigned conversion from ‘int’ to ‘uint64_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   59 | #define P2ALIGN(x, a)       ((x) & -(a))
      |                                  ^
./vm/vm_page.h:331:33: note: in expansion of macro ‘P2ALIGN’
  331 | #define vm_page_trunc(addr)     P2ALIGN(addr, PAGE_SIZE)
      |                                 ^~~~~~~
i386/i386at/biosmem.c:1037:15: note: in expansion of macro ‘vm_page_trunc’
 1037 |         end = vm_page_trunc(entry->base_addr + entry->length);
      |               ^~~~~~~~~~~~~
depbase=`echo i386/i386at/conf.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386at/conf.o -MD -MP -MF $depbase.Tpo -c -o i386/i386at/conf.o i386/i386at/conf.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/mach_clock.h:36,
                 from i386/i386at/conf.c:32:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./device/io_req.h:38,
                 from ./i386/i386at/kd.h:78,
                 from i386/i386at/conf.c:38:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./device/io_req.h:41:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ./device/intr.h:23,
                 from i386/i386at/conf.c:71:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
i386/i386at/conf.c: At top level:
i386/i386at/conf.c:90:11: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
   90 |         { "cn",         nulldev_open,   nulldev_close,  nulldev_read,
      |           ^~~~
i386/i386at/conf.c:39:33: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
   39 | #define kdname                  "kd"
      |                                 ^~~~
i386/i386at/conf.c:102:11: note: in expansion of macro ‘kdname’
  102 |         { kdname,       kdopen,         kdclose,        kdread,
      |           ^~~~~~
i386/i386at/conf.c:35:33: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
   35 | #define timename                "time"
      |                                 ^~~~~~
i386/i386at/conf.c:108:11: note: in expansion of macro ‘timename’
  108 |         { timename,     timeopen,       timeclose,      nulldev_read,
      |           ^~~~~~~~
i386/i386at/conf.c:43:33: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
   43 | #define comname                 "com"
      |                                 ^~~~~
i386/i386at/conf.c:115:11: note: in expansion of macro ‘comname’
  115 |         { comname,      comopen,        comclose,       comread,
      |           ^~~~~~~
i386/i386at/conf.c:57:33: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
   57 | #define mousename               "mouse"
      |                                 ^~~~~~~
i386/i386at/conf.c:128:11: note: in expansion of macro ‘mousename’
  128 |         { mousename,    mouseopen,      mouseclose,     mouseread,
      |           ^~~~~~~~~
i386/i386at/conf.c:53:33: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
   53 | #define kbdname                 "kbd"
      |                                 ^~~~~
i386/i386at/conf.c:133:11: note: in expansion of macro ‘kbdname’
  133 |         { kbdname,      kbdopen,        kbdclose,       kbdread,
      |           ^~~~~~~
i386/i386at/conf.c:60:33: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
   60 | #define memname                 "mem"
      |                                 ^~~~~
i386/i386at/conf.c:138:11: note: in expansion of macro ‘memname’
  138 |         { memname,      nulldev_open,   nulldev_close,  nulldev_read,
      |           ^~~~~~~
i386/i386at/conf.c:64:33: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
   64 | #define kmsgname                "kmsg"
      |                                 ^~~~~~
i386/i386at/conf.c:145:11: note: in expansion of macro ‘kmsgname’
  145 |         { kmsgname,     kmsgopen,       kmsgclose,       kmsgread,
      |           ^~~~~~~~
i386/i386at/conf.c:72:33: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
   72 | #define irqname                 "irq"
      |                                 ^~~~~
i386/i386at/conf.c:158:11: note: in expansion of macro ‘irqname’
  158 |         { irqname,      nulldev_open,   nulldev_close,    nulldev_read,
      |           ^~~~~~~
i386/i386at/conf.c:75:33: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
   75 | #define mbinfoname              "mbinfo"
      |                                 ^~~~~~~~
i386/i386at/conf.c:164:11: note: in expansion of macro ‘mbinfoname’
  164 |         { mbinfoname,   nulldev_open,   nulldev_close,  mbinforead,
      |           ^~~~~~~~~~
i386/i386at/conf.c:179:11: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  179 |         { "console",    &dev_name_list[0],      0 }
      |           ^~~~~~~~~
depbase=`echo i386/i386at/cons_conf.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386at/cons_conf.o -MD -MP -MF $depbase.Tpo -c -o i386/i386at/cons_conf.o i386/i386at/cons_conf.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./device/input.h:25,
                 from i386/i386at/kd.h:74,
                 from i386/i386at/cons_conf.c:36:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./device/io_req.h:38,
                 from i386/i386at/kd.h:78:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./device/io_req.h:41:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
i386/i386at/cons_conf.c: At top level:
i386/i386at/cons_conf.c:57:10: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
   57 |         {"kd",  kdcnprobe,      kdcninit,       kdcngetc,       kdcnputc},
      |          ^~~~
i386/i386at/cons_conf.c:57:9: warning: missing initializer for field ‘cn_dev’ of ‘struct consdev’ [-Wmissing-field-initializers]
   57 |         {"kd",  kdcnprobe,      kdcninit,       kdcngetc,       kdcnputc},
      |         ^
In file included from i386/i386at/cons_conf.c:31:
./device/cons.h:34:17: note: ‘cn_dev’ declared here
   34 |         dev_t   cn_dev;         /* major/minor of device */
      |                 ^~~~~~
i386/i386at/cons_conf.c:59:10: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
   59 |         {"com", comcnprobe,     comcninit,      comcngetc,      comcnputc},
      |          ^~~~~
i386/i386at/cons_conf.c:59:9: warning: missing initializer for field ‘cn_dev’ of ‘struct consdev’ [-Wmissing-field-initializers]
   59 |         {"com", comcnprobe,     comcninit,      comcngetc,      comcnputc},
      |         ^
./device/cons.h:34:17: note: ‘cn_dev’ declared here
   34 |         dev_t   cn_dev;         /* major/minor of device */
      |                 ^~~~~~
depbase=`echo i386/i386at/model_dep.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386at/model_dep.o -MD -MP -MF $depbase.Tpo -c -o i386/i386at/model_dep.o i386/i386at/model_dep.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/mach_clock.h:36,
                 from i386/i386at/model_dep.c:49:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53,
                 from ./kern/startup.h:22,
                 from i386/i386at/model_dep.c:52:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./kern/thread.h:54:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from i386/i386at/model_dep.c:55:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ./i386/i386/mach_i386.server.h:13,
                 from ./i386/i386/fpu.h:38,
                 from i386/i386at/model_dep.c:56:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
In file included from ./ipc/ipc_space.h:52,
                 from ./i386/i386/mach_i386.server.h:21:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/sys/types.h:29,
                 from ./include/string.h:29,
                 from i386/i386at/model_dep.c:36:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./i386/i386/fpu.h: In function ‘xsetbv’:
./i386/i386/fpu.h:90:15: warning: conversion from ‘uint64_t’ {aka ‘long unsigned int’} to ‘uint32_t’ {aka ‘unsigned int’} may change value [-Wconversion]
   90 |         eax = value;
      |               ^~~~~
./i386/i386/fpu.h:91:15: warning: conversion from ‘uint64_t’ {aka ‘long unsigned int’} to ‘uint32_t’ {aka ‘unsigned int’} may change value [-Wconversion]
   91 |         edx = value >> 32;
      |               ^~~~~
./i386/i386/fpu.h: At top level:
./i386/i386/fpu.h:237:22: warning: redundant redeclaration of ‘i386_get_xstate_size’ [-Wredundant-decls]
  237 | extern kern_return_t i386_get_xstate_size(host_t host, vm_size_t *size);
      |                      ^~~~~~~~~~~~~~~~~~~~
./i386/i386/mach_i386.server.h:136:15: note: previous declaration of ‘i386_get_xstate_size’ with type ‘kern_return_t(struct host *, vm_size_t *)’ {aka ‘int(struct host *, long unsigned int *)’}
  136 | kern_return_t i386_get_xstate_size
      |               ^~~~~~~~~~~~~~~~~~~~
i386/i386at/model_dep.c:126:24: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  126 | char *kernel_cmdline = "";
      |                        ^~
i386/i386at/model_dep.c:291:6: warning: no previous prototype for ‘db_halt_cpu’ [-Wmissing-prototypes]
  291 | void db_halt_cpu(void)
      |      ^~~~~~~~~~~
i386/i386at/model_dep.c:296:6: warning: no previous prototype for ‘db_reset_cpu’ [-Wmissing-prototypes]
  296 | void db_reset_cpu(void)
      |      ^~~~~~~~~~~~
i386/i386at/model_dep.c: In function ‘register_boot_data’:
i386/i386at/model_dep.c:311:21: warning: nested extern declaration of ‘_start’ [-Wnested-externs]
  311 |         extern char _start[], _end[];
      |                     ^~~~~~
i386/i386at/model_dep.c:311:31: warning: nested extern declaration of ‘_end’ [-Wnested-externs]
  311 |         extern char _start[], _end[];
      |                               ^~~~
i386/i386at/model_dep.c: In function ‘i386at_init’:
i386/i386at/model_dep.c:407:27: warning: conversion from ‘size_t’ {aka ‘long unsigned int’} to ‘int’ may change value [-Wconversion]
  407 |                 int len = strlen ((char*)phystokv(boot_info.cmdline)) + 1;
      |                           ^~~~~~
In file included from i386/i386at/model_dep.c:40:
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
i386/i386at/model_dep.c:408:42: note: in expansion of macro ‘round_page’
  408 |                 if (! init_alloc_aligned(round_page(len), &addr))
      |                                          ^~~~~~~~~~
i386/i386at/model_dep.c:411:77: warning: conversion to ‘size_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  411 |                 memcpy(kernel_cmdline, (void *)phystokv(boot_info.cmdline), len);
      |                                                                             ^~~
i386/i386at/model_dep.c:412:37: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘uint32_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  412 |                 boot_info.cmdline = addr;
      |                                     ^~~~
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
i386/i386at/model_dep.c:420:25: note: in expansion of macro ‘round_page’
  420 |                         round_page(boot_info.mods_count * sizeof(*m)), &addr))
      |                         ^~~~~~~~~~
i386/i386at/model_dep.c:424:39: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘uint32_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  424 |                 boot_info.mods_addr = addr;
      |                                       ^~~~
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
i386/i386at/model_dep.c:428:50: note: in expansion of macro ‘round_page’
  428 |                         if (! init_alloc_aligned(round_page(size), &addr))
      |                                                  ^~~~~~~~~~
i386/i386at/model_dep.c:432:42: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘uint32_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  432 |                         m[i].mod_start = addr;
      |                                          ^~~~
i386/i386at/model_dep.c:433:40: warning: conversion from ‘long unsigned int’ to ‘uint32_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  433 |                         m[i].mod_end = addr + size;
      |                                        ^~~~
./include/mach/vm_param.h:86:73: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   86 | #define round_page(x)   ((vm_offset_t)((((vm_offset_t)(x)) + PAGE_MASK) & ~PAGE_MASK))
      |                                                                         ^
i386/i386at/model_dep.c:436:50: note: in expansion of macro ‘round_page’
  436 |                         if (! init_alloc_aligned(round_page(size), &addr))
      |                                                  ^~~~~~~~~~
i386/i386at/model_dep.c:440:39: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘uint32_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  440 |                         m[i].string = addr;
      |                                       ^~~~
In file included from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_object.h:49,
                 from ./vm/vm_page.h:40:
./i386/i386/proc_reg.h:128:29: warning: declaration of ‘_temp__’ shadows a previous local [-Wshadow]
  128 |      register unsigned long _temp__; \
      |                             ^~~~~~~
./i386/i386/proc_reg.h:135:43: note: in definition of macro ‘set_cr0’
  135 |         register unsigned long _temp__ = (value); \
      |                                           ^~~~~
i386/i386at/model_dep.c:468:17: note: in expansion of macro ‘get_cr0’
  468 |         set_cr0(get_cr0() | CR0_PG | CR0_WP);
      |                 ^~~~~~~
./i386/i386/proc_reg.h:135:32: note: shadowed declaration is here
  135 |         register unsigned long _temp__ = (value); \
      |                                ^~~~~~~
i386/i386at/model_dep.c:468:9: note: in expansion of macro ‘set_cr0’
  468 |         set_cr0(get_cr0() | CR0_PG | CR0_WP);
      |         ^~~~~~~
./i386/i386/proc_reg.h:128:29: warning: declaration of ‘_temp__’ shadows a previous local [-Wshadow]
  128 |      register unsigned long _temp__; \
      |                             ^~~~~~~
./i386/i386/proc_reg.h:135:43: note: in definition of macro ‘set_cr0’
  135 |         register unsigned long _temp__ = (value); \
      |                                           ^~~~~
i386/i386at/model_dep.c:469:17: note: in expansion of macro ‘get_cr0’
  469 |         set_cr0(get_cr0() & ~(CR0_CD | CR0_NW));
      |                 ^~~~~~~
./i386/i386/proc_reg.h:135:32: note: shadowed declaration is here
  135 |         register unsigned long _temp__ = (value); \
      |                                ^~~~~~~
i386/i386at/model_dep.c:469:9: note: in expansion of macro ‘set_cr0’
  469 |         set_cr0(get_cr0() & ~(CR0_CD | CR0_NW));
      |         ^~~~~~~
i386/i386at/model_dep.c:469:27: warning: unsigned conversion from ‘int’ to ‘long unsigned int’ changes value from ‘-1610612737’ to ‘18446744072098938879’ [-Wsign-conversion]
  469 |         set_cr0(get_cr0() & ~(CR0_CD | CR0_NW));
      |                           ^
./i386/i386/proc_reg.h:135:43: note: in definition of macro ‘set_cr0’
  135 |         register unsigned long _temp__ = (value); \
      |                                           ^~~~~
./i386/i386/proc_reg.h:204:32: warning: declaration of ‘_temp__’ shadows a previous local [-Wshadow]
  204 |         register unsigned long _temp__; \
      |                                ^~~~~~~
./i386/i386/proc_reg.h:211:43: note: in definition of macro ‘set_cr4’
  211 |         register unsigned long _temp__ = (value); \
      |                                           ^~~~~
i386/i386at/model_dep.c:471:25: note: in expansion of macro ‘get_cr4’
  471 |                 set_cr4(get_cr4() | CR4_PGE);
      |                         ^~~~~~~
./i386/i386/proc_reg.h:211:32: note: shadowed declaration is here
  211 |         register unsigned long _temp__ = (value); \
      |                                ^~~~~~~
i386/i386at/model_dep.c:471:17: note: in expansion of macro ‘set_cr4’
  471 |                 set_cr4(get_cr4() | CR4_PGE);
      |                 ^~~~~~~
i386/i386at/model_dep.c: In function ‘timemmap’:
i386/i386at/model_dep.c:613:30: warning: nested extern declaration of ‘mtime’ [-Wnested-externs]
  613 |         extern time_value_t *mtime;
      |                              ^~~~~
i386/i386at/model_dep.c:615:42: warning: unsigned conversion from ‘int’ to ‘vm_offset_t’ {aka ‘long unsigned int’} changes value from ‘-1’ to ‘18446744073709551615’ [-Wsign-conversion]
  615 |         if (prot & VM_PROT_WRITE) return (-1);
      |                                          ^
i386/i386at/model_dep.c: In function ‘inittodr’:
i386/i386at/model_dep.c:644:28: warning: conversion to ‘int64_t’ {aka ‘long int’} from ‘uint64_t’ {aka ‘long unsigned int’} may change the sign of the result [-Wsign-conversion]
  644 |         new_time.seconds = newsecs;
      |                            ^~~~~~~
i386/i386at/model_dep.c: In function ‘init_alloc_aligned’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘vm_size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
i386/i386at/model_dep.c:663:49: note: in expansion of macro ‘vm_page_round’
  663 |         *addrp = biosmem_bootalloc(vm_page_atop(vm_page_round(size)));
      |                                                 ^~~~~~~~~~~~~
./vm/vm_page.h:329:41: warning: conversion from ‘vm_size_t’ {aka ‘long unsigned int’} to ‘unsigned int’ may change value [-Wconversion]
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                 ~~~~~~~~^~~~~~~~~~~~~~
i386/i386at/model_dep.c:663:36: note: in expansion of macro ‘vm_page_atop’
  663 |         *addrp = biosmem_bootalloc(vm_page_atop(vm_page_round(size)));
      |                                    ^~~~~~~~~~~~
i386/i386at/model_dep.c: In function ‘c_boot_entry’:
i386/i386at/model_dep.c:582:13: warning: this statement may fall through [-Wimplicit-fallthrough=]
  582 |             printf("warning: unknown cpu type %d, assuming i386\n", cpu_type);
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
i386/i386at/model_dep.c:583:11: note: here
  583 |           case 3:
      |           ^~~~
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -S -x c -o i386/i386/i386asm.symc.o i386/i386/i386asm.symc
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from i386/i386/i386asm.symc:2:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./kern/thread.h:54:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
sed < i386/i386/i386asm.symc.o > i386/i386/i386asm.h		\
  -e 's/^[^*].*$//'			\
  -e 's/^[*]/#define/'			\
  -e 's/mAgIc[^-0-9]*//'
depbase=`echo x86_64/boothdr.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -D__ASSEMBLY__  -Ii386 -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -MT x86_64/boothdr.o -MD -MP -MF $depbase.Tpo -c -o x86_64/boothdr.o x86_64/boothdr.S &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo i386/i386at/com.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386at/com.o -MD -MP -MF $depbase.Tpo -c -o i386/i386at/com.o i386/i386at/com.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from i386/i386at/com.c:34:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./device/io_req.h:38,
                 from ./device/tty.h:43,
                 from i386/i386at/com.c:38:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./device/io_req.h:41:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
i386/i386at/com.c: At top level:
i386/i386at/com.c:56:45: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
   56 |         comprobe, 0, comattach, 0, com_std, "com", cominfo, 0, 0, 0};
      |                                             ^~~~~
i386/i386at/com.c: In function ‘comprobe_general’:
i386/i386at/com.c:92:24: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘u_short’ {aka ‘short unsigned int’} may change value [-Wconversion]
   92 |         u_short addr = dev->address;
      |                        ^~~
i386/i386at/com.c:95:25: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
   95 |         char    *type = "8250";
      |                         ^~~~~~
i386/i386at/com.c:139:18: warning: assignment discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  139 |             type = "82450 or 16450";
      |                  ^
i386/i386at/com.c:146:26: warning: assignment discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  146 |                     type = "82550 or 16550";
      |                          ^
i386/i386at/com.c:151:26: warning: assignment discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  151 |                     type = "82550 or 16550 with non-working FIFO";
      |                          ^
In file included from ./include/string.h:29,
                 from i386/i386at/com.c:29:
i386/i386at/com.c: In function ‘comcnprobe’:
./include/sys/types.h:63:25: warning: conversion from ‘int’ to ‘dev_t’ {aka ‘short unsigned int’} may change value [-Wconversion]
   63 | #define makedev(i,j)    ((((i) & 0xFF) << 8) | ((j) & 0xFF))
      |                         ^
i386/i386at/com.c:207:22: note: in expansion of macro ‘makedev’
  207 |         cp->cn_dev = makedev(maj, unit);
      |                      ^~~~~~~
i386/i386at/com.c:208:22: warning: conversion from ‘int’ to ‘short int’ may change value [-Wconversion]
  208 |         cp->cn_pri = pri;
      |                      ^~~
i386/i386at/com.c: In function ‘comattach’:
i386/i386at/com.c:223:24: warning: conversion from ‘int’ to ‘u_char’ {aka ‘unsigned char’} may change value [-Wconversion]
  223 |         u_char  unit = dev->unit;
      |                        ^~~
i386/i386at/com.c:224:24: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘u_short’ {aka ‘short unsigned int’} may change value [-Wconversion]
  224 |         u_short addr = dev->address;
      |                        ^~~
i386/i386at/com.c: In function ‘comcninit’:
i386/i386at/com.c:256:24: warning: conversion from ‘int’ to ‘u_char’ {aka ‘unsigned char’} may change value [-Wconversion]
  256 |         u_char  unit = comcndev->unit;
      |                        ^~~~~~~~
i386/i386at/com.c:257:24: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘u_short’ {aka ‘short unsigned int’} may change value [-Wconversion]
  257 |         u_short addr = comcndev->address;
      |                        ^~~~~~~~
i386/i386at/com.c:280:34: warning: conversion to ‘unsigned char’ from ‘char’ may change the sign of the result [-Wsign-conversion]
  280 |                         p[2*i] = msg[i];
      |                                  ^~~
i386/i386at/com.c: In function ‘comopen’:
i386/i386at/com.c:369:16: warning: conversion from ‘long unsigned int’ to ‘u_short’ {aka ‘short unsigned int’} may change value [-Wconversion]
  369 |         addr = (uintptr_t)tp->t_addr;
      |                ^
i386/i386at/com.c:384:37: warning: conversion to ‘dev_mode_t’ {aka ‘unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  384 |         result = char_open(dev, tp, flag, ior);
      |                                     ^~~~
i386/i386at/com.c: In function ‘comclose’:
i386/i386at/com.c:404:32: warning: conversion from ‘long unsigned int’ to ‘u_short’ {aka ‘short unsigned int’} may change value [-Wconversion]
  404 |         u_short         addr = (uintptr_t)tp->t_addr;
      |                                ^
i386/i386at/com.c: In function ‘comintr’:
i386/i386at/com.c:491:40: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘u_short’ {aka ‘short unsigned int’} may change value [-Wconversion]
  491 |         u_short                 addr = cominfo[unit]->address;
      |                                        ^~~~~~~
In file included from i386/i386at/com.c:42:
./i386/i386/pio.h:45:1: warning: conversion to ‘char’ from ‘unsigned char’ may change the sign of the result [-Wsign-conversion]
   45 | ({ unsigned char _tmp__; \
      | ^
i386/i386at/com.c:513:48: note: in expansion of macro ‘inb’
  513 |                                 while ((line = inb(LINE_STAT(addr))) & iDR) {
      |                                                ^~~
./i386/i386/pio.h:45:1: warning: conversion to ‘char’ from ‘unsigned char’ may change the sign of the result [-Wsign-conversion]
   45 | ({ unsigned char _tmp__; \
      | ^
i386/i386at/com.c:514:45: note: in expansion of macro ‘inb’
  514 |                                         c = inb(TXRX(addr));
      |                                             ^~~
i386/i386at/com.c:530:58: warning: conversion to ‘unsigned int’ from ‘char’ may change the sign of the result [-Wsign-conversion]
  530 |                                                 ttyinput(c, tp);
      |                                                          ^
i386/i386at/com.c:533:58: warning: conversion to ‘unsigned int’ from ‘char’ may change the sign of the result [-Wsign-conversion]
  533 |                                                 ttyinput(c, tp);
      |                                                          ^
i386/i386at/com.c:556:44: warning: conversion to ‘unsigned int’ from ‘char’ may change the sign of the result [-Wsign-conversion]
  556 |                                 ttyinput(tp->t_breakc, tp);
      |                                          ~~^~~~~~~~~~
i386/i386at/com.c: In function ‘comparam’:
i386/i386at/com.c:566:32: warning: conversion from ‘long unsigned int’ to ‘u_short’ {aka ‘short unsigned int’} may change value [-Wconversion]
  566 |         u_short         addr = (uintptr_t)tp->t_addr;
      |                                ^
i386/i386at/com.c: At top level:
i386/i386at/com.c:827:6: warning: no previous prototype for ‘compr_addr’ [-Wmissing-prototypes]
  827 | void compr_addr(vm_offset_t addr)
      |      ^~~~~~~~~~
i386/i386at/com.c:846:5: warning: no previous prototype for ‘compr’ [-Wmissing-prototypes]
  846 | int compr(int unit)
      |     ^~~~~
depbase=`echo i386/i386at/immc.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386at/immc.o -MD -MP -MF $depbase.Tpo -c -o i386/i386at/immc.o i386/i386at/immc.c &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo i386/i386at/int_init.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386at/int_init.o -MD -MP -MF $depbase.Tpo -c -o i386/i386at/int_init.o i386/i386at/int_init.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./i386/i386/idt-gen.h:29,
                 from ./i386/i386at/idt.h:46,
                 from i386/i386at/int_init.c:24:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./kern/printf.h:30,
                 from i386/i386at/int_init.c:28:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
depbase=`echo x86_64/interrupt.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -D__ASSEMBLY__  -Ii386 -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -MT x86_64/interrupt.o -MD -MP -MF $depbase.Tpo -c -o x86_64/interrupt.o x86_64/interrupt.S &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo i386/i386at/kd.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386at/kd.o -MD -MP -MF $depbase.Tpo -c -o i386/i386at/kd.o i386/i386at/kd.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/mach_clock.h:36,
                 from i386/i386at/kd.c:81:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./device/io_req.h:38,
                 from ./device/tty.h:43,
                 from i386/i386at/kd.c:84:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./device/io_req.h:41:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
i386/i386at/kd.c: At top level:
i386/i386at/kd.c:367:1: warning: no previous prototype for ‘feep’ [-Wmissing-prototypes]
  367 | feep(void)
      | ^~~~
i386/i386at/kd.c:380:1: warning: no previous prototype for ‘kd_debug_put’ [-Wmissing-prototypes]
  380 | kd_debug_put(
      | ^~~~~~~~~~~~
In file included from i386/i386at/kd.c:96:
i386/i386at/kd.c: In function ‘kd_debug_put’:
./i386/i386at/kd.h:240:25: warning: conversion from ‘int’ to ‘csrpos_t’ {aka ‘short int’} may change value [-Wconversion]
  240 | #define ONE_PAGE        4000            /* number of bytes in page */
      |                         ^~~~
i386/i386at/kd.c:384:24: note: in expansion of macro ‘ONE_PAGE’
  384 |         csrpos_t pos = ONE_PAGE - (loc+1) * ONE_SPACE;
      |                        ^~~~~~~~
i386/i386at/kd.c: In function ‘kdopen’:
i386/i386at/kd.c:463:36: warning: conversion to ‘dev_mode_t’ {aka ‘unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  463 |         return (char_open(dev, tp, flag, ior));
      |                                    ^~~~
i386/i386at/kd.c: In function ‘kdmmap’:
i386/i386at/kd.c:546:23: warning: unsigned conversion from ‘int’ to ‘vm_offset_t’ {aka ‘long unsigned int’} changes value from ‘-1’ to ‘18446744073709551615’ [-Wsign-conversion]
  546 |                 return(-1);
      |                       ^
i386/i386at/kd.c: In function ‘kdintr’:
i386/i386at/kd.c:777:29: warning: unsigned conversion from ‘int’ to ‘unsigned char’ changes the value of ‘-129’ [-Wsign-conversion]
  777 |                 scancode &= ~K_UP;
      |                             ^
i386/i386at/kd.c:781:40: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  781 |                 char_idx = kdstate2idx(kd_state, kd_extended);
      |                                        ^~~~~~~~
i386/i386at/kd.c: In function ‘kdcheckmagic’:
i386/i386at/kd.c:968:29: warning: unsigned conversion from ‘int’ to ‘Scancode’ {aka ‘unsigned char’} changes the value of ‘-129’ [-Wsign-conversion]
  968 |                 scancode &= ~K_UP;
      |                             ^
i386/i386at/kd.c: In function ‘kdstate2idx’:
./i386/i386at/kd.h:263:33: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  263 | #define CHARIDX(sidx)   ((sidx) * NUMOUTPUT)
i386/i386at/kd.c:1028:17: note: in expansion of macro ‘CHARIDX’
 1028 |         return (CHARIDX(state_idx));
      |                 ^~~~~~~
i386/i386at/kd.c: In function ‘kdstart’:
i386/i386at/kd.c:1066:29: warning: conversion from ‘int’ to ‘u_char’ {aka ‘unsigned char’} may change value [-Wconversion]
 1066 |                 kd_putc_esc(ch);
      |                             ^~
i386/i386at/kd.c: In function ‘kdinit’:
i386/i386at/kd.c:1127:19: warning: unsigned conversion from ‘int’ to ‘unsigned char’ changes the value of ‘-17’ [-Wsign-conversion]
 1127 |         k_comm &= ~K_CB_DISBLE;         /* clear keyboard disable bit */
      |                   ^
i386/i386at/kd.c:1148:28: warning: conversion from ‘int’ to ‘u_char’ {aka ‘unsigned char’} may change value [-Wconversion]
 1148 |         cnsetleds(kd_state = KS_NORMAL);
i386/i386at/kd.c: In function ‘kd_belloff’:
i386/i386at/kd.c:1175:18: warning: unsigned conversion from ‘int’ to ‘unsigned char’ changes the value of ‘-4’ [-Wsign-conversion]
 1175 |         status = (inb(K_PORTB) & ~(K_SPKRDATA | K_ENABLETMR2));
      |                  ^
i386/i386at/kd.c: In function ‘kd_putc’:
i386/i386at/kd.c:1290:39: warning: conversion to ‘char’ from ‘u_char’ {aka ‘unsigned char’} may change the sign of the result [-Wsign-conversion]
 1290 |                 (*kd_dput)(kd_curpos, ch, kd_attr);
      |                                       ^~
i386/i386at/kd.c: In function ‘kd_update_kd_attr’:
i386/i386at/kd.c:1443:27: warning: conversion from ‘int’ to ‘char’ changes the value of ‘255’ [-Wconversion]
 1443 |                 kd_attr = (kd_attr & 0xf0) | KAX_COL_UNDERLINE;
      |                           ^
i386/i386at/kd.c:1445:27: warning: conversion from ‘int’ to ‘char’ changes the value of ‘240’ [-Wconversion]
 1445 |                 kd_attr = (kd_attr & 0xf0) | KAX_COL_DIM;
      |                           ^
i386/i386at/kd.c:1437:37: warning: conversion from ‘int’ to ‘char’ changes the value of ‘136’ [-Wconversion]
 1437 | #define reverse_video_char(a)       (((a) & 0x88) | ((((a) >> 4) | ((a) << 4)) & 0x77))
      |                                     ^
i386/i386at/kd.c:1447:27: note: in expansion of macro ‘reverse_video_char’
 1447 |                 kd_attr = reverse_video_char(kd_attr);
      |                           ^~~~~~~~~~~~~~~~~~
i386/i386at/kd.c:1449:28: warning: conversion from ‘int’ to ‘char’ changes the value of ‘128’ [-Wconversion]
 1449 |                 kd_attr ^= 0x80;
      |                            ^~~~
i386/i386at/kd.c: In function ‘kd_parserest’:
i386/i386at/kd.c:1578:52: warning: conversion from ‘int’ to ‘char’ changes the value of ‘240’ [-Wconversion]
 1578 |                                         kd_color = (kd_color & 0xf0) | (KA_NORMAL & 0x0f);
      |                                                    ^
i386/i386at/kd.c:1582:52: warning: conversion from ‘int’ to ‘char’ changes the value of ‘240’ [-Wconversion]
 1582 |                                         kd_color = (kd_color & 0xf0) | (KA_NORMAL & 0x0f);
      |                                                    ^
i386/i386at/kd.c:1587:48: warning: conversion from ‘int’ to ‘char’ changes the value of ‘240’ [-Wconversion]
 1587 |                                     kd_color = (kd_color & 0xf0) | color_table[(number[i] - 30)];
      |                                                ^
i386/i386at/kd.c:1590:48: warning: conversion from ‘int’ to ‘char’ may change value [-Wconversion]
 1590 |                                     kd_color = (kd_color & 0x0f) | (color_table[(number[i] - 40)] << 4);
      |                                                ^
i386/i386at/kd.c:1660:58: warning: conversion from ‘int’ to ‘csrpos_t’ {aka ‘short int’} may change value [-Wconversion]
 1660 |                         kd_setpos(BEG_OF_LINE(kd_curpos) + number[0] * ONE_SPACE);
i386/i386at/kd.c:1675:34: warning: conversion from ‘int’ to ‘csrpos_t’ {aka ‘short int’} may change value [-Wconversion]
 1675 |                         newpos = (number[0] * ONE_LINE);   /* setup row */
      |                                  ^
i386/i386at/kd.c:1680:35: warning: conversion from ‘int’ to ‘csrpos_t’ {aka ‘short int’} may change value [-Wconversion]
 1680 |                         newpos += (number[1] * ONE_SPACE);      /* setup column */
      |                                   ^
i386/i386at/kd.c: In function ‘kd_cltoecur’:
./i386/i386at/kd.h:243:33: warning: conversion from ‘int’ to ‘csrpos_t’ {aka ‘short int’} may change value [-Wconversion]
  243 | #define BEG_OF_LINE(pos)        ((pos) - (pos)%ONE_LINE)
      |                                 ^
i386/i386at/kd.c:1998:16: note: in expansion of macro ‘BEG_OF_LINE’
 1998 |         hold = BEG_OF_LINE(kd_curpos) + ONE_LINE;
      |                ^~~~~~~~~~~
i386/i386at/kd.c: In function ‘kd_delln’:
i386/i386at/kd.c:2052:24: warning: conversion from ‘int’ to ‘csrpos_t’ {aka ‘short int’} may change value [-Wconversion]
 2052 |                 from = to + delbytes;
      |                        ^~
./i386/i386at/kd.h:240:25: warning: conversion from ‘int’ to ‘csrpos_t’ {aka ‘short int’} may change value [-Wconversion]
  240 | #define ONE_PAGE        4000            /* number of bytes in page */
      |                         ^~~~
i386/i386at/kd.c:2057:14: note: in expansion of macro ‘ONE_PAGE’
 2057 |         to = ONE_PAGE - delbytes;
      |              ^~~~~~~~
i386/i386at/kd.c: In function ‘kd_insln’:
i386/i386at/kd.c:2091:16: warning: conversion from ‘int’ to ‘csrpos_t’ {aka ‘short int’} may change value [-Wconversion]
 2091 |         from = to - insbytes;
      |                ^~
i386/i386at/kd.c: In function ‘kd_delch’:
./i386/i386at/kd.h:243:33: warning: conversion from ‘int’ to ‘csrpos_t’ {aka ‘short int’} may change value [-Wconversion]
  243 | #define BEG_OF_LINE(pos)        ((pos) - (pos)%ONE_LINE)
      |                                 ^
i386/i386at/kd.c:2125:20: note: in expansion of macro ‘BEG_OF_LINE’
 2125 |         nextline = BEG_OF_LINE(kd_curpos) + ONE_LINE;
      |                    ^~~~~~~~~~~
i386/i386at/kd.c:2130:24: warning: conversion from ‘int’ to ‘csrpos_t’ {aka ‘short int’} may change value [-Wconversion]
 2130 |                 from = kd_curpos + delbytes;
      |                        ^~~~~~~~~
i386/i386at/kd.c:2136:14: warning: conversion from ‘int’ to ‘csrpos_t’ {aka ‘short int’} may change value [-Wconversion]
 2136 |         to = nextline - delbytes;
      |              ^~~~~~~~
i386/i386at/kd.c: In function ‘kd_erase’:
i386/i386at/kd.c:2160:16: warning: conversion from ‘int’ to ‘csrpos_t’ {aka ‘short int’} may change value [-Wconversion]
 2160 |         stop = kd_curpos + (ONE_SPACE * number);
      |                ^~~~~~~~~
./i386/i386at/kd.h:243:33: warning: conversion from ‘int’ to ‘csrpos_t’ {aka ‘short int’} may change value [-Wconversion]
  243 | #define BEG_OF_LINE(pos)        ((pos) - (pos)%ONE_LINE)
      |                                 ^
i386/i386at/kd.c:2162:24: note: in expansion of macro ‘BEG_OF_LINE’
 2162 |                 stop = BEG_OF_LINE(kd_curpos) + ONE_LINE;
      |                        ^~~~~~~~~~~
i386/i386at/kd.c: In function ‘kd_eraseln’:
./i386/i386at/kd.h:243:33: warning: conversion from ‘int’ to ‘csrpos_t’ {aka ‘short int’} may change value [-Wconversion]
  243 | #define BEG_OF_LINE(pos)        ((pos) - (pos)%ONE_LINE)
      |                                 ^
i386/i386at/kd.c:2185:16: note: in expansion of macro ‘BEG_OF_LINE’
 2185 |         stop = BEG_OF_LINE(kd_curpos) + ONE_LINE;
      |                ^~~~~~~~~~~
i386/i386at/kd.c: In function ‘kd_insch’:
./i386/i386at/kd.h:243:33: warning: conversion from ‘int’ to ‘csrpos_t’ {aka ‘short int’} may change value [-Wconversion]
  243 | #define BEG_OF_LINE(pos)        ((pos) - (pos)%ONE_LINE)
      |                                 ^
i386/i386at/kd.c:2215:20: note: in expansion of macro ‘BEG_OF_LINE’
 2215 |         nextline = BEG_OF_LINE(kd_curpos) + ONE_LINE;
      |                    ^~~~~~~~~~~
i386/i386at/kd.c:2221:16: warning: conversion from ‘int’ to ‘csrpos_t’ {aka ‘short int’} may change value [-Wconversion]
 2221 |         from = to - insbytes;
      |                ^~
i386/i386at/kd.c: In function ‘kd_kbd_magic’:
i386/i386at/kd.c:2446:50: warning: conversion from ‘int’ to ‘kev_type’ {aka ‘short unsigned int’} may change value [-Wconversion]
 2446 |                         mouse_button(which_button[kd_kbd_magic_button], 1);
      |                                      ~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
i386/i386at/kd.c:2450:50: warning: conversion from ‘int’ to ‘kev_type’ {aka ‘short unsigned int’} may change value [-Wconversion]
 2450 |                         mouse_button(which_button[new_button], 1);
      |                                      ~~~~~~~~~~~~^~~~~~~~~~~~
i386/i386at/kd.c:2453:50: warning: conversion from ‘int’ to ‘kev_type’ {aka ‘short unsigned int’} may change value [-Wconversion]
 2453 |                         mouse_button(which_button[new_button], 0);
      |                                      ~~~~~~~~~~~~^~~~~~~~~~~~
i386/i386at/kd.c:2460:35: warning: conversion from ‘int’ to ‘short int’ may change value [-Wconversion]
 2460 |                 moved.mm_deltaX = kd_kbd_magic_scale;
      |                                   ^~~~~~~~~~~~~~~~~~
i386/i386at/kd.c:2465:35: warning: conversion from ‘int’ to ‘short int’ may change value [-Wconversion]
 2465 |                 moved.mm_deltaX = -kd_kbd_magic_scale;
      |                                   ^
i386/i386at/kd.c:2471:35: warning: conversion from ‘int’ to ‘short int’ may change value [-Wconversion]
 2471 |                 moved.mm_deltaY = kd_kbd_magic_scale;
      |                                   ^~~~~~~~~~~~~~~~~~
i386/i386at/kd.c:2476:35: warning: conversion from ‘int’ to ‘short int’ may change value [-Wconversion]
 2476 |                 moved.mm_deltaY = -kd_kbd_magic_scale;
      |                                   ^
i386/i386at/kd.c:2481:35: warning: conversion from ‘int’ to ‘short int’ may change value [-Wconversion]
 2481 |                 moved.mm_deltaX = -2*kd_kbd_magic_scale;
      |                                   ^
i386/i386at/kd.c:2482:35: warning: conversion from ‘int’ to ‘short int’ may change value [-Wconversion]
 2482 |                 moved.mm_deltaY = 2*kd_kbd_magic_scale;
      |                                   ^
i386/i386at/kd.c:2486:35: warning: conversion from ‘int’ to ‘short int’ may change value [-Wconversion]
 2486 |                 moved.mm_deltaX = 2*kd_kbd_magic_scale;
      |                                   ^
i386/i386at/kd.c:2487:35: warning: conversion from ‘int’ to ‘short int’ may change value [-Wconversion]
 2487 |                 moved.mm_deltaY = 2*kd_kbd_magic_scale;
      |                                   ^
i386/i386at/kd.c:2491:35: warning: conversion from ‘int’ to ‘short int’ may change value [-Wconversion]
 2491 |                 moved.mm_deltaX = -2*kd_kbd_magic_scale;
      |                                   ^
i386/i386at/kd.c:2492:35: warning: conversion from ‘int’ to ‘short int’ may change value [-Wconversion]
 2492 |                 moved.mm_deltaY = -2*kd_kbd_magic_scale;
      |                                   ^
i386/i386at/kd.c:2496:35: warning: conversion from ‘int’ to ‘short int’ may change value [-Wconversion]
 2496 |                 moved.mm_deltaX = 2*kd_kbd_magic_scale;
      |                                   ^
i386/i386at/kd.c:2497:35: warning: conversion from ‘int’ to ‘short int’ may change value [-Wconversion]
 2497 |                 moved.mm_deltaY = -2*kd_kbd_magic_scale;
      |                                   ^
i386/i386at/kd.c: In function ‘xga_getpos’:
i386/i386at/kd.c:2538:15: warning: conversion from ‘int’ to ‘short int’ may change value [-Wconversion]
 2538 |         pos = (0xff&low) + ((unsigned short)high<<8);
      |               ^
i386/i386at/kd.c: In function ‘kd_xga_init’:
i386/i386at/kd.c:2620:18: warning: unsigned conversion from ‘int’ to ‘unsigned char’ changes the value of ‘-33’ [-Wsign-conversion]
 2620 |         start &= ~0x20;
      |                  ^
i386/i386at/kd.c: In function ‘charput’:
i386/i386at/kd.c:2647:30: warning: conversion to ‘u_char’ {aka ‘unsigned char’} from ‘char’ may change the sign of the result [-Wsign-conversion]
 2647 |         *(vid_start + pos) = ch;
      |                              ^~
i386/i386at/kd.c:2648:34: warning: conversion to ‘u_char’ {aka ‘unsigned char’} from ‘char’ may change the sign of the result [-Wsign-conversion]
 2648 |         *(vid_start + pos + 1) = chattr;
      |                                  ^~~~~~
i386/i386at/kd.c: In function ‘bmpmvdown’:
i386/i386at/kd.c:2832:39: warning: conversion from ‘int’ to ‘short int’ may change value [-Wconversion]
 2832 |                 from_xbit = to_xbit = 8 * (fb_byte_width - 1);
      |                                       ^
i386/i386at/kd.c: In function ‘bmpch2bit’:
i386/i386at/kd.c:2924:15: warning: conversion from ‘int’ to ‘short int’ may change value [-Wconversion]
 2924 |         ych = pos / (ONE_SPACE * kd_cols);
      |               ^~~
i386/i386at/kd.c:2925:15: warning: conversion from ‘int’ to ‘short int’ may change value [-Wconversion]
 2925 |         *xb = xstart + xch * char_width;
      |               ^~~~~~
i386/i386at/kd.c:2926:15: warning: conversion from ‘int’ to ‘short int’ may change value [-Wconversion]
 2926 |         *yb = ystart + ych * (char_height + cursor_height);
      |               ^~~~~~
In file included from i386/i386at/kd.c:79:
i386/i386at/kd.c: In function ‘kdcnprobe’:
./include/sys/types.h:63:25: warning: conversion from ‘int’ to ‘dev_t’ {aka ‘short unsigned int’} may change value [-Wconversion]
   63 | #define makedev(i,j)    ((((i) & 0xFF) << 8) | ((j) & 0xFF))
      |                         ^
i386/i386at/kd.c:2960:22: note: in expansion of macro ‘makedev’
 2960 |         cp->cn_dev = makedev(maj, unit);
      |                      ^~~~~~~
i386/i386at/kd.c:2961:22: warning: conversion from ‘int’ to ‘short int’ may change value [-Wconversion]
 2961 |         cp->cn_pri = pri;
      |                      ^~~
i386/i386at/kd.c: In function ‘kdcnputc’:
i386/i386at/kd.c:2994:21: warning: conversion from ‘int’ to ‘u_char’ {aka ‘unsigned char’} may change value [-Wconversion]
 2994 |         kd_putc_esc(c);
      |                     ^
i386/i386at/kd.c: In function ‘kdcnmaygetc’:
i386/i386at/kd.c:3059:37: warning: unsigned conversion from ‘int’ to ‘unsigned char’ changes the value of ‘-129’ [-Wsign-conversion]
 3059 |                         scancode &= ~K_UP;
      |                                     ^
i386/i386at/kd.c:3065:48: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
 3065 |                         char_idx = kdstate2idx(kd_state, kd_extended);
      |                                                ^~~~~~~~
i386/i386at/kd.c: In function ‘kd_kbd_magic’:
i386/i386at/kd.c:2439:27: warning: this statement may fall through [-Wimplicit-fallthrough=]
 2439 |                 new_button++;
      |                 ~~~~~~~~~~^~
i386/i386at/kd.c:2440:9: note: here
 2440 |         case 0x3c:
      |         ^~~~
i386/i386at/kd.c:2441:27: warning: this statement may fall through [-Wimplicit-fallthrough=]
 2441 |                 new_button++;
      |                 ~~~~~~~~~~^~
i386/i386at/kd.c:2442:9: note: here
 2442 |         case 0x3b:
      |         ^~~~
depbase=`echo i386/i386at/kd_event.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386at/kd_event.o -MD -MP -MF $depbase.Tpo -c -o i386/i386at/kd_event.o i386/i386at/kd_event.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from i386/i386at/kd_event.c:59:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./device/ds_routines.h:36,
                 from i386/i386at/kd_event.c:62:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53,
                 from ./vm/pmap.h:45:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
i386/i386at/kd_event.c: In function ‘kbdsetstat’:
i386/i386at/kd_event.c:185:30: warning: conversion from ‘int’ to ‘u_char’ {aka ‘unsigned char’} may change value [-Wconversion]
  185 |                 kd_setleds1 (*data);
      |                              ^~~~~
i386/i386at/kd_event.c: In function ‘kbdread’:
i386/i386at/kd_event.c:211:27: warning: conversion to ‘long unsigned int’ from ‘long int’ may change the sign of the result [-Wsign-conversion]
  211 |         if (ior->io_count % sizeof(kd_event) != 0)
      |                           ^
i386/i386at/kd_event.c:236:19: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  236 |             count += sizeof(kd_event);
      |                   ^~
i386/i386at/kd_event.c: In function ‘kbd_read_done’:
i386/i386at/kd_event.c:263:19: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  263 |             count += sizeof(kd_event);
      |                   ^~
i386/i386at/kd_event.c: In function ‘kdb_in_out’:
i386/i386at/kd_event.c:319:17: warning: conversion to ‘int’ from ‘u_int’ {aka ‘unsigned int’} may change the sign of the result [-Wsign-conversion]
  319 |         int t = p[0];
      |                 ^
i386/i386at/kd_event.c: In function ‘X_kdb_enter_init’:
i386/i386at/kd_event.c:379:23: warning: conversion to ‘int’ from ‘u_int’ {aka ‘unsigned int’} may change the sign of the result [-Wsign-conversion]
  379 |     X_kdb_enter_len = count;
      |                       ^~~~~
i386/i386at/kd_event.c: In function ‘X_kdb_exit_init’:
i386/i386at/kd_event.c:392:22: warning: conversion to ‘int’ from ‘u_int’ {aka ‘unsigned int’} may change the sign of the result [-Wsign-conversion]
  392 |     X_kdb_exit_len = count;
      |                      ^~~~~
depbase=`echo i386/i386at/kd_queue.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386at/kd_queue.o -MD -MP -MF $depbase.Tpo -c -o i386/i386at/kd_queue.o i386/i386at/kd_queue.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./device/input.h:25,
                 from ./i386/i386at/kd.h:74,
                 from ./i386/i386at/kd_queue.h:71,
                 from i386/i386at/kd_queue.c:59:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./device/io_req.h:38,
                 from ./i386/i386at/kd.h:78:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./device/io_req.h:41:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
depbase=`echo i386/i386at/kd_mouse.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386at/kd_mouse.o -MD -MP -MF $depbase.Tpo -c -o i386/i386at/kd_mouse.o i386/i386at/kd_mouse.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from i386/i386at/kd_mouse.c:69:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./device/ds_routines.h:36,
                 from i386/i386at/kd_mouse.c:71:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53,
                 from ./vm/pmap.h:45:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
i386/i386at/kd_mouse.c: In function ‘init_mouse_hw’:
i386/i386at/kd_mouse.c:118:37: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘short unsigned int’ may change value [-Wconversion]
  118 |         unsigned short base_addr  = cominfo[unit]->address;
      |                                     ^~~~~~~
i386/i386at/kd_mouse.c: In function ‘serial_mouse_open’:
i386/i386at/kd_mouse.c:202:25: warning: conversion to ‘int’ from ‘natural_t’ {aka ‘unsigned int’} may change the sign of the result [-Wsign-conversion]
  202 |         int mouse_pic = cominfo[unit]->sysdep1;
      |                         ^~~~~~~
i386/i386at/kd_mouse.c: In function ‘kd_mouse_open’:
i386/i386at/kd_mouse.c:227:20: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  227 |         unmask_irq(mouse_pic);
      |                    ^~~~~~~~~
i386/i386at/kd_mouse.c: In function ‘serial_mouse_close’:
i386/i386at/kd_mouse.c:269:25: warning: conversion to ‘int’ from ‘natural_t’ {aka ‘unsigned int’} may change the sign of the result [-Wsign-conversion]
  269 |         int mouse_pic = cominfo[unit]->sysdep1;
      |                         ^~~~~~~
i386/i386at/kd_mouse.c:270:37: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘short unsigned int’ may change value [-Wconversion]
  270 |         unsigned short base_addr  = cominfo[unit]->address;
      |                                     ^~~~~~~
i386/i386at/kd_mouse.c: In function ‘kd_mouse_close’:
i386/i386at/kd_mouse.c:288:18: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  288 |         mask_irq(mouse_pic);
      |                  ^~~~~~~~~
i386/i386at/kd_mouse.c: In function ‘mouseread’:
i386/i386at/kd_mouse.c:324:27: warning: conversion to ‘long unsigned int’ from ‘long int’ may change the sign of the result [-Wsign-conversion]
  324 |         if (ior->io_count % sizeof(kd_event) != 0)
      |                           ^
i386/i386at/kd_mouse.c:349:19: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  349 |             count += sizeof(kd_event);
      |                   ^~
i386/i386at/kd_mouse.c: In function ‘mouse_read_done’:
i386/i386at/kd_mouse.c:376:19: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  376 |             count += sizeof(kd_event);
      |                   ^~
i386/i386at/kd_mouse.c: In function ‘mouseintr’:
i386/i386at/kd_mouse.c:394:37: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘short unsigned int’ may change value [-Wconversion]
  394 |         unsigned short base_addr  = cominfo[unit]->address;
      |                                     ^~~~~~~
i386/i386at/kd_mouse.c: In function ‘mouse_packet_mouse_system_mouse’:
i386/i386at/kd_mouse.c:520:40: warning: declaration of ‘mousebuf’ shadows a global declaration [-Wshadow]
  520 | mouse_packet_mouse_system_mouse(u_char mousebuf[MOUSEBUFSIZE])
      |                                 ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~
i386/i386at/kd_mouse.c:436:15: note: shadowed declaration is here
  436 | static u_char mousebuf[MOUSEBUFSIZE];   /* 5-byte packet from mouse */
      |               ^~~~~~~~
i386/i386at/kd_mouse.c: In function ‘mouse_packet_microsoft_mouse’:
i386/i386at/kd_mouse.c:555:37: warning: declaration of ‘mousebuf’ shadows a global declaration [-Wshadow]
  555 | mouse_packet_microsoft_mouse(u_char mousebuf[MOUSEBUFSIZE])
      |                              ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~
i386/i386at/kd_mouse.c:436:15: note: shadowed declaration is here
  436 | static u_char mousebuf[MOUSEBUFSIZE];   /* 5-byte packet from mouse */
      |               ^~~~~~~~
i386/i386at/kd_mouse.c:561:20: warning: conversion from ‘int’ to ‘u_char’ {aka ‘unsigned char’} may change value [-Wconversion]
  561 |         buttons |= middlegitech;
      |                    ^~~~~~~~~~~~
i386/i386at/kd_mouse.c: In function ‘mouse_packet_ibm_ps2_mouse’:
i386/i386at/kd_mouse.c:723:35: warning: declaration of ‘mousebuf’ shadows a global declaration [-Wshadow]
  723 | mouse_packet_ibm_ps2_mouse(u_char mousebuf[MOUSEBUFSIZE])
      |                            ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~
i386/i386at/kd_mouse.c:436:15: note: shadowed declaration is here
  436 | static u_char mousebuf[MOUSEBUFSIZE];   /* 5-byte packet from mouse */
      |               ^~~~~~~~
i386/i386at/kd_mouse.c:730:27: warning: signed conversion from ‘unsigned int’ to ‘short int’ changes the value of ‘4294967040’ [-Wsign-conversion]
  730 |         moved.mm_deltaX = ((mousebuf[0]&0x10) ? 0xffffff00 : 0 ) | (u_char)mousebuf[1];
      |                           ^
i386/i386at/kd_mouse.c:731:27: warning: signed conversion from ‘unsigned int’ to ‘short int’ changes the value of ‘4294967040’ [-Wsign-conversion]
  731 |         moved.mm_deltaY = ((mousebuf[0]&0x20) ? 0xffffff00 : 0 ) | (u_char)mousebuf[2];
      |                           ^
depbase=`echo x86_64/kdasm.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -D__ASSEMBLY__  -Ii386 -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -MT x86_64/kdasm.o -MD -MP -MF $depbase.Tpo -c -o x86_64/kdasm.o x86_64/kdasm.S &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo i386/i386at/mbinfo.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386at/mbinfo.o -MD -MP -MF $depbase.Tpo -c -o i386/i386at/mbinfo.o i386/i386at/mbinfo.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./device/io_req.h:38,
                 from ./i386/i386at/mbinfo.h:26,
                 from i386/i386at/mbinfo.c:19:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./device/io_req.h:41:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from ./vm/pmap.h:45:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
i386/i386at/mbinfo.c: In function ‘mbinforead’:
i386/i386at/mbinfo.c:45:55: warning: conversion to ‘size_t’ {aka ‘long unsigned int’} from ‘long int’ may change the sign of the result [-Wsign-conversion]
   45 |         memcpy ((uint8_t *)ior->io_data, &mb_info, ior->io_count);
      |                                                    ~~~^~~~~~~~~~
depbase=`echo i386/i386at/mem.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386at/mem.o -MD -MP -MF $depbase.Tpo -c -o i386/i386at/mem.o i386/i386at/mem.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./device/io_req.h:38,
                 from i386/i386at/mem.c:27:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./device/io_req.h:41:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from ./vm/pmap.h:45:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
i386/i386at/mem.c: In function ‘memmmap’:
i386/i386at/mem.c:39:24: warning: unsigned conversion from ‘int’ to ‘vm_offset_t’ {aka ‘long unsigned int’} changes value from ‘-1’ to ‘18446744073709551615’ [-Wsign-conversion]
   39 |                 return -1;
      |                        ^
depbase=`echo i386/i386at/rtc.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386at/rtc.o -MD -MP -MF $depbase.Tpo -c -o i386/i386at/rtc.o i386/i386at/rtc.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/mach_clock.h:36,
                 from i386/i386at/rtc.c:50:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
i386/i386at/rtc.c: In function ‘readtodc’:
i386/i386at/rtc.c:178:13: warning: conversion to ‘time_t’ {aka ‘long long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  178 |         n = sec + 60 * min + 3600 * hr;
      |             ^~~
i386/i386at/rtc.c:179:11: warning: conversion to ‘time_t’ {aka ‘long long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  179 |         n += (dom - 1) * 3600 * 24;
      |           ^~
i386/i386at/rtc.c:189:11: warning: conversion to ‘time_t’ {aka ‘long long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  189 |         n += days * 3600 * 24;
      |           ^~
i386/i386at/rtc.c: In function ‘writetodc’:
i386/i386at/rtc.c:213:13: warning: conversion to ‘time_t’ {aka ‘long long unsigned int’} from ‘int64_t’ {aka ‘long int’} may change the sign of the result [-Wsign-conversion]
  213 |         n = (time.seconds - diff) % (3600 * 24);   /* hrs+mins+secs */
      |             ^
i386/i386at/rtc.c:214:38: warning: conversion from ‘time_t’ {aka ‘long long unsigned int’} to ‘int’ may change value [-Wconversion]
  214 |         rtclk.rtc_sec = dectohexdec(n%60);
      |                                     ~^~~
i386/i386at/rtc.c:216:38: warning: conversion from ‘time_t’ {aka ‘long long unsigned int’} to ‘int’ may change value [-Wconversion]
  216 |         rtclk.rtc_min = dectohexdec(n%60);
      |                                     ~^~~
i386/i386at/rtc.c:217:37: warning: conversion from ‘time_t’ {aka ‘long long unsigned int’} to ‘int’ may change value [-Wconversion]
  217 |         rtclk.rtc_hr = dectohexdec(n/60);
      |                                    ~^~~
i386/i386at/rtc.c:219:13: warning: conversion to ‘time_t’ {aka ‘long long unsigned int’} from ‘int64_t’ {aka ‘long int’} may change the sign of the result [-Wsign-conversion]
  219 |         n = (time.seconds - diff) / (3600 * 24);        /* days */
      |             ^
i386/i386at/rtc.c:220:25: warning: conversion from ‘time_t’ {aka ‘long long unsigned int’} to ‘char’ may change value [-Wconversion]
  220 |         rtclk.rtc_dow = (n + 4) % 7;  /* 1/1/70 is Thursday */
      |                         ^
i386/i386at/rtc.c:224:19: warning: conversion to ‘time_t’ {aka ‘long long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  224 |                 n -= i;
      |                   ^~
i386/i386at/rtc.c:231:19: warning: conversion to ‘time_t’ {aka ‘long long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  231 |                 n -= month[i];
      |                   ^~
i386/i386at/rtc.c:235:37: warning: conversion from ‘time_t’ {aka ‘long long unsigned int’} to ‘int’ may change value [-Wconversion]
  235 |         rtclk.rtc_dom = dectohexdec(++n);
      |                                     ^~~
depbase=`echo i386/i386/percpu.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386/percpu.o -MD -MP -MF $depbase.Tpo -c -o i386/i386/percpu.o i386/i386/percpu.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from ./i386/i386/percpu.h:71,
                 from i386/i386/percpu.c:20:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
depbase=`echo x86_64/cswitch.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -D__ASSEMBLY__  -Ii386 -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -MT x86_64/cswitch.o -MD -MP -MF $depbase.Tpo -c -o x86_64/cswitch.o x86_64/cswitch.S &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo x86_64/debug_trace.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -D__ASSEMBLY__  -Ii386 -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -MT x86_64/debug_trace.o -MD -MP -MF $depbase.Tpo -c -o x86_64/debug_trace.o x86_64/debug_trace.S &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo x86_64/idt_inittab.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -D__ASSEMBLY__  -Ii386 -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -MT x86_64/idt_inittab.o -MD -MP -MF $depbase.Tpo -c -o x86_64/idt_inittab.o x86_64/idt_inittab.S &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo x86_64/locore.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -D__ASSEMBLY__  -Ii386 -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -MT x86_64/locore.o -MD -MP -MF $depbase.Tpo -c -o x86_64/locore.o x86_64/locore.S &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo x86_64/spl.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -D__ASSEMBLY__  -Ii386 -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -MT x86_64/spl.o -MD -MP -MF $depbase.Tpo -c -o x86_64/spl.o x86_64/spl.S &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo i386/i386/apic.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386/apic.o -MD -MP -MF $depbase.Tpo -c -o i386/i386/apic.o i386/i386/apic.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./i386/i386/idt-gen.h:29,
                 from ./i386/i386at/idt.h:46,
                 from i386/i386/apic.c:23:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from ./vm/pmap.h:45,
                 from ./vm/vm_map.h:51,
                 from ./vm/vm_kern.h:38,
                 from i386/i386/apic.c:25:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
i386/i386/apic.c: In function ‘apic_get_current_cpu’:
i386/i386/apic.c:216:24: warning: conversion to ‘int’ from ‘unsigned int’ may change the sign of the result [-Wsign-conversion]
  216 |     return (ebx >> 24) & apic_id_mask;
      |            ~~~~~~~~~~~~^~~~~~~~~~~~~~
i386/i386/apic.c: In function ‘apic_print_info’:
i386/i386/apic.c:283:20: warning: conversion from ‘int’ to ‘uint16_t’ {aka ‘short unsigned int’} may change value [-Wconversion]
  283 |         lapic_id = apic_get_cpu_apic_id(i);
      |                    ^~~~~~~~~~~~~~~~~~~~
i386/i386/apic.c: In function ‘apic_send_ipi’:
i386/i386/apic.c:308:41: warning: conversion from ‘unsigned int’ to ‘unsigned char:2’ may change value [-Wconversion]
  308 |     icrl_values.destination_shorthand = dest_shorthand;
      |                                         ^~~~~~~~~~~~~~
i386/i386/apic.c:309:33: warning: conversion from ‘unsigned int’ to ‘unsigned char:3’ may change value [-Wconversion]
  309 |     icrl_values.delivery_mode = deliv_mode;
      |                                 ^~~~~~~~~~
i386/i386/apic.c:310:36: warning: conversion from ‘unsigned int’ to ‘unsigned char:1’ may change value [-Wconversion]
  310 |     icrl_values.destination_mode = dest_mode;
      |                                    ^~~~~~~~~
i386/i386/apic.c:311:25: warning: conversion from ‘unsigned int’ to ‘unsigned char:1’ may change value [-Wconversion]
  311 |     icrl_values.level = level;
      |                         ^~~~~
i386/i386/apic.c:312:32: warning: conversion from ‘unsigned int’ to ‘unsigned char:1’ may change value [-Wconversion]
  312 |     icrl_values.trigger_mode = trig_mode;
      |                                ^~~~~~~~~
i386/i386/apic.c:313:26: warning: conversion from ‘unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  313 |     icrl_values.vector = vector;
      |                          ^~~~~~
i386/i386/apic.c:314:37: warning: conversion from ‘unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  314 |     icrh_values.destination_field = dest_id;
      |                                     ^~~~~~~
i386/i386/apic.c: In function ‘lapic_disable’:
i386/i386/apic.c:329:30: warning: unsigned conversion from ‘int’ to ‘unsigned int’ changes value from ‘-257’ to ‘4294967039’ [-Wsign-conversion]
  329 |     lapic->spurious_vector.r &= ~LAPIC_ENABLE;
      |                              ^~
i386/i386/apic.c: In function ‘fix_apic_id_mask’:
i386/i386/apic.c:335:26: warning: unsigned conversion from ‘int’ to ‘uint32_t’ {aka ‘unsigned int’} changes value from ‘-2147483648’ to ‘2147483648’ [-Wsign-conversion]
  335 |     if (lapic->version.r & APIC_VERSION_HAS_EXT_APIC_SPACE) {
      |                          ^
i386/i386/apic.c: In function ‘hpet_init’:
i386/i386/apic.c:435:15: warning: unsigned conversion from ‘int’ to ‘uint32_t’ {aka ‘unsigned int’} changes value from ‘-4’ to ‘4294967292’ [-Wsign-conversion]
  435 |     val = val & ~(HPET_LEGACY_ROUTE | HPET_CFG_ENABLE);
      |               ^
i386/i386/apic.c:443:16: warning: unsigned conversion from ‘int’ to ‘uint32_t’ {aka ‘unsigned int’} changes value from ‘-5’ to ‘4294967291’ [-Wsign-conversion]
  443 |     val = (val & ~HPET_T0_INT_ENABLE) | HPET_T0_32BIT_MODE | HPET_T0_TYPE_PERIODIC | HPET_T0_VAL_SET;
      |                ^
depbase=`echo i386/i386/hardclock.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386/hardclock.o -MD -MP -MF $depbase.Tpo -c -o i386/i386/hardclock.o i386/i386/hardclock.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/mach_clock.h:36,
                 from i386/i386/hardclock.c:35:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/thread.h:43,
                 from i386/i386/hardclock.c:36:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
i386/i386/hardclock.c: In function ‘hardclock’:
i386/i386/hardclock.c:50:15: warning: declaration of ‘iunit’ shadows a global declaration [-Wshadow]
   50 | hardclock(int iunit, /* 'unit' number */
      |           ~~~~^~~~~
In file included from ./machine/spl.h:77,
                 from ./kern/lock.h:39,
                 from ./kern/queue.h:38,
                 from ./kern/mach_clock.h:38:
./i386/i386/ipl.h:78:17: note: shadowed declaration is here
   78 | extern int      iunit[];
      |                 ^~~~~
i386/i386/hardclock.c:68:33: warning: conversion to ‘vm_offset_t’ {aka ‘long unsigned int’} from ‘long int’ may change the sign of the result [-Wsign-conversion]
   68 |                             regs->eip);                 /* interrupted eip */
      |                             ~~~~^~~~~
depbase=`echo i386/i386/irq.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386/irq.o -MD -MP -MF $depbase.Tpo -c -o i386/i386/irq.o i386/i386/irq.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./kern/ipc_kobject.h:44,
                 from ./ipc/ipc_port.h:47,
                 from ./device/intr.h:23,
                 from i386/i386/irq.c:21:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from ./vm/pmap.h:45:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
i386/i386/irq.c: At top level:
i386/i386/irq.c:27:21: warning: redundant redeclaration of ‘main_intr_queue’ [-Wredundant-decls]
   27 | extern queue_head_t main_intr_queue;
      |                     ^~~~~~~~~~~~~~~
./device/intr.h:52:21: note: previous declaration of ‘main_intr_queue’ with type ‘queue_head_t’ {aka ‘struct queue_entry’}
   52 | extern queue_head_t main_intr_queue;
      |                     ^~~~~~~~~~~~~~~
i386/i386/irq.c:91:3: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
   91 |   "irq", irq_eoi, &main_intr_queue, 0,
      |   ^~~~~
depbase=`echo i386/i386/pit.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386/pit.o -MD -MP -MF $depbase.Tpo -c -o i386/i386/pit.o i386/i386/pit.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/mach_clock.h:36,
                 from i386/i386/pit.c:52:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
i386/i386/pit.c: In function ‘pit_prepare_sleep’:
i386/i386/pit.c:76:9: warning: unsigned conversion from ‘int’ to ‘uint32_t’ {aka ‘unsigned int’} changes value from ‘-3’ to ‘4294967293’ [-Wsign-conversion]
   76 |     val &= ~PITAUX_OUT2;
      |         ^~
In file included from i386/i386/pit.c:55:
./i386/i386/pit.h:96:25: warning: conversion to ‘uint32_t’ {aka ‘unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
   96 | #define CLKNUM          1193182         /* PIT base frequency in Hz */
      |                         ^~~~~~~
i386/i386/pit.c:80:11: note: in expansion of macro ‘CLKNUM’
   80 |     val = CLKNUM / persec;
      |           ^~~~~~
i386/i386/pit.c:82:11: warning: conversion from ‘uint32_t’ {aka ‘unsigned int’} to ‘uint8_t’ {aka ‘unsigned char’} may change value [-Wconversion]
   82 |     msb = val >> 8;
      |           ^~~
i386/i386/pit.c: In function ‘pit_sleep’:
i386/i386/pit.c:95:12: warning: unsigned conversion from ‘int’ to ‘uint8_t’ {aka ‘unsigned char’} changes the value of ‘-2’ [-Wsign-conversion]
   95 |     val &= ~PITAUX_GATE2;
      |            ^
i386/i386/pit.c: In function ‘clkstart’:
i386/i386/pit.c:134:19: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  134 |         clknumb = (CLKNUM + hz / 2) / hz;
      |                   ^
i386/i386/pit.c:135:16: warning: conversion from ‘unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  135 |         byte = clknumb;
      |                ^~~~~~~
i386/i386/pit.c:137:16: warning: conversion from ‘unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  137 |         byte = clknumb>>8;
      |                ^~~~~~~
depbase=`echo i386/i386/pic.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386/pic.o -MD -MP -MF $depbase.Tpo -c -o i386/i386/pic.o i386/i386/pic.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from i386/i386/pic.c:71:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
depbase=`echo i386/i386at/pic_isa.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386at/pic_isa.o -MD -MP -MF $depbase.Tpo -c -o i386/i386at/pic_isa.o i386/i386at/pic_isa.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/i386/fpu.h:36,
                 from i386/i386at/pic_isa.c:30:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./include/mach/thread_info.h:42,
                 from ./kern/thread.h:38,
                 from ./i386/i386/fpu.h:37:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53,
                 from ./ipc/ipc_kmsg.h:46,
                 from ./kern/ipc_kobject.h:44,
                 from ./i386/i386/mach_i386.server.h:12,
                 from ./i386/i386/fpu.h:38:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
In file included from ./i386/i386/mach_i386.server.h:13:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
In file included from ./ipc/ipc_space.h:52,
                 from ./i386/i386/mach_i386.server.h:21:
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/sys/types.h:29,
                 from i386/i386at/pic_isa.c:27:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./i386/i386/fpu.h: In function ‘xsetbv’:
./i386/i386/fpu.h:90:15: warning: conversion from ‘uint64_t’ {aka ‘long unsigned int’} to ‘uint32_t’ {aka ‘unsigned int’} may change value [-Wconversion]
   90 |         eax = value;
      |               ^~~~~
./i386/i386/fpu.h:91:15: warning: conversion from ‘uint64_t’ {aka ‘long unsigned int’} to ‘uint32_t’ {aka ‘unsigned int’} may change value [-Wconversion]
   91 |         edx = value >> 32;
      |               ^~~~~
./i386/i386/fpu.h: At top level:
./i386/i386/fpu.h:237:22: warning: redundant redeclaration of ‘i386_get_xstate_size’ [-Wredundant-decls]
  237 | extern kern_return_t i386_get_xstate_size(host_t host, vm_size_t *size);
      |                      ^~~~~~~~~~~~~~~~~~~~
./i386/i386/mach_i386.server.h:136:15: note: previous declaration of ‘i386_get_xstate_size’ with type ‘kern_return_t(struct host *, vm_size_t *)’ {aka ‘int(struct host *, long unsigned int *)’}
  136 | kern_return_t i386_get_xstate_size
      |               ^~~~~~~~~~~~~~~~~~~~
i386/i386at/pic_isa.c:37:25: warning: cast between incompatible function types from ‘void (*)(int,  int,  const char *, struct i386_interrupt_state *)’ to ‘void (*)(int)’ [-Wcast-function-type]
   37 |         /* 00 */        (interrupt_handler_fn)hardclock,        /* always */
      |                         ^
depbase=`echo chips/busses.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT chips/busses.o -MD -MP -MF $depbase.Tpo -c -o chips/busses.o chips/busses.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./kern/printf.h:30,
                 from chips/busses.c:40:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
chips/busses.c: In function ‘configure_bus_master’:
chips/busses.c:100:27: warning: conversion from ‘int’ to ‘char’ may change value [-Wconversion]
  100 |         master->adaptor = adpt_no;
      |                           ^~~~~~~
chips/busses.c:120:49: warning: conversion from ‘int’ to ‘char’ may change value [-Wconversion]
  120 |                 if (ctlr == '?') device->ctlr = master->unit;
      |                                                 ^~~~~~
chips/busses.c:127:40: warning: conversion from ‘int’ to ‘char’ may change value [-Wconversion]
  127 |                         device->ctlr = ctlr;
      |                                        ^~~~
chips/busses.c:132:35: warning: conversion from ‘int’ to ‘char’ may change value [-Wconversion]
  132 |                 device->adaptor = adpt_no;
      |                                   ^~~~~~~
chips/busses.c:133:32: warning: conversion from ‘int’ to ‘char’ may change value [-Wconversion]
  133 |                 device->ctlr = master->unit;
      |                                ^~~~~~
chips/busses.c: In function ‘configure_bus_device’:
chips/busses.c:215:27: warning: conversion from ‘int’ to ‘char’ may change value [-Wconversion]
  215 |         device->adaptor = adpt_no;
      |                           ^~~~~~~
depbase=`echo device/cirbuf.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT device/cirbuf.o -MD -MP -MF $depbase.Tpo -c -o device/cirbuf.o device/cirbuf.c &&\
mv -f $depbase.Tpo $depbase.Po
device/cirbuf.c: In function ‘putc’:
device/cirbuf.c:93:15: warning: conversion from ‘int’ to ‘char’ may change value [-Wconversion]
   93 |         *ow = c;
      |               ^
device/cirbuf.c: In function ‘q_to_b’:
device/cirbuf.c:145:21: warning: conversion from ‘long int’ to ‘int’ may change value [-Wconversion]
  145 |                 i = cb->c_end - cb->c_cf;
      |                     ^~
device/cirbuf.c:147:21: warning: conversion from ‘long int’ to ‘int’ may change value [-Wconversion]
  147 |                 i = cb->c_cl - cb->c_cf;
      |                     ^~
device/cirbuf.c:150:34: warning: conversion to ‘size_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  150 |             memcpy(cp, cb->c_cf, i);
      |                                  ^
device/cirbuf.c:154:25: warning: conversion from ‘int’ to ‘short int’ may change value [-Wconversion]
  154 |             cb->c_cc -= i;
      |                         ^
device/cirbuf.c:162:19: warning: conversion from ‘long int’ to ‘int’ may change value [-Wconversion]
  162 |         return cp - ocp;
      |                ~~~^~~~~
device/cirbuf.c: In function ‘b_to_q’:
device/cirbuf.c:185:21: warning: conversion from ‘long int’ to ‘int’ may change value [-Wconversion]
  185 |                 i = lim - cb->c_cl;
      |                     ^~~
device/cirbuf.c:187:21: warning: conversion from ‘long int’ to ‘int’ may change value [-Wconversion]
  187 |                 i = cb->c_end - cb->c_cl;
      |                     ^~
device/cirbuf.c:191:34: warning: conversion to ‘size_t’ {aka ‘long unsigned int’} from ‘int’ may change the sign of the result [-Wsign-conversion]
  191 |             memcpy(cb->c_cl, cp, i);
      |                                  ^
device/cirbuf.c:194:25: warning: conversion from ‘int’ to ‘short int’ may change value [-Wconversion]
  194 |             cb->c_cc += i;
      |                         ^
device/cirbuf.c: In function ‘ndflush’:
device/cirbuf.c:218:21: warning: conversion from ‘long int’ to ‘int’ may change value [-Wconversion]
  218 |                 i = cb->c_end - cb->c_cf;
      |                     ^~
device/cirbuf.c:220:21: warning: conversion from ‘long int’ to ‘int’ may change value [-Wconversion]
  220 |                 i = cb->c_cl - cb->c_cf;
      |                     ^~
device/cirbuf.c:225:25: warning: conversion from ‘int’ to ‘short int’ may change value [-Wconversion]
  225 |             cb->c_cc -= i;
      |                         ^
device/cirbuf.c: In function ‘cb_alloc’:
device/cirbuf.c:261:21: warning: conversion from ‘vm_size_t’ {aka ‘long unsigned int’} to ‘short int’ may change value [-Wconversion]
  261 |         cb->c_hog = buf_size - 1;
      |                     ^~~~~~~~
device/cirbuf.c: In function ‘cb_free’:
device/cirbuf.c:274:16: warning: conversion to ‘vm_size_t’ {aka ‘long unsigned int’} from ‘long int’ may change the sign of the result [-Wsign-conversion]
  274 |         size = cb->c_end - cb->c_start;
      |                ^~
cd . && /bin/bash ./config.status version.c
config.status: creating version.c
depbase=`echo version.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT version.o -MD -MP -MF $depbase.Tpo -c -o version.o version.c &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo vm/memory_object_user.user.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT vm/memory_object_user.user.o -MD -MP -MF $depbase.Tpo -c -o vm/memory_object_user.user.o vm/memory_object_user.user.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from vm/memory_object_user.user.h:11,
                 from vm/memory_object_user.user.c:5:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53,
                 from ./ipc/ipc_thread.h:39,
                 from ./kern/ipc_mig.h:31,
                 from vm/memory_object_user.user.c:14:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./kern/thread.h:54:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
depbase=`echo vm/memory_object_default.user.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT vm/memory_object_default.user.o -MD -MP -MF $depbase.Tpo -c -o vm/memory_object_default.user.o vm/memory_object_default.user.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from vm/memory_object_default.user.h:11,
                 from vm/memory_object_default.user.c:5:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53,
                 from ./ipc/ipc_thread.h:39,
                 from ./kern/ipc_mig.h:31,
                 from vm/memory_object_default.user.c:14:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./kern/thread.h:54:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
depbase=`echo device/device_reply.user.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT device/device_reply.user.o -MD -MP -MF $depbase.Tpo -c -o device/device_reply.user.o device/device_reply.user.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from device/device_reply.user.c:11:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53,
                 from ./ipc/ipc_thread.h:39,
                 from ./kern/ipc_mig.h:31,
                 from device/device_reply.user.c:14:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./kern/thread.h:54:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
depbase=`echo device/memory_object_reply.user.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT device/memory_object_reply.user.o -MD -MP -MF $depbase.Tpo -c -o device/memory_object_reply.user.o device/memory_object_reply.user.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from device/memory_object_reply.user.h:11,
                 from device/memory_object_reply.user.c:5:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53,
                 from ./ipc/ipc_thread.h:39,
                 from ./kern/ipc_mig.h:31,
                 from device/memory_object_reply.user.c:14:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./kern/thread.h:54:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
device/memory_object_reply.user.c: In function ‘r_memory_object_data_supply’:
device/memory_object_reply.user.c:649:54: warning: conversion from ‘boolean_t’ {aka ‘int’} to ‘unsigned char:1’ may change value [-Wconversion]
  649 |         InP->dataType.msgtl_header.msgt_deallocate = dataDealloc;
      |                                                      ^~~~~~~~~~~
depbase=`echo kern/task_notify.user.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/task_notify.user.o -MD -MP -MF $depbase.Tpo -c -o kern/task_notify.user.o kern/task_notify.user.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from kern/task_notify.user.h:11,
                 from kern/task_notify.user.c:5:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./machine/task.h:27,
                 from ./kern/task.h:50,
                 from ./kern/thread.h:53,
                 from ./ipc/ipc_thread.h:39,
                 from ./kern/ipc_mig.h:31,
                 from kern/task_notify.user.c:14:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./machine/gdt.h:36,
                 from ./machine/thread.h:43,
                 from ./kern/thread.h:54:
./machine/seg.h: In function ‘fill_descriptor’:
./machine/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h: In function ‘fill_descriptor64’:
./machine/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./machine/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./machine/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./machine/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./machine/seg.h: In function ‘fill_gate’:
./machine/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
depbase=`echo device/device.server.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT device/device.server.o -MD -MP -MF $depbase.Tpo -c -o device/device.server.o device/device.server.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from ./include/mach/mig_support.h:38,
                 from device/device.server.c:12:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./kern/ipc_kobject.h:44,
                 from ./ipc/ipc_port.h:47,
                 from device/device.server.c:13:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from device/device.server.c:46:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
In file included from ./kern/thread.h:53,
                 from ./vm/pmap.h:45:
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/mach/port.h:39,
                 from ./include/mach/message.h:36,
                 from device/device.server.c:10:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
In file included from device/device.server.c:54:
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
device/device.server.c: In function ‘_Xdevice_open’:
device/device.server.c:83:36: warning: nested extern declaration of ‘ds_device_open’ [-Wnested-externs]
   83 |         mig_external kern_return_t ds_device_open
      |                                    ^~~~~~~~~~~~~~
device/device.server.c: In function ‘_Xdevice_close’:
device/device.server.c:174:36: warning: nested extern declaration of ‘ds_device_close’ [-Wnested-externs]
  174 |         mig_external kern_return_t ds_device_close
      |                                    ^~~~~~~~~~~~~~~
device/device.server.c: In function ‘_Xdevice_write’:
device/device.server.c:228:36: warning: nested extern declaration of ‘ds_device_write’ [-Wnested-externs]
  228 |         mig_external kern_return_t ds_device_write
      |                                    ^~~~~~~~~~~~~~~
device/device.server.c: In function ‘_Xdevice_write_inband’:
device/device.server.c:347:36: warning: nested extern declaration of ‘ds_device_write_inband’ [-Wnested-externs]
  347 |         mig_external kern_return_t ds_device_write_inband
      |                                    ^~~~~~~~~~~~~~~~~~~~~~
device/device.server.c: In function ‘_Xdevice_read’:
device/device.server.c:471:36: warning: nested extern declaration of ‘ds_device_read’ [-Wnested-externs]
  471 |         mig_external kern_return_t ds_device_read
      |                                    ^~~~~~~~~~~~~~
device/device.server.c: In function ‘_Xdevice_read_inband’:
device/device.server.c:602:36: warning: nested extern declaration of ‘ds_device_read_inband’ [-Wnested-externs]
  602 |         mig_external kern_return_t ds_device_read_inband
      |                                    ^~~~~~~~~~~~~~~~~~~~~
device/device.server.c: In function ‘_Xdevice_open_new’:
device/device.server.c:724:36: warning: nested extern declaration of ‘ds_device_open_new’ [-Wnested-externs]
  724 |         mig_external kern_return_t ds_device_open_new
      |                                    ^~~~~~~~~~~~~~~~~~
device/device.server.c: In function ‘_Xdevice_map’:
device/device.server.c:835:36: warning: nested extern declaration of ‘ds_device_map’ [-Wnested-externs]
  835 |         mig_external kern_return_t ds_device_map
      |                                    ^~~~~~~~~~~~~
device/device.server.c: In function ‘_Xdevice_set_status’:
device/device.server.c:969:36: warning: nested extern declaration of ‘ds_device_set_status’ [-Wnested-externs]
  969 |         mig_external kern_return_t ds_device_set_status
      |                                    ^~~~~~~~~~~~~~~~~~~~
device/device.server.c: In function ‘_Xdevice_get_status’:
device/device.server.c:1057:36: warning: nested extern declaration of ‘ds_device_get_status’ [-Wnested-externs]
 1057 |         mig_external kern_return_t ds_device_get_status
      |                                    ^~~~~~~~~~~~~~~~~~~~
device/device.server.c: In function ‘_Xdevice_set_filter’:
device/device.server.c:1165:36: warning: nested extern declaration of ‘ds_device_set_filter’ [-Wnested-externs]
 1165 |         mig_external kern_return_t ds_device_set_filter
      |                                    ^~~~~~~~~~~~~~~~~~~~
device/device.server.c: In function ‘_Xdevice_intr_register’:
device/device.server.c:1260:36: warning: nested extern declaration of ‘ds_device_intr_register’ [-Wnested-externs]
 1260 |         mig_external kern_return_t ds_device_intr_register
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~
device/device.server.c: In function ‘_Xdevice_intr_ack’:
device/device.server.c:1347:36: warning: nested extern declaration of ‘ds_device_intr_ack’ [-Wnested-externs]
 1347 |         mig_external kern_return_t ds_device_intr_ack
      |                                    ^~~~~~~~~~~~~~~~~~
depbase=`echo device/device_pager.server.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT device/device_pager.server.o -MD -MP -MF $depbase.Tpo -c -o device/device_pager.server.o device/device_pager.server.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from ./include/mach/mig_support.h:38,
                 from device/device_pager.server.c:12:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./kern/ipc_kobject.h:44,
                 from ./ipc/ipc_port.h:47,
                 from device/device_pager.server.c:13:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from device/device_pager.server.c:46:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
In file included from ./kern/thread.h:53,
                 from ./vm/pmap.h:45:
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/mach/port.h:39,
                 from ./include/mach/message.h:36,
                 from device/device_pager.server.c:10:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
In file included from device/device_pager.server.c:54:
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
device/device_pager.server.c: In function ‘_Xdevice_pager_init_pager’:
device/device_pager.server.c:81:36: warning: nested extern declaration of ‘device_pager_init_pager’ [-Wnested-externs]
   81 |         mig_external kern_return_t device_pager_init_pager
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~
device/device_pager.server.c: In function ‘_Xdevice_pager_terminate’:
device/device_pager.server.c:159:36: warning: nested extern declaration of ‘device_pager_terminate’ [-Wnested-externs]
  159 |         mig_external kern_return_t device_pager_terminate
      |                                    ^~~~~~~~~~~~~~~~~~~~~~
device/device_pager.server.c: In function ‘_Xdevice_pager_copy’:
device/device_pager.server.c:227:36: warning: nested extern declaration of ‘device_pager_copy’ [-Wnested-externs]
  227 |         mig_external kern_return_t device_pager_copy
      |                                    ^~~~~~~~~~~~~~~~~
device/device_pager.server.c: In function ‘_Xdevice_pager_data_request’:
device/device_pager.server.c:328:36: warning: nested extern declaration of ‘device_pager_data_request’ [-Wnested-externs]
  328 |         mig_external kern_return_t device_pager_data_request
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~~
device/device_pager.server.c: In function ‘_Xdevice_pager_data_unlock’:
device/device_pager.server.c:435:36: warning: nested extern declaration of ‘device_pager_data_unlock’ [-Wnested-externs]
  435 |         mig_external kern_return_t device_pager_data_unlock
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~
device/device_pager.server.c: In function ‘_Xdevice_pager_lock_completed’:
device/device_pager.server.c:539:36: warning: nested extern declaration of ‘device_pager_lock_completed’ [-Wnested-externs]
  539 |         mig_external kern_return_t device_pager_lock_completed
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~
device/device_pager.server.c: In function ‘_Xdevice_pager_supply_completed’:
device/device_pager.server.c:633:36: warning: nested extern declaration of ‘device_pager_supply_completed’ [-Wnested-externs]
  633 |         mig_external kern_return_t device_pager_supply_completed
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
device/device_pager.server.c: In function ‘_Xdevice_pager_data_return’:
device/device_pager.server.c:758:36: warning: nested extern declaration of ‘device_pager_data_return’ [-Wnested-externs]
  758 |         mig_external kern_return_t device_pager_data_return
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~
device/device_pager.server.c: In function ‘_Xdevice_pager_change_completed’:
device/device_pager.server.c:870:36: warning: nested extern declaration of ‘device_pager_change_completed’ [-Wnested-externs]
  870 |         mig_external kern_return_t device_pager_change_completed
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
depbase=`echo ipc/mach_port.server.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT ipc/mach_port.server.o -MD -MP -MF $depbase.Tpo -c -o ipc/mach_port.server.o ipc/mach_port.server.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from ./include/mach/mig_support.h:38,
                 from ipc/mach_port.server.c:12:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./kern/ipc_kobject.h:44,
                 from ./ipc/ipc_port.h:47,
                 from ipc/mach_port.server.c:13:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from ipc/mach_port.server.c:46:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
In file included from ./kern/thread.h:53,
                 from ./vm/pmap.h:45:
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/mach/port.h:39,
                 from ./include/mach/message.h:36,
                 from ipc/mach_port.server.c:10:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
In file included from ipc/mach_port.server.c:54:
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
ipc/mach_port.server.c: In function ‘_Xmach_port_names’:
ipc/mach_port.server.c:78:36: warning: nested extern declaration of ‘mach_port_names’ [-Wnested-externs]
   78 |         mig_external kern_return_t mach_port_names
      |                                    ^~~~~~~~~~~~~~~
ipc/mach_port.server.c: In function ‘_Xmach_port_type’:
ipc/mach_port.server.c:170:36: warning: nested extern declaration of ‘mach_port_type’ [-Wnested-externs]
  170 |         mig_external kern_return_t mach_port_type
      |                                    ^~~~~~~~~~~~~~
ipc/mach_port.server.c: In function ‘_Xmach_port_rename’:
ipc/mach_port.server.c:253:36: warning: nested extern declaration of ‘mach_port_rename’ [-Wnested-externs]
  253 |         mig_external kern_return_t mach_port_rename
      |                                    ^~~~~~~~~~~~~~~~
ipc/mach_port.server.c: In function ‘_Xmach_port_allocate_name’:
ipc/mach_port.server.c:334:36: warning: nested extern declaration of ‘mach_port_allocate_name’ [-Wnested-externs]
  334 |         mig_external kern_return_t mach_port_allocate_name
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~
ipc/mach_port.server.c: In function ‘_Xmach_port_allocate’:
ipc/mach_port.server.c:415:36: warning: nested extern declaration of ‘mach_port_allocate’ [-Wnested-externs]
  415 |         mig_external kern_return_t mach_port_allocate
      |                                    ^~~~~~~~~~~~~~~~~~
ipc/mach_port.server.c: In function ‘_Xmach_port_destroy’:
ipc/mach_port.server.c:495:36: warning: nested extern declaration of ‘mach_port_destroy’ [-Wnested-externs]
  495 |         mig_external kern_return_t mach_port_destroy
      |                                    ^~~~~~~~~~~~~~~~~
ipc/mach_port.server.c: In function ‘_Xmach_port_deallocate’:
ipc/mach_port.server.c:557:36: warning: nested extern declaration of ‘mach_port_deallocate’ [-Wnested-externs]
  557 |         mig_external kern_return_t mach_port_deallocate
      |                                    ^~~~~~~~~~~~~~~~~~~~
ipc/mach_port.server.c: In function ‘_Xmach_port_get_refs’:
ipc/mach_port.server.c:625:36: warning: nested extern declaration of ‘mach_port_get_refs’ [-Wnested-externs]
  625 |         mig_external kern_return_t mach_port_get_refs
      |                                    ^~~~~~~~~~~~~~~~~~
ipc/mach_port.server.c: In function ‘_Xmach_port_mod_refs’:
ipc/mach_port.server.c:727:36: warning: nested extern declaration of ‘mach_port_mod_refs’ [-Wnested-externs]
  727 |         mig_external kern_return_t mach_port_mod_refs
      |                                    ^~~~~~~~~~~~~~~~~~
ipc/mach_port.server.c: In function ‘_Xmach_port_set_qlimit’:
ipc/mach_port.server.c:824:36: warning: nested extern declaration of ‘mach_port_set_qlimit’ [-Wnested-externs]
  824 |         mig_external kern_return_t mach_port_set_qlimit
      |                                    ^~~~~~~~~~~~~~~~~~~~
ipc/mach_port.server.c: In function ‘_Xmach_port_set_mscount’:
ipc/mach_port.server.c:905:36: warning: nested extern declaration of ‘mach_port_set_mscount’ [-Wnested-externs]
  905 |         mig_external kern_return_t mach_port_set_mscount
      |                                    ^~~~~~~~~~~~~~~~~~~~~
ipc/mach_port.server.c: In function ‘_Xmach_port_get_set_status’:
ipc/mach_port.server.c:985:36: warning: nested extern declaration of ‘mach_port_get_set_status’ [-Wnested-externs]
  985 |         mig_external kern_return_t mach_port_get_set_status
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~
ipc/mach_port.server.c: In function ‘_Xmach_port_move_member’:
ipc/mach_port.server.c:1074:36: warning: nested extern declaration of ‘mach_port_move_member’ [-Wnested-externs]
 1074 |         mig_external kern_return_t mach_port_move_member
      |                                    ^~~~~~~~~~~~~~~~~~~~~
ipc/mach_port.server.c: In function ‘_Xmach_port_request_notification’:
ipc/mach_port.server.c:1162:36: warning: nested extern declaration of ‘mach_port_request_notification’ [-Wnested-externs]
 1162 |         mig_external kern_return_t mach_port_request_notification
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ipc/mach_port.server.c: In function ‘_Xmach_port_insert_right’:
ipc/mach_port.server.c:1287:36: warning: nested extern declaration of ‘mach_port_insert_right’ [-Wnested-externs]
 1287 |         mig_external kern_return_t mach_port_insert_right
      |                                    ^~~~~~~~~~~~~~~~~~~~~~
ipc/mach_port.server.c: In function ‘_Xmach_port_extract_right’:
ipc/mach_port.server.c:1369:36: warning: nested extern declaration of ‘mach_port_extract_right’ [-Wnested-externs]
 1369 |         mig_external kern_return_t mach_port_extract_right
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~
ipc/mach_port.server.c:1444:36: warning: conversion from ‘mach_msg_type_name_t’ {aka ‘unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
 1444 |         OutP->polyType.msgt_name = polyPoly;
      |                                    ^~~~~~~~
ipc/mach_port.server.c: In function ‘_Xmach_port_get_receive_status’:
ipc/mach_port.server.c:1486:36: warning: nested extern declaration of ‘mach_port_get_receive_status’ [-Wnested-externs]
 1486 |         mig_external kern_return_t mach_port_get_receive_status
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
ipc/mach_port.server.c: In function ‘_Xmach_port_set_seqno’:
ipc/mach_port.server.c:1569:36: warning: nested extern declaration of ‘mach_port_set_seqno’ [-Wnested-externs]
 1569 |         mig_external kern_return_t mach_port_set_seqno
      |                                    ^~~~~~~~~~~~~~~~~~~
ipc/mach_port.server.c: In function ‘_Xmach_port_set_protected_payload’:
ipc/mach_port.server.c:1650:36: warning: nested extern declaration of ‘mach_port_set_protected_payload’ [-Wnested-externs]
 1650 |         mig_external kern_return_t mach_port_set_protected_payload
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ipc/mach_port.server.c: In function ‘_Xmach_port_clear_protected_payload’:
ipc/mach_port.server.c:1728:36: warning: nested extern declaration of ‘mach_port_clear_protected_payload’ [-Wnested-externs]
 1728 |         mig_external kern_return_t mach_port_clear_protected_payload
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
depbase=`echo kern/mach.server.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/mach.server.o -MD -MP -MF $depbase.Tpo -c -o kern/mach.server.o kern/mach.server.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from ./include/mach/mig_support.h:38,
                 from kern/mach.server.c:12:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./kern/ipc_kobject.h:44,
                 from ./ipc/ipc_port.h:47,
                 from kern/mach.server.c:13:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from kern/mach.server.c:46:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
In file included from ./kern/thread.h:53,
                 from ./vm/pmap.h:45:
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/mach/port.h:39,
                 from ./include/mach/message.h:36,
                 from kern/mach.server.c:10:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
In file included from kern/mach.server.c:54:
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
kern/mach.server.c: In function ‘_Xtask_create’:
kern/mach.server.c:79:36: warning: nested extern declaration of ‘task_create’ [-Wnested-externs]
   79 |         mig_external kern_return_t task_create
      |                                    ^~~~~~~~~~~
kern/mach.server.c:79:36: warning: redundant redeclaration of ‘task_create’ [-Wredundant-decls]
./kern/task.h:140:25: note: previous declaration of ‘task_create’ with type ‘kern_return_t(struct task *, boolean_t,  struct task **)’ {aka ‘int(struct task *, int,  struct task **)’}
  140 | extern kern_return_t    task_create(
      |                         ^~~~~~~~~~~
kern/mach.server.c: In function ‘_Xtask_terminate’:
kern/mach.server.c:160:36: warning: nested extern declaration of ‘task_terminate’ [-Wnested-externs]
  160 |         mig_external kern_return_t task_terminate
      |                                    ^~~~~~~~~~~~~~
kern/mach.server.c:160:36: warning: redundant redeclaration of ‘task_terminate’ [-Wredundant-decls]
./kern/task.h:148:25: note: previous declaration of ‘task_terminate’ with type ‘kern_return_t(struct task *)’ {aka ‘int(struct task *)’}
  148 | extern kern_return_t    task_terminate(
      |                         ^~~~~~~~~~~~~~
kern/mach.server.c: In function ‘_Xtask_get_emulation_vector’:
kern/mach.server.c:208:36: warning: nested extern declaration of ‘task_get_emulation_vector’ [-Wnested-externs]
  208 |         mig_external kern_return_t task_get_emulation_vector
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~~
kern/mach.server.c: In function ‘_Xtask_set_emulation_vector’:
kern/mach.server.c:294:36: warning: nested extern declaration of ‘task_set_emulation_vector’ [-Wnested-externs]
  294 |         mig_external kern_return_t task_set_emulation_vector
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~~
kern/mach.server.c: In function ‘_Xtask_threads’:
kern/mach.server.c:365:36: warning: nested extern declaration of ‘task_threads’ [-Wnested-externs]
  365 |         mig_external kern_return_t task_threads
      |                                    ^~~~~~~~~~~~
kern/mach.server.c:365:36: warning: redundant redeclaration of ‘task_threads’ [-Wredundant-decls]
./kern/task.h:154:25: note: previous declaration of ‘task_threads’ with type ‘kern_return_t(struct task *, mach_port_t **, natural_t *)’ {aka ‘int(struct task *, long unsigned int **, unsigned int *)’}
  154 | extern kern_return_t    task_threads(
      |                         ^~~~~~~~~~~~
kern/mach.server.c: In function ‘_Xtask_info’:
kern/mach.server.c:443:36: warning: nested extern declaration of ‘task_info’ [-Wnested-externs]
  443 |         mig_external kern_return_t task_info
      |                                    ^~~~~~~~~
kern/mach.server.c:443:36: warning: redundant redeclaration of ‘task_info’ [-Wredundant-decls]
./kern/task.h:158:25: note: previous declaration of ‘task_info’ with type ‘kern_return_t(struct task *, int,  integer_t *, natural_t *)’ {aka ‘int(struct task *, int,  int *, unsigned int *)’}
  158 | extern kern_return_t    task_info(
      |                         ^~~~~~~~~
kern/mach.server.c: In function ‘_Xthread_terminate’:
kern/mach.server.c:541:36: warning: nested extern declaration of ‘thread_terminate’ [-Wnested-externs]
  541 |         mig_external kern_return_t thread_terminate
      |                                    ^~~~~~~~~~~~~~~~
kern/mach.server.c:541:36: warning: redundant redeclaration of ‘thread_terminate’ [-Wredundant-decls]
./kern/thread.h:297:25: note: previous declaration of ‘thread_terminate’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  297 | extern kern_return_t    thread_terminate(
      |                         ^~~~~~~~~~~~~~~~
kern/mach.server.c: In function ‘_Xthread_get_state’:
kern/mach.server.c:595:36: warning: nested extern declaration of ‘thread_get_state’ [-Wnested-externs]
  595 |         mig_external kern_return_t thread_get_state
      |                                    ^~~~~~~~~~~~~~~~
kern/mach.server.c:595:36: warning: redundant redeclaration of ‘thread_get_state’ [-Wredundant-decls]
./kern/thread.h:333:25: note: previous declaration of ‘thread_get_state’ with type ‘kern_return_t(struct thread *, int,  natural_t *, natural_t *)’ {aka ‘int(struct thread *, int,  unsigned int *, unsigned int *)’}
  333 | extern kern_return_t    thread_get_state(
      |                         ^~~~~~~~~~~~~~~~
kern/mach.server.c: In function ‘_Xthread_set_state’:
kern/mach.server.c:701:36: warning: nested extern declaration of ‘thread_set_state’ [-Wnested-externs]
  701 |         mig_external kern_return_t thread_set_state
      |                                    ^~~~~~~~~~~~~~~~
kern/mach.server.c:701:36: warning: redundant redeclaration of ‘thread_set_state’ [-Wredundant-decls]
./kern/thread.h:338:25: note: previous declaration of ‘thread_set_state’ with type ‘kern_return_t(struct thread *, int,  natural_t *, natural_t)’ {aka ‘int(struct thread *, int,  unsigned int *, unsigned int)’}
  338 | extern kern_return_t    thread_set_state(
      |                         ^~~~~~~~~~~~~~~~
kern/mach.server.c: In function ‘_Xthread_info’:
kern/mach.server.c:789:36: warning: nested extern declaration of ‘thread_info’ [-Wnested-externs]
  789 |         mig_external kern_return_t thread_info
      |                                    ^~~~~~~~~~~
kern/mach.server.c:789:36: warning: redundant redeclaration of ‘thread_info’ [-Wredundant-decls]
./kern/thread.h:351:25: note: previous declaration of ‘thread_info’ with type ‘kern_return_t(struct thread *, int,  integer_t *, natural_t *)’ {aka ‘int(struct thread *, int,  int *, unsigned int *)’}
  351 | extern kern_return_t    thread_info(
      |                         ^~~~~~~~~~~
kern/mach.server.c: In function ‘_Xvm_allocate’:
kern/mach.server.c:899:36: warning: nested extern declaration of ‘vm_allocate’ [-Wnested-externs]
  899 |         mig_external kern_return_t vm_allocate
      |                                    ^~~~~~~~~~~
kern/mach.server.c: In function ‘_Xvm_deallocate’:
kern/mach.server.c:1018:36: warning: nested extern declaration of ‘vm_deallocate’ [-Wnested-externs]
 1018 |         mig_external kern_return_t vm_deallocate
      |                                    ^~~~~~~~~~~~~
kern/mach.server.c: In function ‘_Xvm_protect’:
kern/mach.server.c:1105:36: warning: nested extern declaration of ‘vm_protect’ [-Wnested-externs]
 1105 |         mig_external kern_return_t vm_protect
      |                                    ^~~~~~~~~~
kern/mach.server.c: In function ‘_Xvm_inherit’:
kern/mach.server.c:1221:36: warning: nested extern declaration of ‘vm_inherit’ [-Wnested-externs]
 1221 |         mig_external kern_return_t vm_inherit
      |                                    ^~~~~~~~~~
kern/mach.server.c: In function ‘_Xvm_read’:
kern/mach.server.c:1320:36: warning: nested extern declaration of ‘vm_read’ [-Wnested-externs]
 1320 |         mig_external kern_return_t vm_read
      |                                    ^~~~~~~
kern/mach.server.c: In function ‘_Xvm_write’:
kern/mach.server.c:1424:36: warning: nested extern declaration of ‘vm_write’ [-Wnested-externs]
 1424 |         mig_external kern_return_t vm_write
      |                                    ^~~~~~~~
kern/mach.server.c: In function ‘_Xvm_copy’:
kern/mach.server.c:1502:36: warning: nested extern declaration of ‘vm_copy’ [-Wnested-externs]
 1502 |         mig_external kern_return_t vm_copy
      |                                    ^~~~~~~
kern/mach.server.c: In function ‘_Xvm_region’:
kern/mach.server.c:1619:36: warning: nested extern declaration of ‘vm_region’ [-Wnested-externs]
 1619 |         mig_external kern_return_t vm_region
      |                                    ^~~~~~~~~
kern/mach.server.c: In function ‘_Xvm_statistics’:
kern/mach.server.c:1808:36: warning: nested extern declaration of ‘vm_statistics’ [-Wnested-externs]
 1808 |         mig_external kern_return_t vm_statistics
      |                                    ^~~~~~~~~~~~~
kern/mach.server.c: In function ‘_Xmach_ports_register’:
kern/mach.server.c:1871:36: warning: nested extern declaration of ‘mach_ports_register’ [-Wnested-externs]
 1871 |         mig_external kern_return_t mach_ports_register
      |                                    ^~~~~~~~~~~~~~~~~~~
kern/mach.server.c: In function ‘_Xmach_ports_lookup’:
kern/mach.server.c:1926:36: warning: nested extern declaration of ‘mach_ports_lookup’ [-Wnested-externs]
 1926 |         mig_external kern_return_t mach_ports_lookup
      |                                    ^~~~~~~~~~~~~~~~~
kern/mach.server.c: In function ‘_Xmemory_object_data_unavailable’:
kern/mach.server.c:1999:36: warning: nested extern declaration of ‘memory_object_data_unavailable’ [-Wnested-externs]
 1999 |         mig_external kern_return_t memory_object_data_unavailable
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
kern/mach.server.c: In function ‘_Xmemory_object_get_attributes’:
kern/mach.server.c:2078:36: warning: nested extern declaration of ‘memory_object_get_attributes’ [-Wnested-externs]
 2078 |         mig_external kern_return_t memory_object_get_attributes
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
kern/mach.server.c: In function ‘_Xvm_set_default_memory_manager’:
kern/mach.server.c:2166:36: warning: nested extern declaration of ‘vm_set_default_memory_manager’ [-Wnested-externs]
 2166 |         mig_external kern_return_t vm_set_default_memory_manager
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
kern/mach.server.c: In function ‘_Xmemory_object_lock_request’:
kern/mach.server.c:2251:36: warning: nested extern declaration of ‘memory_object_lock_request’ [-Wnested-externs]
 2251 |         mig_external kern_return_t memory_object_lock_request
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
kern/mach.server.c: In function ‘_Xtask_suspend’:
kern/mach.server.c:2384:36: warning: nested extern declaration of ‘task_suspend’ [-Wnested-externs]
 2384 |         mig_external kern_return_t task_suspend
      |                                    ^~~~~~~~~~~~
kern/mach.server.c:2384:36: warning: redundant redeclaration of ‘task_suspend’ [-Wredundant-decls]
./kern/task.h:150:25: note: previous declaration of ‘task_suspend’ with type ‘kern_return_t(struct task *)’ {aka ‘int(struct task *)’}
  150 | extern kern_return_t    task_suspend(
      |                         ^~~~~~~~~~~~
kern/mach.server.c: In function ‘_Xtask_resume’:
kern/mach.server.c:2427:36: warning: nested extern declaration of ‘task_resume’ [-Wnested-externs]
 2427 |         mig_external kern_return_t task_resume
      |                                    ^~~~~~~~~~~
kern/mach.server.c:2427:36: warning: redundant redeclaration of ‘task_resume’ [-Wredundant-decls]
./kern/task.h:152:25: note: previous declaration of ‘task_resume’ with type ‘kern_return_t(struct task *)’ {aka ‘int(struct task *)’}
  152 | extern kern_return_t    task_resume(
      |                         ^~~~~~~~~~~
kern/mach.server.c: In function ‘_Xtask_get_special_port’:
kern/mach.server.c:2475:36: warning: nested extern declaration of ‘task_get_special_port’ [-Wnested-externs]
 2475 |         mig_external kern_return_t task_get_special_port
      |                                    ^~~~~~~~~~~~~~~~~~~~~
kern/mach.server.c:2475:36: warning: redundant redeclaration of ‘task_get_special_port’ [-Wredundant-decls]
./kern/task.h:163:25: note: previous declaration of ‘task_get_special_port’ with type ‘kern_return_t(struct task *, int,  struct ipc_port **)’ {aka ‘int(struct task *, int,  struct ipc_port **)’}
  163 | extern kern_return_t    task_get_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~
kern/mach.server.c: In function ‘_Xtask_set_special_port’:
kern/mach.server.c:2558:36: warning: nested extern declaration of ‘task_set_special_port’ [-Wnested-externs]
 2558 |         mig_external kern_return_t task_set_special_port
      |                                    ^~~~~~~~~~~~~~~~~~~~~
kern/mach.server.c:2558:36: warning: redundant redeclaration of ‘task_set_special_port’ [-Wredundant-decls]
./kern/task.h:167:25: note: previous declaration of ‘task_set_special_port’ with type ‘kern_return_t(struct task *, int,  struct ipc_port *)’ {aka ‘int(struct task *, int,  struct ipc_port *)’}
  167 | extern kern_return_t    task_set_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~
kern/mach.server.c: In function ‘_Xthread_create’:
kern/mach.server.c:2629:36: warning: nested extern declaration of ‘thread_create’ [-Wnested-externs]
 2629 |         mig_external kern_return_t thread_create
      |                                    ^~~~~~~~~~~~~
kern/mach.server.c:2629:36: warning: redundant redeclaration of ‘thread_create’ [-Wredundant-decls]
./kern/thread.h:294:25: note: previous declaration of ‘thread_create’ with type ‘kern_return_t(struct task *, struct thread **)’ {aka ‘int(struct task *, struct thread **)’}
  294 | extern kern_return_t    thread_create(
      |                         ^~~~~~~~~~~~~
kern/mach.server.c: In function ‘_Xthread_suspend’:
kern/mach.server.c:2694:36: warning: nested extern declaration of ‘thread_suspend’ [-Wnested-externs]
 2694 |         mig_external kern_return_t thread_suspend
      |                                    ^~~~~~~~~~~~~~
kern/mach.server.c:2694:36: warning: redundant redeclaration of ‘thread_suspend’ [-Wredundant-decls]
./kern/thread.h:306:25: note: previous declaration of ‘thread_suspend’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  306 | extern kern_return_t    thread_suspend(
      |                         ^~~~~~~~~~~~~~
kern/mach.server.c: In function ‘_Xthread_resume’:
kern/mach.server.c:2737:36: warning: nested extern declaration of ‘thread_resume’ [-Wnested-externs]
 2737 |         mig_external kern_return_t thread_resume
      |                                    ^~~~~~~~~~~~~
kern/mach.server.c:2737:36: warning: redundant redeclaration of ‘thread_resume’ [-Wredundant-decls]
./kern/thread.h:308:25: note: previous declaration of ‘thread_resume’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  308 | extern kern_return_t    thread_resume(
      |                         ^~~~~~~~~~~~~
kern/mach.server.c: In function ‘_Xthread_abort’:
kern/mach.server.c:2780:36: warning: nested extern declaration of ‘thread_abort’ [-Wnested-externs]
 2780 |         mig_external kern_return_t thread_abort
      |                                    ^~~~~~~~~~~~
kern/mach.server.c:2780:36: warning: redundant redeclaration of ‘thread_abort’ [-Wredundant-decls]
./kern/thread.h:310:25: note: previous declaration of ‘thread_abort’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  310 | extern kern_return_t    thread_abort(
      |                         ^~~~~~~~~~~~
kern/mach.server.c: In function ‘_Xthread_get_special_port’:
kern/mach.server.c:2828:36: warning: nested extern declaration of ‘thread_get_special_port’ [-Wnested-externs]
 2828 |         mig_external kern_return_t thread_get_special_port
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~
kern/mach.server.c:2828:36: warning: redundant redeclaration of ‘thread_get_special_port’ [-Wredundant-decls]
./kern/thread.h:343:25: note: previous declaration of ‘thread_get_special_port’ with type ‘kern_return_t(struct thread *, int,  struct ipc_port **)’ {aka ‘int(struct thread *, int,  struct ipc_port **)’}
  343 | extern kern_return_t    thread_get_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
kern/mach.server.c: In function ‘_Xthread_set_special_port’:
kern/mach.server.c:2911:36: warning: nested extern declaration of ‘thread_set_special_port’ [-Wnested-externs]
 2911 |         mig_external kern_return_t thread_set_special_port
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~
kern/mach.server.c:2911:36: warning: redundant redeclaration of ‘thread_set_special_port’ [-Wredundant-decls]
./kern/thread.h:347:25: note: previous declaration of ‘thread_set_special_port’ with type ‘kern_return_t(struct thread *, int,  struct ipc_port *)’ {aka ‘int(struct thread *, int,  struct ipc_port *)’}
  347 | extern kern_return_t    thread_set_special_port(
      |                         ^~~~~~~~~~~~~~~~~~~~~~~
kern/mach.server.c: In function ‘_Xtask_set_emulation’:
kern/mach.server.c:2986:36: warning: nested extern declaration of ‘task_set_emulation’ [-Wnested-externs]
 2986 |         mig_external kern_return_t task_set_emulation
      |                                    ^~~~~~~~~~~~~~~~~~
kern/mach.server.c: In function ‘_Xtask_ras_control’:
kern/mach.server.c:3070:36: warning: nested extern declaration of ‘task_ras_control’ [-Wnested-externs]
 3070 |         mig_external kern_return_t task_ras_control
      |                                    ^~~~~~~~~~~~~~~~
kern/mach.server.c: In function ‘_Xvm_map’:
kern/mach.server.c:3193:36: warning: nested extern declaration of ‘vm_map’ [-Wnested-externs]
 3193 |         mig_external kern_return_t vm_map
      |                                    ^~~~~~
kern/mach.server.c: In function ‘_Xmemory_object_data_error’:
kern/mach.server.c:3424:36: warning: nested extern declaration of ‘memory_object_data_error’ [-Wnested-externs]
 3424 |         mig_external kern_return_t memory_object_data_error
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~
kern/mach.server.c: In function ‘_Xmemory_object_destroy’:
kern/mach.server.c:3513:36: warning: nested extern declaration of ‘memory_object_destroy’ [-Wnested-externs]
 3513 |         mig_external kern_return_t memory_object_destroy
      |                                    ^~~~~~~~~~~~~~~~~~~~~
kern/mach.server.c: In function ‘_Xmemory_object_data_supply’:
kern/mach.server.c:3580:36: warning: nested extern declaration of ‘memory_object_data_supply’ [-Wnested-externs]
 3580 |         mig_external kern_return_t memory_object_data_supply
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~~
kern/mach.server.c: In function ‘_Xmemory_object_ready’:
kern/mach.server.c:3692:36: warning: nested extern declaration of ‘memory_object_ready’ [-Wnested-externs]
 3692 |         mig_external kern_return_t memory_object_ready
      |                                    ^~~~~~~~~~~~~~~~~~~
kern/mach.server.c: In function ‘_Xmemory_object_change_attributes’:
kern/mach.server.c:3770:36: warning: nested extern declaration of ‘memory_object_change_attributes’ [-Wnested-externs]
 3770 |         mig_external kern_return_t memory_object_change_attributes
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
kern/mach.server.c: In function ‘_Xvm_machine_attribute’:
kern/mach.server.c:3870:36: warning: nested extern declaration of ‘vm_machine_attribute’ [-Wnested-externs]
 3870 |         mig_external kern_return_t vm_machine_attribute
      |                                    ^~~~~~~~~~~~~~~~~~~~
depbase=`echo kern/mach4.server.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/mach4.server.o -MD -MP -MF $depbase.Tpo -c -o kern/mach4.server.o kern/mach4.server.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from ./include/mach/mig_support.h:38,
                 from kern/mach4.server.c:12:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./kern/ipc_kobject.h:44,
                 from ./ipc/ipc_port.h:47,
                 from kern/mach4.server.c:13:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from kern/mach4.server.c:46:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
In file included from ./kern/thread.h:53,
                 from ./vm/pmap.h:45:
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/mach/port.h:39,
                 from ./include/mach/message.h:36,
                 from kern/mach4.server.c:10:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
In file included from kern/mach4.server.c:54:
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
kern/mach4.server.c: In function ‘_Xtask_enable_pc_sampling’:
kern/mach4.server.c:80:36: warning: nested extern declaration of ‘task_enable_pc_sampling’ [-Wnested-externs]
   80 |         mig_external kern_return_t task_enable_pc_sampling
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~
kern/mach4.server.c: In function ‘_Xtask_disable_pc_sampling’:
kern/mach4.server.c:160:36: warning: nested extern declaration of ‘task_disable_pc_sampling’ [-Wnested-externs]
  160 |         mig_external kern_return_t task_disable_pc_sampling
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~
kern/mach4.server.c: In function ‘_Xtask_get_sampled_pcs’:
kern/mach4.server.c:232:36: warning: nested extern declaration of ‘task_get_sampled_pcs’ [-Wnested-externs]
  232 |         mig_external kern_return_t task_get_sampled_pcs
      |                                    ^~~~~~~~~~~~~~~~~~~~
kern/mach4.server.c: In function ‘_Xthread_enable_pc_sampling’:
kern/mach4.server.c:334:36: warning: nested extern declaration of ‘thread_enable_pc_sampling’ [-Wnested-externs]
  334 |         mig_external kern_return_t thread_enable_pc_sampling
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~~
kern/mach4.server.c: In function ‘_Xthread_disable_pc_sampling’:
kern/mach4.server.c:414:36: warning: nested extern declaration of ‘thread_disable_pc_sampling’ [-Wnested-externs]
  414 |         mig_external kern_return_t thread_disable_pc_sampling
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
kern/mach4.server.c: In function ‘_Xthread_get_sampled_pcs’:
kern/mach4.server.c:486:36: warning: nested extern declaration of ‘thread_get_sampled_pcs’ [-Wnested-externs]
  486 |         mig_external kern_return_t thread_get_sampled_pcs
      |                                    ^~~~~~~~~~~~~~~~~~~~~~
kern/mach4.server.c: In function ‘_Xmemory_object_create_proxy’:
kern/mach4.server.c:610:36: warning: nested extern declaration of ‘memory_object_create_proxy’ [-Wnested-externs]
  610 |         mig_external kern_return_t memory_object_create_proxy
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
kern/mach4.server.c: In function ‘_Xvm_region_create_proxy’:
kern/mach4.server.c:775:36: warning: nested extern declaration of ‘vm_region_create_proxy’ [-Wnested-externs]
  775 |         mig_external kern_return_t vm_region_create_proxy
      |                                    ^~~~~~~~~~~~~~~~~~~~~~
depbase=`echo kern/gnumach.server.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/gnumach.server.o -MD -MP -MF $depbase.Tpo -c -o kern/gnumach.server.o kern/gnumach.server.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from ./include/mach/mig_support.h:38,
                 from kern/gnumach.server.c:12:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./kern/ipc_kobject.h:44,
                 from ./ipc/ipc_port.h:47,
                 from kern/gnumach.server.c:13:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from kern/gnumach.server.c:46:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
In file included from ./kern/thread.h:53,
                 from ./vm/pmap.h:45:
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/mach/port.h:39,
                 from ./include/mach/message.h:36,
                 from kern/gnumach.server.c:10:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
In file included from kern/gnumach.server.c:54:
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
kern/gnumach.server.c: In function ‘_Xvm_cache_statistics’:
kern/gnumach.server.c:78:36: warning: nested extern declaration of ‘vm_cache_statistics’ [-Wnested-externs]
   78 |         mig_external kern_return_t vm_cache_statistics
      |                                    ^~~~~~~~~~~~~~~~~~~
kern/gnumach.server.c: In function ‘_Xthread_terminate_release’:
kern/gnumach.server.c:153:36: warning: nested extern declaration of ‘thread_terminate_release’ [-Wnested-externs]
  153 |         mig_external kern_return_t thread_terminate_release
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~
kern/gnumach.server.c:153:36: warning: redundant redeclaration of ‘thread_terminate_release’ [-Wredundant-decls]
./kern/thread.h:299:25: note: previous declaration of ‘thread_terminate_release’ with type ‘kern_return_t(struct thread *, struct task *, mach_port_name_t,  mach_port_name_t,  vm_offset_t,  vm_size_t)’ {aka ‘int(struct thread *, struct task *, unsigned int,  unsigned int,  long unsigned int,  long unsigned int)’}
  299 | extern kern_return_t    thread_terminate_release(
      |                         ^~~~~~~~~~~~~~~~~~~~~~~~
kern/gnumach.server.c: In function ‘_Xtask_set_name’:
kern/gnumach.server.c:284:36: warning: nested extern declaration of ‘task_set_name’ [-Wnested-externs]
  284 |         mig_external kern_return_t task_set_name
      |                                    ^~~~~~~~~~~~~
kern/gnumach.server.c:284:36: warning: redundant redeclaration of ‘task_set_name’ [-Wredundant-decls]
./kern/task.h:178:25: note: previous declaration of ‘task_set_name’ with type ‘kern_return_t(struct task *, const char *)’ {aka ‘int(struct task *, const char *)’}
  178 | extern kern_return_t    task_set_name(
      |                         ^~~~~~~~~~~~~
kern/gnumach.server.c: In function ‘_Xregister_new_task_notification’:
kern/gnumach.server.c:346:36: warning: nested extern declaration of ‘register_new_task_notification’ [-Wnested-externs]
  346 |         mig_external kern_return_t register_new_task_notification
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
kern/gnumach.server.c: In function ‘_Xgsync_wait’:
kern/gnumach.server.c:409:36: warning: nested extern declaration of ‘gsync_wait’ [-Wnested-externs]
  409 |         mig_external kern_return_t gsync_wait
      |                                    ^~~~~~~~~~
kern/gnumach.server.c: In function ‘_Xgsync_wake’:
kern/gnumach.server.c:541:36: warning: nested extern declaration of ‘gsync_wake’ [-Wnested-externs]
  541 |         mig_external kern_return_t gsync_wake
      |                                    ^~~~~~~~~~
kern/gnumach.server.c: In function ‘_Xgsync_requeue’:
kern/gnumach.server.c:644:36: warning: nested extern declaration of ‘gsync_requeue’ [-Wnested-externs]
  644 |         mig_external kern_return_t gsync_requeue
      |                                    ^~~~~~~~~~~~~
kern/gnumach.server.c: In function ‘_Xvm_wire_all’:
kern/gnumach.server.c:756:36: warning: nested extern declaration of ‘vm_wire_all’ [-Wnested-externs]
  756 |         mig_external kern_return_t vm_wire_all
      |                                    ^~~~~~~~~~~
kern/gnumach.server.c: In function ‘_Xvm_object_sync’:
kern/gnumach.server.c:845:36: warning: nested extern declaration of ‘vm_object_sync’ [-Wnested-externs]
  845 |         mig_external kern_return_t vm_object_sync
      |                                    ^~~~~~~~~~~~~~
kern/gnumach.server.c: In function ‘_Xvm_msync’:
kern/gnumach.server.c:977:36: warning: nested extern declaration of ‘vm_msync’ [-Wnested-externs]
  977 |         mig_external kern_return_t vm_msync
      |                                    ^~~~~~~~
kern/gnumach.server.c: In function ‘_Xvm_allocate_contiguous’:
kern/gnumach.server.c:1084:36: warning: nested extern declaration of ‘vm_allocate_contiguous’ [-Wnested-externs]
 1084 |         mig_external kern_return_t vm_allocate_contiguous
      |                                    ^~~~~~~~~~~~~~~~~~~~~~
kern/gnumach.server.c: In function ‘_Xtask_set_essential’:
kern/gnumach.server.c:1242:36: warning: nested extern declaration of ‘task_set_essential’ [-Wnested-externs]
 1242 |         mig_external kern_return_t task_set_essential
      |                                    ^~~~~~~~~~~~~~~~~~
kern/gnumach.server.c: In function ‘_Xvm_pages_phys’:
kern/gnumach.server.c:1314:36: warning: nested extern declaration of ‘vm_pages_phys’ [-Wnested-externs]
 1314 |         mig_external kern_return_t vm_pages_phys
      |                                    ^~~~~~~~~~~~~
kern/gnumach.server.c: In function ‘_Xthread_set_name’:
kern/gnumach.server.c:1445:36: warning: nested extern declaration of ‘thread_set_name’ [-Wnested-externs]
 1445 |         mig_external kern_return_t thread_set_name
      |                                    ^~~~~~~~~~~~~~~
kern/gnumach.server.c:1445:36: warning: redundant redeclaration of ‘thread_set_name’ [-Wredundant-decls]
./kern/thread.h:362:22: note: previous declaration of ‘thread_set_name’ with type ‘kern_return_t(struct thread *, const char *)’ {aka ‘int(struct thread *, const char *)’}
  362 | extern kern_return_t thread_set_name(
      |                      ^~~~~~~~~~~~~~~
kern/gnumach.server.c: In function ‘_Xthread_get_name’:
kern/gnumach.server.c:1510:36: warning: nested extern declaration of ‘thread_get_name’ [-Wnested-externs]
 1510 |         mig_external kern_return_t thread_get_name
      |                                    ^~~~~~~~~~~~~~~
kern/gnumach.server.c:1510:36: warning: redundant redeclaration of ‘thread_get_name’ [-Wredundant-decls]
./kern/thread.h:365:22: note: previous declaration of ‘thread_get_name’ with type ‘kern_return_t(struct thread *, char *)’ {aka ‘int(struct thread *, char *)’}
  365 | extern kern_return_t thread_get_name(
      |                      ^~~~~~~~~~~~~~~
kern/gnumach.server.c:1539:38: warning: conversion from ‘size_t’ {aka ‘long unsigned int’} to ‘mach_msg_type_number_t’ {aka ‘unsigned int’} may change value [-Wconversion]
 1539 |         OutP->nameType.msgt_number = strlen(OutP->name) + 1;
      |                                      ^~~~~~
depbase=`echo kern/experimental.server.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/experimental.server.o -MD -MP -MF $depbase.Tpo -c -o kern/experimental.server.o kern/experimental.server.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from ./include/mach/mig_support.h:38,
                 from kern/experimental.server.c:12:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./kern/ipc_kobject.h:44,
                 from ./ipc/ipc_port.h:47,
                 from kern/experimental.server.c:13:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from kern/experimental.server.c:46:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
In file included from ./kern/thread.h:53,
                 from ./vm/pmap.h:45:
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/mach/port.h:39,
                 from ./include/mach/message.h:36,
                 from kern/experimental.server.c:10:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
In file included from kern/experimental.server.c:54:
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
depbase=`echo kern/mach_debug.server.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/mach_debug.server.o -MD -MP -MF $depbase.Tpo -c -o kern/mach_debug.server.o kern/mach_debug.server.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from ./include/mach/mig_support.h:38,
                 from kern/mach_debug.server.c:12:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./kern/ipc_kobject.h:44,
                 from ./ipc/ipc_port.h:47,
                 from kern/mach_debug.server.c:13:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from kern/mach_debug.server.c:46:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
In file included from ./kern/thread.h:53,
                 from ./vm/pmap.h:45:
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/mach/port.h:39,
                 from ./include/mach/message.h:36,
                 from kern/mach_debug.server.c:10:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
In file included from kern/mach_debug.server.c:54:
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
kern/mach_debug.server.c: In function ‘_Xmach_port_get_srights’:
kern/mach_debug.server.c:81:36: warning: nested extern declaration of ‘mach_port_get_srights’ [-Wnested-externs]
   81 |         mig_external kern_return_t mach_port_get_srights
      |                                    ^~~~~~~~~~~~~~~~~~~~~
kern/mach_debug.server.c: In function ‘_Xhost_ipc_marequest_info’:
kern/mach_debug.server.c:169:36: warning: nested extern declaration of ‘host_ipc_marequest_info’ [-Wnested-externs]
  169 |         mig_external kern_return_t host_ipc_marequest_info
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~
kern/mach_debug.server.c: In function ‘_Xmach_port_dnrequest_info’:
kern/mach_debug.server.c:287:36: warning: nested extern declaration of ‘mach_port_dnrequest_info’ [-Wnested-externs]
  287 |         mig_external kern_return_t mach_port_dnrequest_info
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~
kern/mach_debug.server.c: In function ‘_Xhost_stack_usage’:
kern/mach_debug.server.c:396:36: warning: nested extern declaration of ‘host_stack_usage’ [-Wnested-externs]
  396 |         mig_external kern_return_t host_stack_usage
      |                                    ^~~~~~~~~~~~~~~~
kern/mach_debug.server.c: In function ‘_Xprocessor_set_stack_usage’:
kern/mach_debug.server.c:553:36: warning: nested extern declaration of ‘processor_set_stack_usage’ [-Wnested-externs]
  553 |         mig_external kern_return_t processor_set_stack_usage
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~~
kern/mach_debug.server.c: In function ‘_Xhost_virtual_physical_table_info’:
kern/mach_debug.server.c:690:36: warning: nested extern declaration of ‘host_virtual_physical_table_info’ [-Wnested-externs]
  690 |         mig_external kern_return_t host_virtual_physical_table_info
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
kern/mach_debug.server.c: In function ‘_Xmach_port_kernel_object’:
kern/mach_debug.server.c:794:36: warning: nested extern declaration of ‘mach_port_kernel_object’ [-Wnested-externs]
  794 |         mig_external kern_return_t mach_port_kernel_object
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~
kern/mach_debug.server.c: In function ‘_Xmach_vm_region_info’:
kern/mach_debug.server.c:896:36: warning: nested extern declaration of ‘mach_vm_region_info’ [-Wnested-externs]
  896 |         mig_external kern_return_t mach_vm_region_info
      |                                    ^~~~~~~~~~~~~~~~~~~
kern/mach_debug.server.c: In function ‘_Xmach_vm_object_info’:
kern/mach_debug.server.c:994:36: warning: nested extern declaration of ‘mach_vm_object_info’ [-Wnested-externs]
  994 |         mig_external kern_return_t mach_vm_object_info
      |                                    ^~~~~~~~~~~~~~~~~~~
kern/mach_debug.server.c: In function ‘_Xmach_vm_object_pages’:
kern/mach_debug.server.c:1092:36: warning: nested extern declaration of ‘mach_vm_object_pages’ [-Wnested-externs]
 1092 |         mig_external kern_return_t mach_vm_object_pages
      |                                    ^~~~~~~~~~~~~~~~~~~~
kern/mach_debug.server.c: In function ‘_Xhost_slab_info’:
kern/mach_debug.server.c:1199:36: warning: nested extern declaration of ‘host_slab_info’ [-Wnested-externs]
 1199 |         mig_external kern_return_t host_slab_info
      |                                    ^~~~~~~~~~~~~~
kern/mach_debug.server.c: In function ‘_Xmach_vm_object_pages_phys’:
kern/mach_debug.server.c:1302:36: warning: nested extern declaration of ‘mach_vm_object_pages_phys’ [-Wnested-externs]
 1302 |         mig_external kern_return_t mach_vm_object_pages_phys
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~~
depbase=`echo kern/mach_host.server.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/mach_host.server.o -MD -MP -MF $depbase.Tpo -c -o kern/mach_host.server.o kern/mach_host.server.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from ./include/mach/mig_support.h:38,
                 from kern/mach_host.server.c:12:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./kern/ipc_kobject.h:44,
                 from ./ipc/ipc_port.h:47,
                 from kern/mach_host.server.c:13:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from kern/mach_host.server.c:46:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
In file included from ./kern/thread.h:53,
                 from ./vm/pmap.h:45:
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/mach/port.h:39,
                 from ./include/mach/message.h:36,
                 from kern/mach_host.server.c:10:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
In file included from kern/mach_host.server.c:54:
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
kern/mach_host.server.c: In function ‘_Xhost_processors’:
kern/mach_host.server.c:76:36: warning: nested extern declaration of ‘host_processors’ [-Wnested-externs]
   76 |         mig_external kern_return_t host_processors
      |                                    ^~~~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xprocessor_start’:
kern/mach_host.server.c:139:36: warning: nested extern declaration of ‘processor_start’ [-Wnested-externs]
  139 |         mig_external kern_return_t processor_start
      |                                    ^~~~~~~~~~~~~~~
kern/mach_host.server.c:139:36: warning: redundant redeclaration of ‘processor_start’ [-Wredundant-decls]
In file included from ./kern/thread.h:48:
./kern/processor.h:296:22: note: previous declaration of ‘processor_start’ with type ‘kern_return_t(struct processor *)’ {aka ‘int(struct processor *)’}
  296 | extern kern_return_t processor_start(
      |                      ^~~~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xprocessor_exit’:
kern/mach_host.server.c:177:36: warning: nested extern declaration of ‘processor_exit’ [-Wnested-externs]
  177 |         mig_external kern_return_t processor_exit
      |                                    ^~~~~~~~~~~~~~
kern/mach_host.server.c:177:36: warning: redundant redeclaration of ‘processor_exit’ [-Wredundant-decls]
./kern/processor.h:299:22: note: previous declaration of ‘processor_exit’ with type ‘kern_return_t(struct processor *)’ {aka ‘int(struct processor *)’}
  299 | extern kern_return_t processor_exit(
      |                      ^~~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xprocessor_set_default’:
kern/mach_host.server.c:217:36: warning: nested extern declaration of ‘processor_set_default’ [-Wnested-externs]
  217 |         mig_external kern_return_t processor_set_default
      |                                    ^~~~~~~~~~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xprocessor_set_create’:
kern/mach_host.server.c:282:36: warning: nested extern declaration of ‘processor_set_create’ [-Wnested-externs]
  282 |         mig_external kern_return_t processor_set_create
      |                                    ^~~~~~~~~~~~~~~~~~~~
kern/mach_host.server.c:282:36: warning: redundant redeclaration of ‘processor_set_create’ [-Wredundant-decls]
./kern/processor.h:309:22: note: previous declaration of ‘processor_set_create’ with type ‘kern_return_t(struct host *, struct processor_set **, struct processor_set **)’ {aka ‘int(struct host *, struct processor_set **, struct processor_set **)’}
  309 | extern kern_return_t processor_set_create(
      |                      ^~~~~~~~~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xprocessor_set_destroy’:
kern/mach_host.server.c:360:36: warning: nested extern declaration of ‘processor_set_destroy’ [-Wnested-externs]
  360 |         mig_external kern_return_t processor_set_destroy
      |                                    ^~~~~~~~~~~~~~~~~~~~~
kern/mach_host.server.c:360:36: warning: redundant redeclaration of ‘processor_set_destroy’ [-Wredundant-decls]
./kern/processor.h:314:22: note: previous declaration of ‘processor_set_destroy’ with type ‘kern_return_t(struct processor_set *)’ {aka ‘int(struct processor_set *)’}
  314 | extern kern_return_t processor_set_destroy(
      |                      ^~~~~~~~~~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xprocessor_assign’:
kern/mach_host.server.c:408:36: warning: nested extern declaration of ‘processor_assign’ [-Wnested-externs]
  408 |         mig_external kern_return_t processor_assign
      |                                    ^~~~~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xprocessor_get_assignment’:
kern/mach_host.server.c:484:36: warning: nested extern declaration of ‘processor_get_assignment’ [-Wnested-externs]
  484 |         mig_external kern_return_t processor_get_assignment
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~
kern/mach_host.server.c:484:36: warning: redundant redeclaration of ‘processor_get_assignment’ [-Wredundant-decls]
./kern/processor.h:285:22: note: previous declaration of ‘processor_get_assignment’ with type ‘kern_return_t(struct processor *, struct processor_set **)’ {aka ‘int(struct processor *, struct processor_set **)’}
  285 | extern kern_return_t processor_get_assignment(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xthread_assign’:
kern/mach_host.server.c:547:36: warning: nested extern declaration of ‘thread_assign’ [-Wnested-externs]
  547 |         mig_external kern_return_t thread_assign
      |                                    ^~~~~~~~~~~~~
kern/mach_host.server.c:547:36: warning: redundant redeclaration of ‘thread_assign’ [-Wredundant-decls]
./kern/thread.h:356:25: note: previous declaration of ‘thread_assign’ with type ‘kern_return_t(struct thread *, struct processor_set *)’ {aka ‘int(struct thread *, struct processor_set *)’}
  356 | extern kern_return_t    thread_assign(
      |                         ^~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xthread_assign_default’:
kern/mach_host.server.c:609:36: warning: nested extern declaration of ‘thread_assign_default’ [-Wnested-externs]
  609 |         mig_external kern_return_t thread_assign_default
      |                                    ^~~~~~~~~~~~~~~~~~~~~
kern/mach_host.server.c:609:36: warning: redundant redeclaration of ‘thread_assign_default’ [-Wredundant-decls]
./kern/thread.h:359:25: note: previous declaration of ‘thread_assign_default’ with type ‘kern_return_t(struct thread *)’ {aka ‘int(struct thread *)’}
  359 | extern kern_return_t    thread_assign_default(
      |                         ^~~~~~~~~~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xthread_get_assignment’:
kern/mach_host.server.c:654:36: warning: nested extern declaration of ‘thread_get_assignment’ [-Wnested-externs]
  654 |         mig_external kern_return_t thread_get_assignment
      |                                    ^~~~~~~~~~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xtask_assign’:
kern/mach_host.server.c:724:36: warning: nested extern declaration of ‘task_assign’ [-Wnested-externs]
  724 |         mig_external kern_return_t task_assign
      |                                    ^~~~~~~~~~~
kern/mach_host.server.c:724:36: warning: redundant redeclaration of ‘task_assign’ [-Wredundant-decls]
./kern/task.h:171:25: note: previous declaration of ‘task_assign’ with type ‘kern_return_t(struct task *, struct processor_set *, boolean_t)’ {aka ‘int(struct task *, struct processor_set *, int)’}
  171 | extern kern_return_t    task_assign(
      |                         ^~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xtask_assign_default’:
kern/mach_host.server.c:805:36: warning: nested extern declaration of ‘task_assign_default’ [-Wnested-externs]
  805 |         mig_external kern_return_t task_assign_default
      |                                    ^~~~~~~~~~~~~~~~~~~
kern/mach_host.server.c:805:36: warning: redundant redeclaration of ‘task_assign_default’ [-Wredundant-decls]
./kern/task.h:175:25: note: previous declaration of ‘task_assign_default’ with type ‘kern_return_t(struct task *, boolean_t)’ {aka ‘int(struct task *, int)’}
  175 | extern kern_return_t    task_assign_default(
      |                         ^~~~~~~~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xtask_get_assignment’:
kern/mach_host.server.c:866:36: warning: nested extern declaration of ‘task_get_assignment’ [-Wnested-externs]
  866 |         mig_external kern_return_t task_get_assignment
      |                                    ^~~~~~~~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xhost_kernel_version’:
kern/mach_host.server.c:933:36: warning: nested extern declaration of ‘host_kernel_version’ [-Wnested-externs]
  933 |         mig_external kern_return_t host_kernel_version
      |                                    ^~~~~~~~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xthread_priority’:
kern/mach_host.server.c:996:36: warning: nested extern declaration of ‘thread_priority’ [-Wnested-externs]
  996 |         mig_external kern_return_t thread_priority
      |                                    ^~~~~~~~~~~~~~~
kern/mach_host.server.c:996:36: warning: redundant redeclaration of ‘thread_priority’ [-Wredundant-decls]
./kern/thread.h:315:25: note: previous declaration of ‘thread_priority’ with type ‘kern_return_t(struct thread *, int,  boolean_t)’ {aka ‘int(struct thread *, int,  int)’}
  315 | extern kern_return_t    thread_priority(
      |                         ^~~~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xthread_max_priority’:
kern/mach_host.server.c:1076:36: warning: nested extern declaration of ‘thread_max_priority’ [-Wnested-externs]
 1076 |         mig_external kern_return_t thread_max_priority
      |                                    ^~~~~~~~~~~~~~~~~~~
kern/mach_host.server.c:1076:36: warning: redundant redeclaration of ‘thread_max_priority’ [-Wredundant-decls]
./kern/thread.h:321:25: note: previous declaration of ‘thread_max_priority’ with type ‘kern_return_t(struct thread *, struct processor_set *, int)’ {aka ‘int(struct thread *, struct processor_set *, int)’}
  321 | extern kern_return_t    thread_max_priority(
      |                         ^~~~~~~~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xtask_priority’:
kern/mach_host.server.c:1160:36: warning: nested extern declaration of ‘task_priority’ [-Wnested-externs]
 1160 |         mig_external kern_return_t task_priority
      |                                    ^~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xprocessor_set_max_priority’:
kern/mach_host.server.c:1241:36: warning: nested extern declaration of ‘processor_set_max_priority’ [-Wnested-externs]
 1241 |         mig_external kern_return_t processor_set_max_priority
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
kern/mach_host.server.c:1241:36: warning: redundant redeclaration of ‘processor_set_max_priority’ [-Wredundant-decls]
./kern/processor.h:324:22: note: previous declaration of ‘processor_set_max_priority’ with type ‘kern_return_t(struct processor_set *, int,  boolean_t)’ {aka ‘int(struct processor_set *, int,  int)’}
  324 | extern kern_return_t processor_set_max_priority(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xthread_policy’:
kern/mach_host.server.c:1322:36: warning: nested extern declaration of ‘thread_policy’ [-Wnested-externs]
 1322 |         mig_external kern_return_t thread_policy
      |                                    ^~~~~~~~~~~~~
kern/mach_host.server.c:1322:36: warning: redundant redeclaration of ‘thread_policy’ [-Wredundant-decls]
./kern/thread.h:325:25: note: previous declaration of ‘thread_policy’ with type ‘kern_return_t(struct thread *, int,  int)’ {aka ‘int(struct thread *, int,  int)’}
  325 | extern kern_return_t    thread_policy(
      |                         ^~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xprocessor_set_policy_enable’:
kern/mach_host.server.c:1400:36: warning: nested extern declaration of ‘processor_set_policy_enable’ [-Wnested-externs]
 1400 |         mig_external kern_return_t processor_set_policy_enable
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~
kern/mach_host.server.c:1400:36: warning: redundant redeclaration of ‘processor_set_policy_enable’ [-Wredundant-decls]
./kern/processor.h:329:22: note: previous declaration of ‘processor_set_policy_enable’ with type ‘kern_return_t(struct processor_set *, int)’ {aka ‘int(struct processor_set *, int)’}
  329 | extern kern_return_t processor_set_policy_enable(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xprocessor_set_policy_disable’:
kern/mach_host.server.c:1465:36: warning: nested extern declaration of ‘processor_set_policy_disable’ [-Wnested-externs]
 1465 |         mig_external kern_return_t processor_set_policy_disable
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
kern/mach_host.server.c:1465:36: warning: redundant redeclaration of ‘processor_set_policy_disable’ [-Wredundant-decls]
./kern/processor.h:333:22: note: previous declaration of ‘processor_set_policy_disable’ with type ‘kern_return_t(struct processor_set *, int,  boolean_t)’ {aka ‘int(struct processor_set *, int,  int)’}
  333 | extern kern_return_t processor_set_policy_disable(
      |                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xprocessor_set_tasks’:
kern/mach_host.server.c:1542:36: warning: nested extern declaration of ‘processor_set_tasks’ [-Wnested-externs]
 1542 |         mig_external kern_return_t processor_set_tasks
      |                                    ^~~~~~~~~~~~~~~~~~~
kern/mach_host.server.c:1542:36: warning: redundant redeclaration of ‘processor_set_tasks’ [-Wredundant-decls]
./kern/processor.h:338:22: note: previous declaration of ‘processor_set_tasks’ with type ‘kern_return_t(struct processor_set *, mach_port_t **, natural_t *)’ {aka ‘int(struct processor_set *, long unsigned int **, unsigned int *)’}
  338 | extern kern_return_t processor_set_tasks(
      |                      ^~~~~~~~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xprocessor_set_threads’:
kern/mach_host.server.c:1611:36: warning: nested extern declaration of ‘processor_set_threads’ [-Wnested-externs]
 1611 |         mig_external kern_return_t processor_set_threads
      |                                    ^~~~~~~~~~~~~~~~~~~~~
kern/mach_host.server.c:1611:36: warning: redundant redeclaration of ‘processor_set_threads’ [-Wredundant-decls]
./kern/processor.h:343:22: note: previous declaration of ‘processor_set_threads’ with type ‘kern_return_t(struct processor_set *, mach_port_t **, natural_t *)’ {aka ‘int(struct processor_set *, long unsigned int **, unsigned int *)’}
  343 | extern kern_return_t processor_set_threads(
      |                      ^~~~~~~~~~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xhost_processor_sets’:
kern/mach_host.server.c:1680:36: warning: nested extern declaration of ‘host_processor_sets’ [-Wnested-externs]
 1680 |         mig_external kern_return_t host_processor_sets
      |                                    ^~~~~~~~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xhost_processor_set_priv’:
kern/mach_host.server.c:1747:36: warning: nested extern declaration of ‘host_processor_set_priv’ [-Wnested-externs]
 1747 |         mig_external kern_return_t host_processor_set_priv
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xthread_depress_abort’:
kern/mach_host.server.c:1825:36: warning: nested extern declaration of ‘thread_depress_abort’ [-Wnested-externs]
 1825 |         mig_external kern_return_t thread_depress_abort
      |                                    ^~~~~~~~~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xhost_set_time’:
kern/mach_host.server.c:1870:36: warning: nested extern declaration of ‘host_set_time’ [-Wnested-externs]
 1870 |         mig_external kern_return_t host_set_time
      |                                    ^~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xhost_adjust_time’:
kern/mach_host.server.c:1928:36: warning: nested extern declaration of ‘host_adjust_time’ [-Wnested-externs]
 1928 |         mig_external kern_return_t host_adjust_time
      |                                    ^~~~~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xhost_get_time’:
kern/mach_host.server.c:2006:36: warning: nested extern declaration of ‘host_get_time’ [-Wnested-externs]
 2006 |         mig_external kern_return_t host_get_time
      |                                    ^~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xhost_reboot’:
kern/mach_host.server.c:2069:36: warning: nested extern declaration of ‘host_reboot’ [-Wnested-externs]
 2069 |         mig_external kern_return_t host_reboot
      |                                    ^~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xvm_wire’:
kern/mach_host.server.c:2134:36: warning: nested extern declaration of ‘vm_wire’ [-Wnested-externs]
 2134 |         mig_external kern_return_t vm_wire
      |                                    ^~~~~~~
kern/mach_host.server.c: In function ‘_Xthread_wire’:
kern/mach_host.server.c:2245:36: warning: nested extern declaration of ‘thread_wire’ [-Wnested-externs]
 2245 |         mig_external kern_return_t thread_wire
      |                                    ^~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xhost_info’:
kern/mach_host.server.c:2330:36: warning: nested extern declaration of ‘host_info’ [-Wnested-externs]
 2330 |         mig_external kern_return_t host_info
      |                                    ^~~~~~~~~
kern/mach_host.server.c: In function ‘_Xprocessor_info’:
kern/mach_host.server.c:2437:36: warning: nested extern declaration of ‘processor_info’ [-Wnested-externs]
 2437 |         mig_external kern_return_t processor_info
      |                                    ^~~~~~~~~~~~~~
kern/mach_host.server.c:2437:36: warning: redundant redeclaration of ‘processor_info’ [-Wredundant-decls]
./kern/processor.h:289:22: note: previous declaration of ‘processor_info’ with type ‘kern_return_t(struct processor *, int,  struct host **, integer_t *, natural_t *)’ {aka ‘int(struct processor *, int,  struct host **, int *, unsigned int *)’}
  289 | extern kern_return_t processor_info(
      |                      ^~~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xprocessor_set_info’:
kern/mach_host.server.c:2563:36: warning: nested extern declaration of ‘processor_set_info’ [-Wnested-externs]
 2563 |         mig_external kern_return_t processor_set_info
      |                                    ^~~~~~~~~~~~~~~~~~
kern/mach_host.server.c:2563:36: warning: redundant redeclaration of ‘processor_set_info’ [-Wredundant-decls]
./kern/processor.h:317:22: note: previous declaration of ‘processor_set_info’ with type ‘kern_return_t(struct processor_set *, int,  struct host **, integer_t *, natural_t *)’ {aka ‘int(struct processor_set *, int,  struct host **, int *, unsigned int *)’}
  317 | extern kern_return_t processor_set_info(
      |                      ^~~~~~~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xprocessor_control’:
kern/mach_host.server.c:2685:36: warning: nested extern declaration of ‘processor_control’ [-Wnested-externs]
 2685 |         mig_external kern_return_t processor_control
      |                                    ^~~~~~~~~~~~~~~~~
kern/mach_host.server.c:2685:36: warning: redundant redeclaration of ‘processor_control’ [-Wredundant-decls]
./kern/processor.h:302:22: note: previous declaration of ‘processor_control’ with type ‘kern_return_t(struct processor *, integer_t *, natural_t)’ {aka ‘int(struct processor *, int *, unsigned int)’}
  302 | extern kern_return_t processor_control(
      |                      ^~~~~~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xhost_get_time64’:
kern/mach_host.server.c:2743:36: warning: nested extern declaration of ‘host_get_time64’ [-Wnested-externs]
 2743 |         mig_external kern_return_t host_get_time64
      |                                    ^~~~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xhost_set_time64’:
kern/mach_host.server.c:2801:36: warning: nested extern declaration of ‘host_set_time64’ [-Wnested-externs]
 2801 |         mig_external kern_return_t host_set_time64
      |                                    ^~~~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xhost_adjust_time64’:
kern/mach_host.server.c:2859:36: warning: nested extern declaration of ‘host_adjust_time64’ [-Wnested-externs]
 2859 |         mig_external kern_return_t host_adjust_time64
      |                                    ^~~~~~~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xhost_get_kernel_version’:
kern/mach_host.server.c:2933:36: warning: nested extern declaration of ‘host_get_kernel_version’ [-Wnested-externs]
 2933 |         mig_external kern_return_t host_get_kernel_version
      |                                    ^~~~~~~~~~~~~~~~~~~~~~~
kern/mach_host.server.c: In function ‘_Xhost_get_uptime64’:
kern/mach_host.server.c:2991:36: warning: nested extern declaration of ‘host_get_uptime64’ [-Wnested-externs]
 2991 |         mig_external kern_return_t host_get_uptime64
      |                                    ^~~~~~~~~~~~~~~~~
depbase=`echo i386/i386/mach_i386.server.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT i386/i386/mach_i386.server.o -MD -MP -MF $depbase.Tpo -c -o i386/i386/mach_i386.server.o i386/i386/mach_i386.server.c &&\
mv -f $depbase.Tpo $depbase.Po
In file included from ./include/mach/task_info.h:39,
                 from ./include/mach/mach_types.h:45,
                 from ./include/mach/mig_support.h:38,
                 from i386/i386/mach_i386.server.c:12:
./include/mach/time_value.h: In function ‘convert_time_value_to_user’:
./include/mach/time_value.h:74:45: warning: conversion from ‘long_integer_t’ {aka ‘long int’} to ‘int’ may change value [-Wconversion]
   74 |         rpc_time_value_t user = {.seconds = tv.seconds, .microseconds = tv.microseconds};
      |                                             ^~
In file included from ./kern/rbtree.h:58,
                 from ./kern/slab.h:54,
                 from ./ipc/ipc_object.h:42,
                 from ./ipc/ipc_kmsg.h:44,
                 from ./kern/ipc_kobject.h:44,
                 from ./ipc/ipc_port.h:47,
                 from i386/i386/mach_i386.server.c:13:
./kern/rbtree_i.h: In function ‘rbtree_slot’:
./kern/rbtree_i.h:119:34: warning: conversion to ‘long unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
  119 |     return (unsigned long)parent | index;
      |                                  ^
In file included from ./i386/i386/gdt.h:36,
                 from ./i386/i386/proc_reg.h:78,
                 from ./i386/intel/pmap.h:45,
                 from ./machine/pmap.h:27,
                 from ./vm/pmap.h:41,
                 from ./vm/vm_map.h:51,
                 from ./ipc/ipc_kmsg.h:46:
./i386/i386/seg.h: In function ‘fill_descriptor’:
./i386/i386/seg.h:204:28: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char:4’ may change value [-Wconversion]
  204 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:205:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  205 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:206:27: warning: conversion from ‘vm_offset_t’ {aka ‘long unsigned int’} to ‘unsigned char’ may change value [-Wconversion]
  206 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h: In function ‘fill_descriptor64’:
./i386/i386/seg.h:241:28: warning: conversion from ‘unsigned int’ to ‘unsigned char:4’ may change value [-Wconversion]
  241 |         desc->limit_high = limit >> 16;
      |                            ^~~~~
./i386/i386/seg.h:242:29: warning: conversion from ‘unsigned char’ to ‘unsigned char:4’ may change value [-Wconversion]
  242 |         desc->granularity = sizebits;
      |                             ^~~~~~~~
./i386/i386/seg.h:243:27: warning: conversion from ‘long unsigned int’ to ‘unsigned char’ may change value [-Wconversion]
  243 |         desc->base_high = base >> 24;
      |                           ^~~~
./i386/i386/seg.h:244:26: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  244 |         desc->base_ext = base >> 32;
      |                          ^~~~
./i386/i386/seg.h: In function ‘fill_gate’:
./i386/i386/seg.h:275:28: warning: conversion from ‘long unsigned int’ to ‘unsigned int’ may change value [-Wconversion]
  275 |         gate->offset_ext = offset >> 32;
      |                            ^~~~~~
In file included from ./vm/vm_page.h:45,
                 from ./vm/vm_map.h:53:
./kern/log2.h: In function ‘ilog2’:
./kern/log2.h:36:41: warning: conversion to ‘unsigned int’ from ‘int’ may change the sign of the result [-Wsign-conversion]
   36 |     return LONG_BIT - __builtin_clzl(x) - 1;
      |                                         ^
./vm/vm_page.h: In function ‘vm_page_order’:
./kern/macros.h:60:37: warning: unsigned conversion from ‘int’ to ‘size_t’ {aka ‘long unsigned int’} changes value from ‘-4096’ to ‘18446744073709547520’ [-Wsign-conversion]
   60 | #define P2ROUND(x, a)       (-(-(x) & -(a)))
      |                                     ^
./vm/vm_page.h:329:35: note: in definition of macro ‘vm_page_atop’
  329 | #define vm_page_atop(addr)      ((addr) >> PAGE_SHIFT)
      |                                   ^~~~
./vm/vm_page.h:332:33: note: in expansion of macro ‘P2ROUND’
  332 | #define vm_page_round(addr)     P2ROUND(addr, PAGE_SIZE)
      |                                 ^~~~~~~
./vm/vm_page.h:380:33: note: in expansion of macro ‘vm_page_round’
  380 |     return iorder2(vm_page_atop(vm_page_round(size)));
      |                                 ^~~~~~~~~~~~~
./ipc/ipc_port.h: In function ‘ipc_port_flag_protected_payload_clear’:
./ipc/ipc_port.h:351:44: warning: unsigned conversion from ‘int’ to ‘ipc_object_bits_t’ {aka ‘unsigned int’} changes value from ‘-1073741825’ to ‘3221225471’ [-Wsign-conversion]
  351 |         port->ip_target.ipt_object.io_bits &= ~IO_BITS_PROTECTED_PAYLOAD;
      |                                            ^~
In file included from i386/i386/mach_i386.server.c:46:
./kern/ipc_tt.h: At top level:
./kern/ipc_tt.h:69:1: warning: redundant redeclaration of ‘task_deallocate’ [-Wredundant-decls]
   69 | task_deallocate(task_t);
      | ^~~~~~~~~~~~~~~
In file included from ./kern/thread.h:53,
                 from ./vm/pmap.h:45:
./kern/task.h:189:25: note: previous declaration of ‘task_deallocate’ with type ‘void(struct task *)’
  189 | extern void             task_deallocate(task_t);
      |                         ^~~~~~~~~~~~~~~
./kern/ipc_tt.h:78:1: warning: redundant redeclaration of ‘thread_deallocate’ [-Wredundant-decls]
   78 | thread_deallocate(thread_t);
      | ^~~~~~~~~~~~~~~~~
./kern/thread.h:376:25: note: previous declaration of ‘thread_deallocate’ with type ‘void(struct thread *)’
  376 | extern void             thread_deallocate(thread_t);
      |                         ^~~~~~~~~~~~~~~~~
In file included from ./kern/assert.h:32,
                 from ./mach/machine/vm_types.h:43,
                 from ./include/mach/port.h:39,
                 from ./include/mach/message.h:36,
                 from i386/i386/mach_i386.server.c:10:
./ipc/ipc_space.h: In function ‘ipc_entry_get’:
./ipc/ipc_space.h:215:37: warning: unsigned conversion from ‘int’ to ‘ipc_entry_bits_t’ {aka ‘unsigned int’} changes value from ‘-1’ to ‘4294967295’ [-Wsign-conversion]
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |                                     ^
./kern/macros.h:71:49: note: in definition of macro ‘likely’
   71 | #define likely(expr)        __builtin_expect(!!(expr), 1)
      |                                                 ^~~~
./ipc/ipc_space.h:215:9: note: in expansion of macro ‘assert’
  215 |         assert((free_entry->ie_bits &~ IE_BITS_GEN_MASK) == 0);
      |         ^~~~~~
In file included from i386/i386/mach_i386.server.c:54:
./ipc/ipc_space.h: In function ‘ipc_reverse_insert’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:289:47: note: in expansion of macro ‘KEY’
  289 |                                               KEY(obj), entry);
      |                                               ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_remove’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:300:55: note: in expansion of macro ‘KEY’
  300 |         return rdxtree_remove(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
./ipc/ipc_space.h: In function ‘ipc_reverse_lookup’:
./ipc/ipc_space.h:273:10: warning: conversion from ‘long long unsigned int’ to ‘rdxtree_key_t’ {aka ‘unsigned int’} may change value [-Wconversion]
  273 |         ({                                                              \
      |         ~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  274 |                 assert((((unsigned long) (X)) & 0x07) == 0);            \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  275 |                 ((unsigned long long)                                   \
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  276 |                  (((unsigned long) (X) - VM_MIN_KERNEL_ADDRESS) >> 3)); \
      |                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  277 |         })
      |         ~~
./ipc/ipc_space.h:323:55: note: in expansion of macro ‘KEY’
  323 |         return rdxtree_lookup(&space->is_reverse_map, KEY(obj));
      |                                                       ^~~
i386/i386/mach_i386.server.c: In function ‘_Xi386_set_ldt’:
i386/i386/mach_i386.server.c:84:36: warning: nested extern declaration of ‘i386_set_ldt’ [-Wnested-externs]
   84 |         mig_external kern_return_t i386_set_ldt
      |                                    ^~~~~~~~~~~~
i386/i386/mach_i386.server.c: In function ‘_Xi386_get_ldt’:
i386/i386/mach_i386.server.c:176:36: warning: nested extern declaration of ‘i386_get_ldt’ [-Wnested-externs]
  176 |         mig_external kern_return_t i386_get_ldt
      |                                    ^~~~~~~~~~~~
i386/i386/mach_i386.server.c: In function ‘_Xi386_io_perm_create’:
i386/i386/mach_i386.server.c:297:36: warning: nested extern declaration of ‘i386_io_perm_create’ [-Wnested-externs]
  297 |         mig_external kern_return_t i386_io_perm_create
      |                                    ^~~~~~~~~~~~~~~~~~~
i386/i386/mach_i386.server.c: In function ‘_Xi386_io_perm_modify’:
i386/i386/mach_i386.server.c:395:36: warning: nested extern declaration of ‘i386_io_perm_modify’ [-Wnested-externs]
  395 |         mig_external kern_return_t i386_io_perm_modify
      |                                    ^~~~~~~~~~~~~~~~~~~
i386/i386/mach_i386.server.c: In function ‘_Xi386_set_gdt’:
i386/i386/mach_i386.server.c:481:36: warning: nested extern declaration of ‘i386_set_gdt’ [-Wnested-externs]
  481 |         mig_external kern_return_t i386_set_gdt
      |                                    ^~~~~~~~~~~~
i386/i386/mach_i386.server.c: In function ‘_Xi386_get_gdt’:
i386/i386/mach_i386.server.c:580:36: warning: nested extern declaration of ‘i386_get_gdt’ [-Wnested-externs]
  580 |         mig_external kern_return_t i386_get_gdt
      |                                    ^~~~~~~~~~~~
i386/i386/mach_i386.server.c: In function ‘_Xi386_get_xstate_size’:
i386/i386/mach_i386.server.c:660:36: warning: nested extern declaration of ‘i386_get_xstate_size’ [-Wnested-externs]
  660 |         mig_external kern_return_t i386_get_xstate_size
      |                                    ^~~~~~~~~~~~~~~~~~~~
rm -f libkernel.a
ar cru libkernel.a  ipc/copy_user.o ipc/ipc_entry.o ipc/ipc_init.o ipc/ipc_kmsg.o ipc/ipc_marequest.o ipc/ipc_mqueue.o ipc/ipc_notify.o ipc/ipc_object.o ipc/ipc_port.o ipc/ipc_pset.o ipc/ipc_right.o ipc/ipc_space.o ipc/ipc_table.o ipc/ipc_target.o ipc/ipc_thread.o ipc/mach_msg.o ipc/mach_port.o ipc/mach_debug.o kern/act.o kern/ast.o kern/bootstrap.o kern/counters.o kern/debug.o kern/eventcount.o kern/exception.o kern/gsync.o kern/host.o kern/ipc_host.o kern/ipc_kobject.o kern/ipc_mig.o kern/ipc_sched.o kern/ipc_tt.o kern/kalloc_enhanced.o kern/kmutex.o kern/lock.o kern/lock_mon.o kern/mach_clock.o kern/mach_factor.o kern/machine.o kern/mem_optimize.o kern/mem_track.o kern/pc_sample.o kern/printf.o kern/priority.o kern/processor.o kern/profile.o kern/queue.o kern/rbtree.o kern/rdxtree.o kern/slab.o kern/smp.o kern/smp_lock.o kern/smp_sched.o kern/sched_prim.o kern/startup.o kern/strings.o kern/syscall_emulation.o kern/syscall_subr.o kern/syscall_sw.o kern/task.o kern/thread.o kern/thread_swap.o kern/timer.o kern/xpr.o kern/elf-load.o kern/boot_script.o util/atoi.o util/byteorder.o vm/memory_object_proxy.o vm/memory_object.o vm/vm_block_cache.o vm/vm_compress.o vm/vm_debug.o vm/vm_external.o vm/vm_fault.o vm/vm_init.o vm/vm_kern.o vm/vm_map.o vm/vm_object.o vm/vm_object_verify.o vm/vm_page.o vm/vm_pageout.o vm/vm_resident.o vm/vm_user.o device/blkio.o device/chario.o device/cons.o device/dev_lookup.o device/dev_name.o device/dev_pager.o device/device_init.o device/ds_routines.o device/intr.o device/net_io.o device/subrs.o device/kmsg.o   i386/i386/ast_check.o i386/i386/db_disasm.o i386/i386/db_interface.o i386/i386/db_trace.o i386/i386/debug_i386.o i386/i386/fpu.o i386/i386/gdt.o i386/i386/idt.o i386/i386/io_perm.o i386/i386/ktss.o i386/i386/kttd_interface.o i386/i386/ldt.o i386/i386/loose_ends.o i386/i386/machine_task.o i386/i386/mp_desc.o i386/i386/pcb.o i386/i386/phys.o i386/i386/smp.o i386/i386/strings.o i386/i386/trap.o i386/i386/user_ldt.o i386/intel/pmap.o i386/intel/read_fault.o           i386/i386at/acpi_parse_apic.o i386/i386at/autoconf.o i386/i386at/biosmem.o i386/i386at/conf.o i386/i386at/cons_conf.o i386/i386at/model_dep.o x86_64/boothdr.o i386/i386at/com.o i386/i386at/immc.o i386/i386at/int_init.o x86_64/interrupt.o i386/i386at/kd.o i386/i386at/kd_event.o i386/i386at/kd_queue.o i386/i386at/kd_mouse.o x86_64/kdasm.o i386/i386at/mbinfo.o i386/i386at/mem.o i386/i386at/rtc.o  i386/i386/percpu.o x86_64/cswitch.o x86_64/debug_trace.o x86_64/idt_inittab.o x86_64/locore.o x86_64/spl.o i386/i386/apic.o i386/i386/hardclock.o i386/i386/irq.o i386/i386/pit.o  i386/i386/pic.o i386/i386at/pic_isa.o  chips/busses.o device/cirbuf.o  version.o vm/memory_object_user.user.o vm/memory_object_default.user.o device/device_reply.user.o device/memory_object_reply.user.o kern/task_notify.user.o device/device.server.o device/device_pager.server.o ipc/mach_port.server.o kern/mach.server.o kern/mach4.server.o kern/gnumach.server.o kern/experimental.server.o kern/mach_debug.server.o kern/mach_host.server.o  i386/i386/mach_i386.server.o 
ar: `u' modifier ignored since `D' is the default (see `U')
ranlib libkernel.a
ld  -u _start -r -o gnumach.o  libkernel.a   
ld: warning: idt_inittab.o: missing .note.GNU-stack section implies executable stack
ld: NOTE: This behaviour is deprecated and will be removed in a future version of the linker
nm -u gnumach.o | sed 's/  *U  *//' | sort -u > gnumach-undef
sed '/^udivdi3$/d; /^__udivdi3$/d; /^__udivmoddi4$/d; /^__umoddi3$/d; /^__divdi3$/d; /^__divmoddi4$/d; /^__moddi3$/d; /^__ffsdi2$/d; /^__rel_iplt_start$/d; /^__rel_iplt_end$/d; /^__rela_iplt_start$/d; /^__rela_iplt_end$/d; /^_START$/d; /^etext$/d; /^_edata$/d; /^_end$/d;' gnumach-undef > gnumach-undef-bad
if test -s gnumach-undef-bad; \
then cat gnumach-undef-bad; exit 2; else true; fi
gcc  -r -static \
  -o libgcc-routines.o `sed 's/^/-Wl,-u,/' < gnumach-undef` -x c /dev/null -lgcc
ld     --defsym _START_MAP=0x1000000 --defsym _START=0x1000000 --defsym KERNEL_MAP_SHIFT=0xffffffff80000000 -z max-page-size=0x1000 -T '.'/x86_64/ldscript  -o gnumach  gnumach.o libgcc-routines.o 
ld: warning: gnumach.o: requires executable stack (because the .note.GNU-stack section is executable)
rm -f ipc/notify.none.defs.c
cp -p ipc/notify.defs ipc/notify.none.defs.c
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa -E  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT ipc/lib_dep_tr_for_defs_a-notify.none.defs.o -MD -MP -MF ipc/.deps/lib_dep_tr_for_defs_a-notify.none.defs.Tpo -c -o ipc/lib_dep_tr_for_defs_a-notify.none.defs.o `test -f 'ipc/notify.none.defs.c' || echo './'`ipc/notify.none.defs.c
mv -f ipc/.deps/lib_dep_tr_for_defs_a-notify.none.defs.Tpo ipc/.deps/lib_dep_tr_for_defs_a-notify.none.defs.Po
rm -f kern/exc.none.defs.c
cp -p kern/exc.defs kern/exc.none.defs.c
gcc -DHAVE_CONFIG_H -I.  -nostdinc -imacros config.h -I /usr/lib/gcc/x86_64-linux-gnu/13//include -Ix86_64 -I. -I./x86_64 -I./x86_64/include/mach/sa -I./include -I./i386 -I./i386/i386 -I./i386/include/mach/sa -E  -fno-builtin-log  -Wall -Wextra -Wstrict-prototypes -Wold-style-definition -Wmissing-prototypes -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Wredundant-decls -Wnested-externs -Winline -Wno-long-long -Wuninitialized -Wconversion -Wstrict-overflow=2  -fgnu89-inline -fstrict-aliasing -Wstrict-aliasing=2 -ffreestanding -nostdlib -fno-stack-protector -DRDXTREE_KEY_32 -g -O2   -mno-red-zone -mcmodel=kernel -mno-3dnow -mno-mmx -mno-sse -mno-sse2 -no-pie -fno-PIE -fno-pie -fno-pic -D_START_MAP=0x1000000 -DKERNEL_MAP_BASE=0xffffffff80000000 -g -O2 -ffreestanding -nostdlib -g -O2 -Wall -Wextra -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wformat=2 -Wformat-security -Wold-style-definition -Wno-unused-parameter -Wno-sign-compare -MT kern/lib_dep_tr_for_defs_a-exc.none.defs.o -MD -MP -MF kern/.deps/lib_dep_tr_for_defs_a-exc.none.defs.Tpo -c -o kern/lib_dep_tr_for_defs_a-exc.none.defs.o `test -f 'kern/exc.none.defs.c' || echo './'`kern/exc.none.defs.c
mv -f kern/.deps/lib_dep_tr_for_defs_a-exc.none.defs.Tpo kern/.deps/lib_dep_tr_for_defs_a-exc.none.defs.Po
rm -f lib_dep_tr_for_defs.a
ar cru lib_dep_tr_for_defs.a vm/lib_dep_tr_for_defs_a-memory_object_user.user.defs.o vm/lib_dep_tr_for_defs_a-memory_object_default.user.defs.o device/lib_dep_tr_for_defs_a-device_reply.user.defs.o device/lib_dep_tr_for_defs_a-memory_object_reply.user.defs.o kern/lib_dep_tr_for_defs_a-task_notify.user.defs.o device/lib_dep_tr_for_defs_a-device.server.defs.o device/lib_dep_tr_for_defs_a-device_pager.server.defs.o ipc/lib_dep_tr_for_defs_a-mach_port.server.defs.o kern/lib_dep_tr_for_defs_a-mach.server.defs.o kern/lib_dep_tr_for_defs_a-mach4.server.defs.o kern/lib_dep_tr_for_defs_a-gnumach.server.defs.o kern/lib_dep_tr_for_defs_a-experimental.server.defs.o kern/lib_dep_tr_for_defs_a-mach_debug.server.defs.o kern/lib_dep_tr_for_defs_a-mach_host.server.defs.o ipc/lib_dep_tr_for_defs_a-notify.none.defs.o kern/lib_dep_tr_for_defs_a-exc.none.defs.o  i386/i386/lib_dep_tr_for_defs_a-mach_i386.server.defs.o 
ar: `u' modifier ignored since `D' is the default (see `U')
ranlib lib_dep_tr_for_defs.a
/home/runner/work/cognu-mach/cognu-mach/scripts/mig-wrapper.sh -n -cc cat - /dev/null 			\
  -list ipc/notify.none.msgids					\
  < ipc/lib_dep_tr_for_defs_a-notify.none.defs.o
/home/runner/work/cognu-mach/cognu-mach/scripts/mig-wrapper.sh -n -cc cat - /dev/null 			\
  -list kern/exc.none.msgids					\
  < kern/lib_dep_tr_for_defs_a-exc.none.defs.o
cat vm/memory_object_user.user.msgids vm/memory_object_default.user.msgids device/device_reply.user.msgids device/memory_object_reply.user.msgids kern/task_notify.user.msgids device/device.server.msgids device/device_pager.server.msgids ipc/mach_port.server.msgids kern/mach.server.msgids kern/mach4.server.msgids kern/gnumach.server.msgids kern/experimental.server.msgids kern/mach_debug.server.msgids kern/mach_host.server.msgids ipc/notify.none.msgids kern/exc.none.msgids i386/i386/mach_i386.server.msgids > gnumach.msgids.new
mv gnumach.msgids.new gnumach.msgids
rm i386/i386/i386asm.symc.o
make[2]: Leaving directory '/home/runner/work/cognu-mach/cognu-mach'
make[1]: Leaving directory '/home/runner/work/cognu-mach/cognu-mach'
